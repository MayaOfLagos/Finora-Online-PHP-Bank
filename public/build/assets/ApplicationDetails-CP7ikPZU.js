import{g as c,w as r,a as t,d as p,c as u,t as a,u as n,o as l,i as g,b as _,n as D,F as A,r as j,q as B}from"./app-BLHQorN0.js";import{_ as R}from"./DashboardLayout-BPFd0oL_.js";import{s as x}from"./index-CUhnoB9R.js";import{a as M}from"./index-CcXiG-2M.js";import{s as N}from"./index-fegyj4qc.js";import{s as C}from"./index-CNn5cazt.js";import{s as m}from"./index-DTBQmR1N.js";/* empty css            */import"./index-DwU9h54V.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const S={class:"space-y-6"},U={class:"flex items-center justify-between"},$={class:"text-gray-600 dark:text-gray-400 mt-1"},F={class:"text-sm text-gray-900 dark:text-gray-100"},z={class:"text-sm text-gray-900 dark:text-gray-100"},V={class:"text-sm text-gray-900 dark:text-gray-100"},T={class:"bg-gradient-to-r from-indigo-500 to-blue-600 p-6 text-white"},q={class:"flex items-start justify-between"},I={class:"text-xl font-bold"},P={class:"text-indigo-100 mt-1"},E={class:"grid gap-4 md:grid-cols-4"},G={class:"p-4 rounded-lg bg-gray-50 dark:bg-gray-800"},K={class:"text-2xl font-bold text-gray-900 dark:text-white mt-2"},L={class:"p-4 rounded-lg bg-gray-50 dark:bg-gray-800"},O={class:"text-lg font-bold text-gray-900 dark:text-white mt-2"},W={class:"p-4 rounded-lg bg-gray-50 dark:bg-gray-800"},Y={class:"text-lg font-bold text-gray-900 dark:text-white mt-2"},H={key:0,class:"p-4 rounded-lg bg-green-50 dark:bg-green-900/30"},J={class:"text-2xl font-bold text-green-900 dark:text-green-200 mt-2"},Q={class:"flex items-center gap-2"},X={class:"font-semibold text-gray-900 dark:text-white"},Z={class:"text-sm text-gray-600 dark:text-gray-400"},tt={class:"space-y-2"},et={class:"flex items-center gap-3 flex-1"},st={class:"flex-1"},at={class:"text-sm font-medium text-gray-900 dark:text-white truncate"},it={class:"text-xs text-gray-500 dark:text-gray-400"},rt=["href"],nt={key:5,class:"p-8 text-center bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700"},bt={__name:"ApplicationDetails",props:{application:{type:Object,required:!0}},setup(s){var b;const o=s,k={Pending:"warning","Under Review":"info",Approved:"success",Rejected:"danger",Disbursed:"success"},y=d=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(d),v=d=>{if(d==null)return"â€”";if(d===0)return"0 Bytes";const e=1024,i=["Bytes","KB","MB"],f=Math.floor(Math.log(d)/Math.log(e));return Math.round(d/Math.pow(e,f)*100)/100+" "+i[f]},h=()=>{B.visit("/grants/applications")},w=[{status:"Pending",date:o.application.created_at,icon:"pi pi-file"},...o.application.status==="Under Review"||["Approved","Rejected","Disbursed"].includes(o.application.status)?[{status:"Under Review",date:"In Progress",icon:"pi pi-clock"}]:[],...o.application.status==="Approved"||o.application.status==="Disbursed"?[{status:"Approved",date:o.application.approved_at,icon:"pi pi-check"}]:[],...o.application.status==="Rejected"?[{status:"Rejected",date:o.application.approved_at,icon:"pi pi-times"}]:[],...o.application.status==="Disbursed"?[{status:"Disbursed",date:(b=o.application.disbursement)==null?void 0:b.disbursement_date,icon:"pi pi-money-bill"}]:[]];return(d,e)=>(l(),c(R,{title:"Application Details"},{default:r(()=>[t("div",S,[t("div",U,[t("div",null,[e[0]||(e[0]=t("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Application Details",-1)),t("p",$,"Reference: "+a(s.application.reference_number),1)]),p(n(M),{label:"Back to Applications",severity:"secondary",icon:"pi pi-arrow-left",onClick:h})]),s.application.status==="Rejected"?(l(),c(n(m),{key:0,severity:"error"},{default:r(()=>[t("p",F,[e[1]||(e[1]=t("strong",null,"Application Rejected",-1)),e[2]||(e[2]=t("br",null,null,-1)),g(" "+a(s.application.rejection_reason||"No reason provided"),1)])]),_:1})):s.application.status==="Approved"?(l(),c(n(m),{key:1,severity:"success"},{default:r(()=>[...e[3]||(e[3]=[t("p",{class:"text-sm text-gray-900 dark:text-gray-100"},[t("strong",null,"Congratulations!"),g(" Your application has been approved. The grant amount will be disbursed to your account. ")],-1)])]),_:1})):s.application.status==="Disbursed"?(l(),c(n(m),{key:2,severity:"success"},{default:r(()=>{var i;return[t("p",z,[e[4]||(e[4]=t("strong",null,"Funds Disbursed",-1)),g(" on "+a((i=s.application.disbursement)==null?void 0:i.disbursement_date),1)])]}),_:1})):(l(),c(n(m),{key:3,severity:"info"},{default:r(()=>[t("p",V,[e[5]||(e[5]=t("strong",null,"Application Status:",-1)),g(" "+a(s.application.status)+". We are reviewing your application and will notify you of the outcome. ",1)])]),_:1})),p(n(x),null,{header:r(()=>[t("div",T,[t("div",q,[t("div",null,[t("h3",I,a(s.application.grant_program.name),1),t("p",P,a(s.application.grant_program.description),1)]),p(n(N),{value:s.application.status_label,severity:k[s.application.status],class:"text-sm"},null,8,["value","severity"])])])]),content:r(()=>[t("div",E,[t("div",G,[e[6]||(e[6]=t("p",{class:"text-xs text-gray-600 dark:text-gray-400"},"Grant Amount",-1)),t("p",K,a(y(s.application.grant_program.amount_display)),1)]),t("div",L,[e[7]||(e[7]=t("p",{class:"text-xs text-gray-600 dark:text-gray-400"},"Application Date",-1)),t("p",O,a(s.application.created_at),1)]),t("div",W,[e[8]||(e[8]=t("p",{class:"text-xs text-gray-600 dark:text-gray-400"},"Decision Date",-1)),t("p",Y,a(s.application.approved_at||"Pending"),1)]),s.application.disbursement?(l(),u("div",H,[e[9]||(e[9]=t("p",{class:"text-xs text-green-600 dark:text-green-400"},"Disbursed Amount",-1)),t("p",J,a(y(s.application.disbursement.amount_display)),1)])):_("",!0)])]),_:1}),p(n(x),null,{content:r(()=>[e[10]||(e[10]=t("h4",{class:"font-bold text-gray-900 dark:text-white mb-4"},"Application Timeline",-1)),p(n(C),{value:w,layout:"vertical",align:"left",class:"custom-timeline"},{content:r(i=>[p(n(x),{class:"mb-3",style:{width:"100%"}},{content:r(()=>[t("div",Q,[t("i",{class:D(i.item.icon)},null,2),t("div",null,[t("p",X,a(i.item.status),1),t("p",Z,a(i.item.date),1)])])]),_:2},1024)]),_:1})]),_:1}),s.application.documents&&s.application.documents.length>0?(l(),c(n(x),{key:4},{content:r(()=>[e[13]||(e[13]=t("h4",{class:"font-bold text-gray-900 dark:text-white mb-4"},"Uploaded Documents",-1)),t("div",tt,[(l(!0),u(A,null,j(s.application.documents,i=>(l(),u("div",{key:i.id,class:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg border border-gray-200 dark:border-gray-600"},[t("div",et,[e[11]||(e[11]=t("i",{class:"pi pi-file text-blue-500"},null,-1)),t("div",st,[t("p",at,a(i.file_name),1),t("p",it,a(v(i.file_size)),1)])]),t("a",{href:`/storage/${i.file_path}`,target:"_blank",rel:"noopener noreferrer",class:"flex items-center justify-center w-10 h-10 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-lg transition-colors",title:"Download document"},[...e[12]||(e[12]=[t("i",{class:"pi pi-download text-lg"},null,-1)])],8,rt)]))),128))])]),_:1})):(l(),u("div",nt,[...e[14]||(e[14]=[t("i",{class:"pi pi-inbox text-4xl text-gray-300 dark:text-gray-600 mb-3"},null,-1),t("p",{class:"text-gray-600 dark:text-gray-400"},"No documents uploaded",-1)])]))])]),_:1}))}};export{bt as default};
