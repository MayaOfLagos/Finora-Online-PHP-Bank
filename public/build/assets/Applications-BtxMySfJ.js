import{m as C,h as L,w as i,a as t,d as l,u as o,t as r,i as v,g as j,j as g,c as u,b as c,o as p,q as h}from"./app-BjaxxZ7O.js";import{_ as D}from"./DashboardLayout-HD1C8l1p.js";import{s as N,a as n}from"./index-Bthjnvb8.js";import{a as b}from"./index-DGOS16U4.js";import{s as w}from"./index-BbacQOXH.js";import{s as T}from"./index-CzKaZtIa.js";import{s as V}from"./index-CVn_nar1.js";/* empty css            */import"./index-EZhQ_EAi.js";import"./index-Bn5T09W4.js";import"./index-E1Ky1ubM.js";import"./index-BohClU6u.js";import"./index-CyAg436m.js";import"./AppLogo-IkFWusmi.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-BmPzHhs-.js";import"./index-CRbL7H0x.js";import"./index-C0MnYuo0.js";import"./index-DK80BzWa.js";import"./index-BXSFsOkN.js";import"./index-CAaBtxam.js";import"./index-DE9_-vr0.js";const S={class:"space-y-6"},R={class:"flex justify-between items-center"},B={class:"text-center py-8 text-gray-500"},O={class:"font-mono text-sm font-semibold"},P={class:"font-medium"},M={class:"font-semibold"},U={class:"text-sm"},z={key:0,class:"space-y-4"},I={class:"grid grid-cols-2 gap-4"},q={class:"mt-1"},E={class:"font-semibold mt-1"},F={class:"font-semibold text-lg mt-1"},H={class:"font-semibold mt-1"},K={class:"font-semibold text-blue-600 mt-1"},Y={class:"font-semibold mt-1"},G={class:"font-semibold mt-1"},J={class:"font-semibold mt-1"},Q={key:0},W={class:"mt-1 text-gray-800"},X={key:1},Z={class:"mt-1 text-green-600 font-semibold"},tt={key:2,class:"bg-red-50 border border-red-200 rounded-lg p-4"},et={class:"mt-1 text-red-700"},st={key:3,class:"bg-green-50 border border-green-200 rounded-lg p-4"},Ct={__name:"Applications",props:{applications:Object},setup(k){const a=g(null),y=g(!1),m=d=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(d),_=d=>({pending:"warning",under_review:"info",approved:"success",rejected:"danger",disbursed:"success",active:"primary",closed:"contrast",defaulted:"danger"})[d]||"info",A=d=>{a.value=d,y.value=!0},f=()=>{h.visit("/loans/programs")};return(d,e)=>{const $=C("tooltip");return p(),L(D,{title:"My Loan Applications"},{default:i(()=>{var x;return[t("div",S,[t("div",R,[e[2]||(e[2]=t("div",null,[t("h2",{class:"text-2xl font-bold text-gray-900"},"Loan Applications"),t("p",{class:"text-gray-600 mt-1"},"Track your loan application status")],-1)),l(o(b),{label:"Apply for New Loan",icon:"pi pi-plus",onClick:f})]),l(o(T),null,{content:i(()=>[l(o(N),{value:k.applications.data,paginator:!0,rows:10,dataKey:"id",rowHover:!0,class:"p-datatable-sm"},{empty:i(()=>[t("div",B,[e[3]||(e[3]=t("i",{class:"pi pi-inbox text-4xl mb-3"},null,-1)),e[4]||(e[4]=t("p",null,"No loan applications found",-1)),l(o(b),{label:"Apply for a Loan",icon:"pi pi-plus",class:"mt-4",onClick:f})])]),default:i(()=>[l(o(n),{field:"reference_number",header:"Reference",sortable:!0},{body:i(s=>[t("div",O,r(s.data.reference_number),1)]),_:1}),l(o(n),{field:"loan_type",header:"Loan Type",sortable:!0},{body:i(s=>[t("div",P,r(s.data.loan_type),1)]),_:1}),l(o(n),{field:"amount",header:"Amount",sortable:!0},{body:i(s=>[t("div",M,r(m(s.data.amount)),1)]),_:1}),l(o(n),{field:"term_months",header:"Term",sortable:!0},{body:i(s=>[v(r(s.data.term_months)+" months ",1)]),_:1}),l(o(n),{field:"interest_rate",header:"Rate",sortable:!0},{body:i(s=>[v(r(s.data.interest_rate)+"% ",1)]),_:1}),l(o(n),{field:"monthly_payment",header:"Monthly Payment",sortable:!0},{body:i(s=>[v(r(m(s.data.monthly_payment)),1)]),_:1}),l(o(n),{field:"status",header:"Status",sortable:!0},{body:i(s=>[l(o(w),{value:s.data.status_label,severity:_(s.data.status)},null,8,["value","severity"])]),_:1}),l(o(n),{field:"created_at",header:"Applied On",sortable:!0},{body:i(s=>[t("div",U,r(s.data.created_at),1)]),_:1}),l(o(n),{header:"Actions",exportable:!1},{body:i(s=>[j(l(o(b),{icon:"pi pi-eye",size:"small",text:"",rounded:"",severity:"info",onClick:at=>A(s.data)},null,8,["onClick"]),[[$,"View Details",void 0,{top:!0}]])]),_:1})]),_:1},8,["value"])]),_:1})]),l(o(V),{visible:y.value,"onUpdate:visible":e[1]||(e[1]=s=>y.value=s),modal:"",header:`Application ${(x=a.value)==null?void 0:x.reference_number}`,style:{width:"50rem"},breakpoints:{"960px":"75vw","640px":"90vw"}},{default:i(()=>[a.value?(p(),u("div",z,[t("div",I,[t("div",null,[e[5]||(e[5]=t("label",{class:"text-sm text-gray-600"},"Status",-1)),t("div",q,[l(o(w),{value:a.value.status_label,severity:_(a.value.status)},null,8,["value","severity"])])]),t("div",null,[e[6]||(e[6]=t("label",{class:"text-sm text-gray-600"},"Loan Type",-1)),t("p",E,r(a.value.loan_type),1)]),t("div",null,[e[7]||(e[7]=t("label",{class:"text-sm text-gray-600"},"Loan Amount",-1)),t("p",F,r(m(a.value.amount)),1)]),t("div",null,[e[8]||(e[8]=t("label",{class:"text-sm text-gray-600"},"Term",-1)),t("p",H,r(a.value.term_months)+" months",1)]),t("div",null,[e[9]||(e[9]=t("label",{class:"text-sm text-gray-600"},"Interest Rate",-1)),t("p",K,r(a.value.interest_rate)+"%",1)]),t("div",null,[e[10]||(e[10]=t("label",{class:"text-sm text-gray-600"},"Monthly Payment",-1)),t("p",Y,r(m(a.value.monthly_payment)),1)]),t("div",null,[e[11]||(e[11]=t("label",{class:"text-sm text-gray-600"},"Total Payable",-1)),t("p",G,r(m(a.value.total_payable)),1)]),t("div",null,[e[12]||(e[12]=t("label",{class:"text-sm text-gray-600"},"Applied On",-1)),t("p",J,r(a.value.created_at),1)])]),a.value.purpose?(p(),u("div",Q,[e[13]||(e[13]=t("label",{class:"text-sm text-gray-600"},"Purpose",-1)),t("p",W,r(a.value.purpose),1)])):c("",!0),a.value.approved_at?(p(),u("div",X,[e[14]||(e[14]=t("label",{class:"text-sm text-gray-600"},"Approved On",-1)),t("p",Z,r(a.value.approved_at),1)])):c("",!0),a.value.rejection_reason?(p(),u("div",tt,[e[15]||(e[15]=t("label",{class:"text-sm font-semibold text-red-800"},"Rejection Reason",-1)),t("p",et,r(a.value.rejection_reason),1)])):c("",!0),a.value.loan_id?(p(),u("div",st,[e[16]||(e[16]=t("p",{class:"text-green-800"},[t("i",{class:"pi pi-check-circle mr-2"}),v(" Your loan has been disbursed and is now active. ")],-1)),l(o(b),{label:"View Loan Details",icon:"pi pi-arrow-right",size:"small",class:"mt-3",onClick:e[0]||(e[0]=s=>o(h).visit("/loans"))})])):c("",!0)])):c("",!0)]),_:1},8,["visible","header"])]}),_:1})}}};export{Ct as default};
