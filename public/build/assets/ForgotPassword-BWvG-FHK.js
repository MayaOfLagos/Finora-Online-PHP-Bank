import{f as F,s as V,c as l,o as n,d as s,w as p,g as S,a,j as h,u as e,q as x,b as _,x as E,n as R,t as w,i as k,v as $,T as j,F as T}from"./app-CXBRDXRL.js";import{u as K}from"./useToast-C5Rq2I1M.js";import{s as N}from"./index-DGF8Thhm.js";import{a as z}from"./index-BY5Pvyke.js";import{s as B,a as D}from"./index-DAuWDqao.js";import{s as o}from"./index-DlMiapOt.js";import{_ as L}from"./AppLogo-Ci3N4wRK.js";import{_ as q}from"./SeoHead-NKKR3rfk.js";import{_ as A}from"./CopyrightText-CEJNg7ya.js";import{R as I}from"./ReCaptcha-cZO_qFmC.js";import{P as M}from"./PagePreloader-BDYRUMCs.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css            */import"./index-BIWAly7n.js";const U={class:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50 flex items-center justify-center p-4 sm:p-6 lg:p-8"},Y={class:"w-full max-w-md"},G={key:0,class:"animate-pulse"},H={class:"text-center mb-8"},J={class:"inline-flex items-center justify-center"},Q={class:"bg-white/90 backdrop-blur-xl border border-gray-200/50 rounded-3xl p-8 space-y-6"},W={class:"mb-8"},X={key:1,class:"animate-fade-in"},Z={class:"text-center mb-8"},ee={class:"relative bg-white/90 backdrop-blur-xl border border-gray-200/50 rounded-3xl shadow-2xl shadow-primary-100/40 p-8"},te={class:"mb-6"},se={key:0,class:"text-red-500 mt-1 block"},ae={key:0,class:"flex justify-center mb-4"},re={key:1,class:"text-red-500 text-sm text-center block mb-4"},oe={class:"text-center"},ie={class:"text-sm text-gray-600"},le={class:"mt-8 text-center"},ne={__name:"ForgotPassword",props:{status:String,recaptcha:{type:Object,default:()=>({enabled:!1,siteKey:"",version:"v2"})}},setup(u){const f=u,b=K(),c=h(null),P=h(!0),y=h(!1),C=()=>{setTimeout(()=>{y.value=!0},100)},r=F({email:"",recaptcha_token:""}),d=h(!1);V(()=>{});const g=async()=>{var v;if(d.value=!0,(v=f.recaptcha)!=null&&v.enabled&&c.value)try{const t=await c.value.getToken();r.recaptcha_token=t}catch{b.error("Please complete the security verification.","Verification Failed"),d.value=!1;return}r.post(route("password.email"),{onSuccess:()=>{b.success("Check your email for password reset instructions","Email Sent")},onError:t=>{var m,i;(m=f.recaptcha)!=null&&m.enabled&&((i=f.recaptcha)==null?void 0:i.version)==="v2"&&c.value&&c.value.reset(),b.error(t.recaptcha_token||t.email||"Failed to send reset link. Please try again.","Error")},onFinish:()=>{d.value=!1,r.recaptcha_token=""}})};return(v,t)=>(n(),l(T,null,[s(q,{title:"Forgot Password"}),s(M,{"min-load-time":1200,onComplete:C}),s(j,{"enter-active-class":"transition-all duration-500 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100"},{default:p(()=>{var m;return[S(a("div",U,[t[7]||(t[7]=a("div",{class:"absolute inset-0 -z-10 overflow-hidden"},[a("div",{class:"absolute top-0 right-0 w-96 h-96 bg-primary-100/30 rounded-full blur-3xl"}),a("div",{class:"absolute bottom-0 left-0 w-96 h-96 bg-blue-100/30 rounded-full blur-3xl"})],-1)),a("div",Y,[P.value?(n(),l("div",G,[a("div",H,[a("div",J,[s(e(o),{width:"4rem",height:"4rem",class:"rounded-xl"})])]),a("div",Q,[a("div",W,[s(e(o),{width:"60%",height:"2rem",class:"mb-2"}),s(e(o),{width:"85%",height:"1rem"}),s(e(o),{width:"65%",height:"1rem",class:"mt-1"})]),a("div",null,[s(e(o),{width:"6rem",height:"1rem",class:"mb-2"}),s(e(o),{height:"3rem",class:"w-full"})]),s(e(o),{height:"3rem",class:"w-full"}),s(e(o),{width:"60%",height:"1rem",class:"mx-auto"})])])):(n(),l("div",X,[a("div",Z,[s(e(x),{href:"/",class:"inline-flex items-center justify-center"},{default:p(()=>[s(L,{"show-text":!1,size:"lg"})]),_:1})]),a("div",ee,[t[6]||(t[6]=a("div",{class:"mb-8"},[a("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Reset Your Password"),a("p",{class:"text-gray-600"}," Enter your email address and we'll send you a link to reset your password. ")],-1)),a("div",te,[t[3]||(t[3]=a("label",{for:"email",class:"block text-sm font-semibold text-gray-900 mb-2"}," Email Address ",-1)),s(e(B),{"icon-position":"left"},{default:p(()=>[s(e(D),{class:"pi pi-envelope"}),s(e(N),{id:"email",modelValue:e(r).email,"onUpdate:modelValue":t[0]||(t[0]=i=>e(r).email=i),type:"email",placeholder:"you@example.com",class:R(["w-full",{"ng-invalid ng-touched":e(r).errors.email}]),onKeyup:E(g,["enter"])},null,8,["modelValue","class"])]),_:1}),e(r).errors.email?(n(),l("small",se,w(e(r).errors.email),1)):_("",!0)]),(m=u.recaptcha)!=null&&m.enabled?(n(),l("div",ae,[s(I,{ref_key:"recaptchaRef",ref:c,"site-key":u.recaptcha.siteKey,version:u.recaptcha.version,theme:"light",action:"password_reset",onVerify:t[1]||(t[1]=i=>e(r).recaptcha_token=i),onExpire:t[2]||(t[2]=()=>e(r).recaptcha_token="")},null,8,["site-key","version"])])):_("",!0),e(r).errors.recaptcha_token?(n(),l("small",re,w(e(r).errors.recaptcha_token),1)):_("",!0),s(e(z),{onClick:g,loading:d.value,disabled:!e(r).email||d.value,class:"w-full mb-4",severity:"primary",label:"Send Reset Link",icon:"pi pi-send"},null,8,["loading","disabled"]),a("div",oe,[a("p",ie,[t[5]||(t[5]=k(" Remember your password? ",-1)),s(e(x),{href:"/login",class:"font-semibold text-primary-600 hover:text-primary-700 transition-colors"},{default:p(()=>[...t[4]||(t[4]=[k(" Sign in here ",-1)])]),_:1})])])])])),a("div",le,[s(A)])])],512),[[$,y.value]])]}),_:1})],64))}},ke=O(ne,[["__scopeId","data-v-5b366bad"]]);export{ke as default};
