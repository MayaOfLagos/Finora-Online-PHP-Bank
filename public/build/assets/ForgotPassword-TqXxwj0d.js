import{f as F,s as V,j as b,c as l,o as n,d as a,a as s,u as e,w as v,q as x,b as _,x as E,n as P,t as w,i as k,F as R}from"./app-pKJNfMRl.js";import{u as S}from"./useToast-Clsx83_F.js";import{s as $}from"./index-CfAZwmyf.js";import{a as j}from"./index-0Wu5cDGM.js";import{a as C,s as K}from"./index-CNg3KC2i.js";import{s as o}from"./index-BX7aPWpF.js";import{_ as N}from"./AppLogo-BTsSFa4-.js";import{_ as T}from"./SeoHead-ChAvh1iH.js";import{_ as z}from"./CopyrightText-BgjqrfdI.js";import{R as B}from"./ReCaptcha-NxpUfdmj.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css            */import"./index-C89qVnDF.js";const q={class:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50 flex items-center justify-center p-4 sm:p-6 lg:p-8"},A={class:"w-full max-w-md"},D={key:0,class:"animate-pulse"},I={class:"text-center mb-8"},M={class:"inline-flex items-center justify-center"},O={class:"bg-white/90 backdrop-blur-xl border border-gray-200/50 rounded-3xl p-8 space-y-6"},U={class:"mb-8"},Y={key:1,class:"animate-fade-in"},G={class:"text-center mb-8"},H={class:"relative bg-white/90 backdrop-blur-xl border border-gray-200/50 rounded-3xl shadow-2xl shadow-primary-100/40 p-8"},J={class:"mb-6"},Q={key:0,class:"text-red-500 mt-1 block"},W={key:0,class:"flex justify-center mb-4"},X={key:1,class:"text-red-500 text-sm text-center block mb-4"},Z={class:"text-center"},ee={class:"text-sm text-gray-600"},te={class:"mt-8 text-center"},se={__name:"ForgotPassword",props:{status:String,recaptcha:{type:Object,default:()=>({enabled:!1,siteKey:"",version:"v2"})}},setup(u){const p=u,f=S(),c=b(null),y=b(!0),r=F({email:"",recaptcha_token:""}),d=b(!1);V(()=>{setTimeout(()=>{y.value=!1},300)});const g=async()=>{var h;if(d.value=!0,(h=p.recaptcha)!=null&&h.enabled&&c.value)try{const t=await c.value.getToken();r.recaptcha_token=t}catch{f.error("Please complete the security verification.","Verification Failed"),d.value=!1;return}r.post(route("password.email"),{onSuccess:()=>{f.success("Check your email for password reset instructions","Email Sent")},onError:t=>{var m,i;(m=p.recaptcha)!=null&&m.enabled&&((i=p.recaptcha)==null?void 0:i.version)==="v2"&&c.value&&c.value.reset(),f.error(t.recaptcha_token||t.email||"Failed to send reset link. Please try again.","Error")},onFinish:()=>{d.value=!1,r.recaptcha_token=""}})};return(h,t)=>{var m;return n(),l(R,null,[a(T,{title:"Forgot Password"}),s("div",q,[t[7]||(t[7]=s("div",{class:"absolute inset-0 -z-10 overflow-hidden"},[s("div",{class:"absolute top-0 right-0 w-96 h-96 bg-primary-100/30 rounded-full blur-3xl"}),s("div",{class:"absolute bottom-0 left-0 w-96 h-96 bg-blue-100/30 rounded-full blur-3xl"})],-1)),s("div",A,[y.value?(n(),l("div",D,[s("div",I,[s("div",M,[a(e(o),{width:"4rem",height:"4rem",class:"rounded-xl"})])]),s("div",O,[s("div",U,[a(e(o),{width:"60%",height:"2rem",class:"mb-2"}),a(e(o),{width:"85%",height:"1rem"}),a(e(o),{width:"65%",height:"1rem",class:"mt-1"})]),s("div",null,[a(e(o),{width:"6rem",height:"1rem",class:"mb-2"}),a(e(o),{height:"3rem",class:"w-full"})]),a(e(o),{height:"3rem",class:"w-full"}),a(e(o),{width:"60%",height:"1rem",class:"mx-auto"})])])):(n(),l("div",Y,[s("div",G,[a(e(x),{href:"/",class:"inline-flex items-center justify-center"},{default:v(()=>[a(N,{"show-text":!1,size:"lg"})]),_:1})]),s("div",H,[t[6]||(t[6]=s("div",{class:"mb-8"},[s("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Reset Your Password"),s("p",{class:"text-gray-600"}," Enter your email address and we'll send you a link to reset your password. ")],-1)),s("div",J,[t[3]||(t[3]=s("label",{for:"email",class:"block text-sm font-semibold text-gray-900 mb-2"}," Email Address ",-1)),a(e(K),{"icon-position":"left"},{default:v(()=>[a(e(C),{class:"pi pi-envelope"}),a(e($),{id:"email",modelValue:e(r).email,"onUpdate:modelValue":t[0]||(t[0]=i=>e(r).email=i),type:"email",placeholder:"you@example.com",class:P(["w-full",{"ng-invalid ng-touched":e(r).errors.email}]),onKeyup:E(g,["enter"])},null,8,["modelValue","class"])]),_:1}),e(r).errors.email?(n(),l("small",Q,w(e(r).errors.email),1)):_("",!0)]),(m=u.recaptcha)!=null&&m.enabled?(n(),l("div",W,[a(B,{ref_key:"recaptchaRef",ref:c,"site-key":u.recaptcha.siteKey,version:u.recaptcha.version,theme:"light",action:"password_reset",onVerify:t[1]||(t[1]=i=>e(r).recaptcha_token=i),onExpire:t[2]||(t[2]=()=>e(r).recaptcha_token="")},null,8,["site-key","version"])])):_("",!0),e(r).errors.recaptcha_token?(n(),l("small",X,w(e(r).errors.recaptcha_token),1)):_("",!0),a(e(j),{onClick:g,loading:d.value,disabled:!e(r).email||d.value,class:"w-full mb-4",severity:"primary",label:"Send Reset Link",icon:"pi pi-send"},null,8,["loading","disabled"]),s("div",Z,[s("p",ee,[t[5]||(t[5]=k(" Remember your password? ",-1)),a(e(x),{href:"/login",class:"font-semibold text-primary-600 hover:text-primary-700 transition-colors"},{default:v(()=>[...t[4]||(t[4]=[k(" Sign in here ",-1)])]),_:1})])])])])),s("div",te,[a(z)])])])],64)}}},be=L(se,[["__scopeId","data-v-338f99a1"]]);export{be as default};
