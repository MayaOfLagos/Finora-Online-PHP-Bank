import{l as q,m as L,c as o,d as m,a as e,u as i,p as T,b as d,t as n,h as v,j as A,e as k,n as p,i as b,F as f,r as z,o as s,g as $,z as j,q as g}from"./app-C8_YI8N-.js";import{D as O,c as E,f as U}from"./DashboardLayout-DnzOksDG.js";import{a as x}from"./index-DXK8Q9K_.js";import{s as D}from"./index-CZEAb2CO.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css            */import"./index-DrT5wC6Z.js";import"./index-BjgIoK0t.js";import"./index-DUpdi1BB.js";import"./index-CvODXvXH.js";import"./index-C8QerdRZ.js";import"./index-DRpsq_L0.js";import"./index-BFvmfWzx.js";import"./AppLogo-BHj5-vZy.js";import"./index-DVqxlV8X.js";const H={class:"max-w-4xl mx-auto"},J={class:"mb-6"},K={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},P={class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},Q={class:"flex items-center gap-2"},W={class:"mb-6"},X={class:"flex p-1 bg-gray-100 dark:bg-gray-800 rounded-xl"},Y={class:"ml-2 px-2 py-0.5 text-xs rounded-full bg-gray-200 dark:bg-gray-600 text-gray-600 dark:text-gray-300"},Z={key:0,class:"ml-2 px-2 py-0.5 text-xs rounded-full bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-400"},ee={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm overflow-hidden"},te=["onClick"],ae={class:"flex items-start justify-between gap-2"},re={class:"flex items-center gap-2"},se={key:0,class:"flex-shrink-0 w-2.5 h-2.5 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-full shadow-sm shadow-indigo-500/50"},ie={class:"text-sm text-gray-600 dark:text-gray-400 mt-1 line-clamp-2"},le={class:"flex items-center gap-4 mt-2"},oe={class:"text-xs text-gray-400 dark:text-gray-500 flex items-center gap-1"},ne={class:"flex flex-col gap-1"},de={key:1,class:"p-12 text-center"},ce={class:"text-sm text-gray-400 dark:text-gray-500 mt-1"},ue={key:0,class:"mt-6 flex justify-center gap-2"},pe=Object.assign({layout:O},{__name:"Index",props:{notifications:{type:Object,default:()=>({data:[]})},unreadCount:{type:Number,default:0}},setup(S){const l=S,_=q(),c=A(!1),u=A("all"),y=k(()=>l.notifications.data||[]),w=k(()=>u.value==="unread"?y.value.filter(r=>!r.read):y.value),B=k(()=>w.value.length>0),F=r=>{const a={transfer:"pi-send",transfer_received:"pi-download",deposit:"pi-download",card:"pi-credit-card",loan:"pi-wallet",grant:"pi-dollar",security:"pi-shield",support:"pi-comments",kyc:"pi-id-card",reward:"pi-star-fill",promo:"pi-gift",admin:"pi-megaphone",system:"pi-info-circle"};return r.icon||a[r.type]||"pi-bell"},C=r=>{r.read||g.post(`/notifications/${r.id}/mark-read`,{},{preserveScroll:!0})},I=r=>{C(r),r.href&&g.visit(r.href)},M=()=>{c.value=!0,g.post("/notifications/mark-all-read",{},{preserveScroll:!0,onFinish:()=>{c.value=!1}})},R=r=>{_.require({message:"Are you sure you want to delete this notification?",header:"Delete Notification",icon:"pi pi-exclamation-triangle",acceptClass:"p-button-danger",accept:()=>{g.delete(`/notifications/${r.id}`,{preserveScroll:!0})}})},V=()=>{_.require({message:"Are you sure you want to delete all notifications? This cannot be undone.",header:"Clear All Notifications",icon:"pi pi-exclamation-triangle",acceptClass:"p-button-danger",accept:()=>{c.value=!0,g.delete("/notifications",{preserveScroll:!0,onFinish:()=>{c.value=!1}})}})};return(r,a)=>{const N=L("tooltip");return s(),o(f,null,[m(i(T),{title:"Notifications"}),m(i(E)),e("div",H,[e("div",J,[e("div",K,[e("div",null,[a[2]||(a[2]=e("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"}," Notifications ",-1)),e("p",P,n(l.unreadCount)+" unread notification"+n(l.unreadCount!==1?"s":""),1)]),e("div",Q,[l.unreadCount>0?(s(),v(i(x),{key:0,label:"Mark All Read",icon:"pi pi-check-circle",size:"small",outlined:"",loading:c.value,onClick:M},null,8,["loading"])):d("",!0),y.value.length>0?(s(),v(i(x),{key:1,label:"Clear All",icon:"pi pi-trash",size:"small",severity:"danger",outlined:"",loading:c.value,onClick:V},null,8,["loading"])):d("",!0)])])]),e("div",W,[e("div",X,[e("button",{class:p(["flex-1 py-2.5 px-4 text-sm font-medium rounded-lg transition-all duration-200",u.value==="all"?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"]),onClick:a[0]||(a[0]=t=>u.value="all")},[a[3]||(a[3]=b(" All Notifications ",-1)),e("span",Y,n(y.value.length),1)],2),e("button",{class:p(["flex-1 py-2.5 px-4 text-sm font-medium rounded-lg transition-all duration-200 relative",u.value==="unread"?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"]),onClick:a[1]||(a[1]=t=>u.value="unread")},[a[4]||(a[4]=b(" Unread ",-1)),l.unreadCount>0?(s(),o("span",Z,n(l.unreadCount),1)):d("",!0)],2)])]),e("div",ee,[B.value?(s(!0),o(f,{key:0},z(w.value,t=>(s(),o("div",{key:t.id,class:p(["flex gap-4 p-4 sm:p-5 border-b border-gray-100 dark:border-gray-700 last:border-0 transition-all duration-200 group",t.read?"bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700/50":"bg-indigo-50/50 dark:bg-indigo-900/20 hover:bg-indigo-50 dark:hover:bg-indigo-900/30"])},[e("div",{class:p(["flex-shrink-0 w-12 h-12 rounded-xl flex items-center justify-center shadow-sm",t.color])},[e("i",{class:p(["pi text-lg",F(t)])},null,2)],2),e("div",{class:"flex-1 min-w-0 cursor-pointer",onClick:h=>I(t)},[e("div",ae,[e("div",re,[e("p",{class:p(["text-base font-semibold",t.read?"text-gray-700 dark:text-gray-300":"text-gray-900 dark:text-white"])},n(t.title),3),t.read?d("",!0):(s(),o("span",se))]),m(i(D),{value:t.type.replace("_"," "),class:"capitalize hidden sm:inline-flex",severity:t.read?"secondary":"info"},null,8,["value","severity"])]),e("p",ie,n(t.message),1),e("div",le,[e("p",oe,[a[5]||(a[5]=e("i",{class:"pi pi-clock text-[10px]"},null,-1)),b(" "+n(i(U)(t.created_at)),1)]),m(i(D),{value:t.type.replace("_"," "),class:"capitalize sm:hidden",severity:t.read?"secondary":"info",size:"small"},null,8,["value","severity"])])],8,te),e("div",ne,[t.read?d("",!0):$((s(),v(i(x),{key:0,icon:"pi pi-check",size:"small",text:"",rounded:"",severity:"secondary",class:"opacity-0 group-hover:opacity-100 transition-opacity",onClick:j(h=>C(t),["stop"])},null,8,["onClick"])),[[N,"Mark as read",void 0,{left:!0}]]),$(m(i(x),{icon:"pi pi-trash",size:"small",text:"",rounded:"",severity:"danger",class:"opacity-0 group-hover:opacity-100 transition-opacity",onClick:j(h=>R(t),["stop"])},null,8,["onClick"]),[[N,"Delete",void 0,{left:!0}]])])],2))),128)):(s(),o("div",de,[a[6]||(a[6]=e("div",{class:"flex items-center justify-center w-20 h-20 mx-auto mb-4 bg-gradient-to-br from-gray-100 to-gray-50 dark:from-gray-700 dark:to-gray-800 rounded-2xl"},[e("i",{class:"text-3xl text-gray-400 pi pi-bell-slash"})],-1)),a[7]||(a[7]=e("p",{class:"text-lg font-medium text-gray-600 dark:text-gray-300"},"All caught up!",-1)),e("p",ce," No "+n(u.value==="unread"?"unread ":"")+"notifications to show ",1)]))]),l.notifications.links&&l.notifications.links.length>3?(s(),o("div",ue,[(s(!0),o(f,null,z(l.notifications.links,t=>(s(),o(f,{key:t.label},[t.url?(s(),v(i(x),{key:0,label:t.label.replace("«","«").replace("»","»"),severity:t.active?"primary":"secondary",outlined:!t.active,size:"small",onClick:h=>i(g).visit(t.url)},null,8,["label","severity","outlined","onClick"])):d("",!0)],64))),128))])):d("",!0)])],64)}}}),$e=G(pe,[["__scopeId","data-v-177d82ba"]]);export{$e as default};
