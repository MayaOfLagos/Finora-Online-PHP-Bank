import{h as y,o as a,w as u,a as e,d as g,b as l,e as N,u as n,i as p,t as d,n as h,c as r,F as _,r as w,j as B,z as K,p as M}from"./app-B4IzlJiH.js";import{D as U}from"./DashboardLayout-C87mcen4.js";import{s as S}from"./index-CiR1w9gG.js";import{a as k}from"./index-CNbnBLPP.js";import{s as f}from"./index-B14K5NTQ.js";import{s as L}from"./index-BpP5gnRV.js";import{s as P}from"./index-CCrayFw_.js";import{u as Y}from"./useToast-DeduNY1I.js";/* empty css            */import"./index-Cw6_OrR2.js";import"./index-BTG8dc6t.js";import"./index-BJ5J71IX.js";import"./index-DUzKNN2I.js";import"./AppLogo-DJabikPM.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./LiveChatWidget-CkEboDrz.js";import"./PagePreloader-B2BRt2VJ.js";import"./index-DPkBELWk.js";const E={class:"space-y-6"},H={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},I={class:"flex items-center gap-4"},O={class:"flex-1"},W={class:"flex items-center gap-2 mb-1"},G={key:0,class:"relative flex h-3 w-3"},J={class:"text-gray-600 dark:text-gray-400"},Q={key:0,class:"text-right hidden sm:block"},X={class:"text-2xl font-bold text-primary"},Z={class:"grid gap-6 lg:grid-cols-3"},ee={key:0,class:"space-y-3"},te=["onClick"],se={class:"flex items-start justify-between gap-4"},ae={class:"flex-1 min-w-0"},re={class:"flex items-center gap-2 mb-1"},ie={class:"font-semibold text-gray-900 dark:text-white"},le={class:"flex flex-wrap items-center gap-2 text-sm text-gray-500 dark:text-gray-400"},oe={key:0,class:"font-mono"},ne={key:1},de={key:0,class:"mt-2 text-sm text-red-600 dark:text-red-400"},ce={class:"flex flex-col items-end gap-2"},ue={class:"flex items-center gap-1 text-xs text-gray-400"},xe={key:0,class:"pi pi-image",title:"Front uploaded"},ge={key:1,class:"pi pi-image",title:"Back uploaded"},ye={key:2,class:"pi pi-user",title:"Selfie uploaded"},pe={key:1,class:"text-center py-8"},me={class:"space-y-3"},ve={class:"flex items-center justify-between mb-2"},ke={class:"font-medium text-gray-900 dark:text-white"},fe={key:0,class:"text-xs text-gray-500 dark:text-gray-400 mb-2"},be={class:"flex flex-wrap gap-1 mb-2"},he={class:"flex items-center justify-between mt-3"},_e={key:0,class:"text-xs text-green-600 dark:text-green-400 flex items-center gap-1"},we={key:1,class:"text-xs text-yellow-600 dark:text-yellow-400 flex items-center gap-1"},Se={key:2,class:"text-xs text-gray-400"},je={key:0,class:"text-center py-6"},Ce={class:"space-y-3"},Ve=["onClick"],De={class:"flex items-center justify-between"},Ne={class:"flex items-center gap-2"},Be={class:"font-medium text-gray-900 dark:text-white"},Le={key:0,class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},$e={key:0,class:"pi pi-check-circle text-green-500 text-xl"},Fe={key:1,class:"pi pi-clock text-yellow-500 text-xl"},Te={key:2,class:"pi pi-angle-right text-gray-400"},qe={key:0,class:"space-y-4"},ze={class:"flex items-center justify-between pb-4 border-b dark:border-gray-700"},Pe={class:"font-semibold text-gray-900 dark:text-white"},Re={class:"text-sm text-gray-500"},Ae={key:0,class:"flex justify-between items-center"},Ke={class:"font-mono text-gray-900 dark:text-white"},Me={class:"flex justify-between items-center"},Ue={class:"flex gap-2"},Ye={key:0,class:"text-xs px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded"},Ee={key:1,class:"text-xs px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded"},He={key:2,class:"text-xs px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded"},Ie={key:1,class:"flex justify-between items-center"},Oe={class:"text-gray-900 dark:text-white"},We={key:2,class:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg"},Ge={class:"text-sm text-red-600 dark:text-red-300"},Je={key:3,class:"pt-4 border-t dark:border-gray-700"},pt={__name:"Index",props:{verifications:Array,templates:Array,overallStatus:Object,isVerified:Boolean,kycLevel:Number},setup(i){const $=i;Y();const j=K(),C=B(!1),c=B(null),b=B(!1),F=N(()=>{var o;return(o=j.props.flash)==null?void 0:o.success}),T=N(()=>{var o;return(o=j.props.flash)==null?void 0:o.warning}),q=N(()=>{var o;return(o=j.props.flash)==null?void 0:o.error}),V=o=>({success:"success",warning:"warn",danger:"danger",secondary:"secondary",info:"info"})[o]||"info",R=o=>({approved:"pi pi-check-circle",pending:"pi pi-clock",rejected:"pi pi-times-circle",not_started:"pi pi-exclamation-circle"})[o]||"pi pi-info-circle",m=o=>{var t;return(t=$.verifications)==null?void 0:t.some(s=>{var x;return((x=s.template)==null?void 0:x.id)===o&&s.status==="pending"})},v=o=>{var t;return(t=$.verifications)==null?void 0:t.some(s=>{var x;return((x=s.template)==null?void 0:x.id)===o&&s.status==="approved"})},z=o=>{M.visit(route("kyc.create",o.id))},A=o=>{c.value=o,b.value=!0},D=()=>{C.value=!0};return(o,t)=>(a(),y(U,{title:"KYC Verification"},{default:u(()=>[e("div",E,[F.value?(a(),y(n(L),{key:0,severity:"success",closable:!0},{default:u(()=>[p(d(F.value),1)]),_:1})):l("",!0),T.value?(a(),y(n(L),{key:1,severity:"warn",closable:!0},{default:u(()=>[p(d(T.value),1)]),_:1})):l("",!0),q.value?(a(),y(n(L),{key:2,severity:"error",closable:!0},{default:u(()=>[p(d(q.value),1)]),_:1})):l("",!0),e("div",H,[t[3]||(t[3]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"KYC Verification"),e("p",{class:"text-gray-600 dark:text-gray-400"},"Verify your identity to access all features.")],-1)),i.isVerified?l("",!0):(a(),y(n(k),{key:0,label:"Submit Documents",icon:"pi pi-upload",onClick:D,class:"w-full sm:w-auto"}))]),g(n(S),{class:h(["border-l-4",{"border-l-green-500":i.overallStatus.status==="approved","border-l-yellow-500":i.overallStatus.status==="pending","border-l-red-500":i.overallStatus.status==="rejected","border-l-gray-400":i.overallStatus.status==="not_started"}])},{content:u(()=>[e("div",I,[e("div",{class:h(["flex items-center justify-center w-14 h-14 rounded-full",{"bg-green-100 dark:bg-green-900/30":i.overallStatus.status==="approved","bg-yellow-100 dark:bg-yellow-900/30":i.overallStatus.status==="pending","bg-red-100 dark:bg-red-900/30":i.overallStatus.status==="rejected","bg-gray-100 dark:bg-gray-700":i.overallStatus.status==="not_started"}])},[e("i",{class:h([R(i.overallStatus.status),"text-2xl",{"text-green-500":i.overallStatus.status==="approved","text-yellow-500":i.overallStatus.status==="pending","text-red-500":i.overallStatus.status==="rejected","text-gray-500":i.overallStatus.status==="not_started"}])},null,2)],2),e("div",O,[e("div",W,[t[5]||(t[5]=e("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," Verification Status ",-1)),g(n(f),{value:i.overallStatus.label,severity:V(i.overallStatus.color)},null,8,["value","severity"]),i.overallStatus.status==="pending"?(a(),r("span",G,[...t[4]||(t[4]=[e("span",{class:"animate-ping absolute inline-flex h-full w-full rounded-full bg-yellow-400 opacity-75"},null,-1),e("span",{class:"relative inline-flex rounded-full h-3 w-3 bg-yellow-500"},null,-1)])])):l("",!0)]),e("p",J,d(i.overallStatus.message),1)]),i.kycLevel>0?(a(),r("div",Q,[t[6]||(t[6]=e("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"KYC Level",-1)),e("p",X,d(i.kycLevel),1)])):l("",!0)])]),_:1},8,["class"]),e("div",Z,[g(n(S),{class:"lg:col-span-2"},{title:u(()=>[...t[7]||(t[7]=[e("div",{class:"flex items-center gap-2"},[e("i",{class:"pi pi-history text-primary"}),p(" Verification History ")],-1)])]),content:u(()=>[i.verifications&&i.verifications.length?(a(),r("div",ee,[(a(!0),r(_,null,w(i.verifications,s=>(a(),r("div",{key:s.id,onClick:x=>A(s),class:"p-4 border rounded-xl dark:border-gray-700 bg-white dark:bg-gray-800 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-750 transition-colors"},[e("div",se,[e("div",ae,[e("div",re,[t[8]||(t[8]=e("i",{class:"pi pi-id-card text-primary"},null,-1)),e("h3",ie,d(s.document_type_name),1)]),e("div",le,[s.document_number?(a(),r("span",oe,d(s.document_number),1)):l("",!0),s.document_number?(a(),r("span",ne,"â€¢")):l("",!0),e("span",null,"Submitted "+d(s.created_at_human),1)]),s.status==="rejected"&&s.rejection_reason?(a(),r("p",de,[t[9]||(t[9]=e("i",{class:"pi pi-exclamation-triangle mr-1"},null,-1)),p(" "+d(s.rejection_reason),1)])):l("",!0)]),e("div",ce,[g(n(f),{value:s.status_label,severity:V(s.status_color)},null,8,["value","severity"]),e("div",ue,[s.has_document_front?(a(),r("i",xe)):l("",!0),s.has_document_back?(a(),r("i",ge)):l("",!0),s.has_selfie?(a(),r("i",ye)):l("",!0)])])])],8,te))),128))])):(a(),r("div",pe,[t[10]||(t[10]=e("i",{class:"pi pi-id-card text-4xl text-gray-300 dark:text-gray-600 mb-3"},null,-1)),t[11]||(t[11]=e("p",{class:"text-gray-500 dark:text-gray-400"},"No verification submissions yet",-1)),t[12]||(t[12]=e("p",{class:"text-sm text-gray-400 dark:text-gray-500 mt-1"}," Submit your identity documents to get verified ",-1)),g(n(k),{label:"Get Started",icon:"pi pi-arrow-right",class:"mt-4",onClick:D})]))]),_:1}),g(n(S),null,{title:u(()=>[...t[13]||(t[13]=[e("div",{class:"flex items-center gap-2"},[e("i",{class:"pi pi-file text-primary"}),p(" Document Types ")],-1)])]),content:u(()=>[e("div",me,[(a(!0),r(_,null,w(i.templates,s=>(a(),r("div",{key:s.id,class:"p-3 border rounded-lg dark:border-gray-700"},[e("div",ve,[e("h4",ke,d(s.name),1),s.is_required?(a(),y(n(f),{key:0,value:"Required",severity:"warn"})):l("",!0)]),s.description?(a(),r("p",fe,d(s.description),1)):l("",!0),e("div",be,[(a(!0),r(_,null,w(s.requirements_list,x=>(a(),r("span",{key:x,class:"text-xs px-2 py-0.5 bg-gray-100 dark:bg-gray-700 rounded"},d(x),1))),128))]),e("div",he,[v(s.id)?(a(),r("span",_e,[...t[14]||(t[14]=[e("i",{class:"pi pi-check-circle"},null,-1),p(" Verified ",-1)])])):m(s.id)?(a(),r("span",we,[...t[15]||(t[15]=[e("i",{class:"pi pi-clock"},null,-1),p(" Pending ",-1)])])):(a(),r("span",Se)),!v(s.id)&&!m(s.id)?(a(),y(n(k),{key:3,label:"Submit",icon:"pi pi-upload",size:"small",outlined:"",onClick:x=>z(s)},null,8,["onClick"])):!v(s.id)&&m(s.id)?(a(),y(n(k),{key:4,label:"Pending",icon:"pi pi-clock",size:"small",disabled:"",outlined:""})):l("",!0)])]))),128))]),!i.templates||!i.templates.length?(a(),r("div",je,[...t[16]||(t[16]=[e("p",{class:"text-gray-500 dark:text-gray-400"},"No document types available",-1)])])):l("",!0)]),_:1})]),g(n(S),null,{title:u(()=>[...t[17]||(t[17]=[e("div",{class:"flex items-center gap-2"},[e("i",{class:"pi pi-question-circle text-primary"}),p(" Why KYC Verification? ")],-1)])]),content:u(()=>[...t[18]||(t[18]=[e("div",{class:"grid gap-4 md:grid-cols-3"},[e("div",{class:"flex items-start gap-3"},[e("div",{class:"flex items-center justify-center w-10 h-10 rounded-lg bg-blue-100 dark:bg-blue-900/30 flex-shrink-0"},[e("i",{class:"pi pi-shield text-blue-500"})]),e("div",null,[e("h4",{class:"font-medium text-gray-900 dark:text-white"},"Security"),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Protect your account from unauthorized access")])]),e("div",{class:"flex items-start gap-3"},[e("div",{class:"flex items-center justify-center w-10 h-10 rounded-lg bg-green-100 dark:bg-green-900/30 flex-shrink-0"},[e("i",{class:"pi pi-check-circle text-green-500"})]),e("div",null,[e("h4",{class:"font-medium text-gray-900 dark:text-white"},"Higher Limits"),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Access increased transaction and withdrawal limits")])]),e("div",{class:"flex items-start gap-3"},[e("div",{class:"flex items-center justify-center w-10 h-10 rounded-lg bg-purple-100 dark:bg-purple-900/30 flex-shrink-0"},[e("i",{class:"pi pi-star text-purple-500"})]),e("div",null,[e("h4",{class:"font-medium text-gray-900 dark:text-white"},"Full Features"),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Unlock all banking features and services")])])],-1)])]),_:1})]),g(n(P),{visible:C.value,"onUpdate:visible":t[0]||(t[0]=s=>C.value=s),modal:"",header:"Select Document Type",style:{width:"500px"},breakpoints:{"640px":"90vw"}},{default:u(()=>[e("div",Ce,[t[19]||(t[19]=e("p",{class:"text-gray-600 dark:text-gray-400 mb-4"}," Choose the type of document you want to submit for verification. ",-1)),(a(!0),r(_,null,w(i.templates,s=>(a(),r("div",{key:s.id,onClick:x=>z(s),class:h(["p-4 border rounded-lg dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",{"opacity-50 cursor-not-allowed":m(s.id)||v(s.id)}])},[e("div",De,[e("div",null,[e("div",Ne,[e("h4",Be,d(s.name),1),s.is_required?(a(),y(n(f),{key:0,value:"Required",severity:"warn",class:"text-xs"})):l("",!0)]),s.description?(a(),r("p",Le,d(s.description),1)):l("",!0)]),e("div",null,[v(s.id)?(a(),r("i",$e)):m(s.id)?(a(),r("i",Fe)):(a(),r("i",Te))])])],10,Ve))),128))])]),_:1},8,["visible"]),g(n(P),{visible:b.value,"onUpdate:visible":t[2]||(t[2]=s=>b.value=s),modal:"",header:"Verification Details",style:{width:"500px"},breakpoints:{"640px":"90vw"}},{default:u(()=>[c.value?(a(),r("div",qe,[e("div",ze,[e("div",null,[e("h3",Pe,d(c.value.document_type_name),1),e("p",Re," Submitted "+d(c.value.created_at),1)]),g(n(f),{value:c.value.status_label,severity:V(c.value.status_color)},null,8,["value","severity"])]),c.value.document_number?(a(),r("div",Ae,[t[20]||(t[20]=e("span",{class:"text-gray-600 dark:text-gray-400"},"Document Number",-1)),e("span",Ke,d(c.value.document_number),1)])):l("",!0),e("div",Me,[t[21]||(t[21]=e("span",{class:"text-gray-600 dark:text-gray-400"},"Documents Uploaded",-1)),e("div",Ue,[c.value.has_document_front?(a(),r("span",Ye," Front ")):l("",!0),c.value.has_document_back?(a(),r("span",Ee," Back ")):l("",!0),c.value.has_selfie?(a(),r("span",He," Selfie ")):l("",!0)])]),c.value.verified_at?(a(),r("div",Ie,[t[22]||(t[22]=e("span",{class:"text-gray-600 dark:text-gray-400"},"Reviewed On",-1)),e("span",Oe,d(c.value.verified_at),1)])):l("",!0),c.value.rejection_reason?(a(),r("div",We,[t[23]||(t[23]=e("p",{class:"text-sm font-medium text-red-700 dark:text-red-400 mb-1"},"Rejection Reason",-1)),e("p",Ge,d(c.value.rejection_reason),1)])):l("",!0),c.value.status==="rejected"?(a(),r("div",Je,[g(n(k),{label:"Submit New Documents",icon:"pi pi-refresh",class:"w-full",onClick:t[1]||(t[1]=()=>{b.value=!1,D()})})])):l("",!0)])):l("",!0)]),_:1},8,["visible"])]),_:1}))}};export{pt as default};
