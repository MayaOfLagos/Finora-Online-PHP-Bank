import{h as m,w as a,a as e,b as c,d as l,e as V,o as r,u as n,i as d,t as i,c as o,F as S,r as B,n as D,A as $,q as C}from"./app-DLgLi4lD.js";import{D as A}from"./DashboardLayout-Dm2MdQMR.js";import{s as y}from"./index-B1zMrBBs.js";import{a as R}from"./index-Dseg9Bzm.js";import{s as F}from"./index-C8O1EiVz.js";import{s as L}from"./index-BUc0cz6E.js";import{s as x}from"./index-Cv1rlrg9.js";/* empty css            */import"./index-WlHacg5T.js";import"./index-CHE4eq0M.js";import"./index-xpVe-wjb.js";import"./index-Ca1EKw5I.js";import"./index-Bw0oaB8t.js";import"./index-cY8YaBs2.js";import"./AppLogo-CwrEa0rw.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-CNiRC496.js";const U={class:"space-y-6"},M={class:"flex items-center justify-between"},Y={class:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between"},q={class:"flex gap-2"},z={class:"grid gap-6 lg:grid-cols-3"},E={class:"space-y-3"},O={class:"flex items-start justify-between"},G={class:"space-y-1"},H={class:"text-sm text-gray-600 dark:text-gray-400"},J={class:"text-lg font-semibold text-gray-900 dark:text-white"},K={class:"text-xs text-gray-500 dark:text-gray-500"},Q={key:0,class:"text-xs text-green-600 dark:text-green-400"},W={key:1,class:"text-xs text-red-600 dark:text-red-400"},X={class:"text-right space-y-2"},Z={class:"text-lg font-bold text-gray-900 dark:text-white"},P={key:0,class:"text-center py-8"},ee={key:0},te={class:"font-semibold text-gray-900 dark:text-white"},se={class:"text-sm text-gray-600 dark:text-gray-400"},ae={class:"text-xs text-gray-500"},ie={key:1,class:"text-center py-6 text-gray-500"},he={__name:"Index",props:{refunds:{type:Array,default:()=>[]},pendingVerification:{type:Object,default:null}},setup(p){const g=p,T=$(),f=V(()=>T.props.flash),u=V(()=>g.refunds.length?g.refunds:[]),v=(b,s="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:s}).format(b),_={pending:{label:"Pending",severity:"warning"},processing:{label:"Processing",severity:"info"},approved:{label:"Approved",severity:"success"},completed:{label:"Completed",severity:"success"},rejected:{label:"Rejected",severity:"danger"}},I=()=>{C.visit(route("tax-refunds.idme"))},N=()=>{C.visit(route("tax-refunds.documents"))};return(b,s)=>(r(),m(A,{title:"Tax Refunds"},{default:a(()=>{var k;return[e("div",U,[s[8]||(s[8]=e("div",{class:"space-y-1"},[e("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Tax Refunds"),e("p",{class:"text-gray-600 dark:text-gray-400"},"Track refund status and identity verification in one place.")],-1)),(k=f.value)!=null&&k.success?(r(),m(n(x),{key:0,severity:"success",closable:!0,class:"mb-4"},{default:a(()=>[d(i(f.value.success),1)]),_:1})):c("",!0),p.pendingVerification?(r(),m(n(x),{key:1,severity:"info",closable:!1,class:"mb-4"},{default:a(()=>[e("div",M,[e("span",null,"You have a pending verification for "+i(p.pendingVerification.reference_number)+". Please wait for admin review.",1)])]),_:1})):c("",!0),l(n(y),null,{title:a(()=>[...s[0]||(s[0]=[d("Identity Verification",-1)])]),content:a(()=>[e("div",Y,[s[1]||(s[1]=e("div",null,[e("p",{class:"text-gray-700 dark:text-gray-300"},"Verify your identity to claim your tax refund."),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Choose ID.me for faster verification, or upload documents manually.")],-1)),e("div",q,[l(n(R),{label:"Start ID.me",icon:"pi pi-shield",onClick:I}),l(n(R),{label:"Upload Docs",icon:"pi pi-upload",severity:"secondary",outlined:"",onClick:N})])])]),_:1}),e("div",z,[l(n(y),{class:"lg:col-span-2"},{title:a(()=>[...s[2]||(s[2]=[d("Refund Status",-1)])]),content:a(()=>[e("div",E,[(r(!0),o(S,null,B(u.value,t=>{var h,w,j;return r(),o("div",{key:t.uuid,class:"p-4 border rounded-xl dark:border-gray-700 bg-white dark:bg-gray-800"},[e("div",O,[e("div",G,[e("p",H,i(t.submitted_at),1),e("h3",J,i(((h=t.filing_status)==null?void 0:h.replace(/_/g," "))||"Tax Refund")+" - "+i(t.tax_year),1),e("p",K,"Ref: "+i(t.reference_number),1),t.idme_verified?(r(),o("p",Q,[s[3]||(s[3]=e("i",{class:"pi pi-check-circle mr-1"},null,-1)),d(" ID Verified "+i(t.idme_verified_at),1)])):c("",!0),t.rejection_reason?(r(),o("p",W," Reason: "+i(t.rejection_reason),1)):c("",!0)]),e("div",X,[e("p",Z,i(v(t.refund_amount,t.currency)),1),l(n(F),{value:((w=_[t.status])==null?void 0:w.label)||t.status_label||t.status,severity:((j=_[t.status])==null?void 0:j.severity)||"info"},null,8,["value","severity"])])])])}),128)),u.value.length?c("",!0):(r(),o("div",P,[...s[4]||(s[4]=[e("i",{class:"pi pi-inbox text-4xl text-gray-400 mb-3"},null,-1),e("p",{class:"text-gray-600 dark:text-gray-400"},"No tax refund claims yet.",-1),e("p",{class:"text-sm text-gray-500 dark:text-gray-500"},"Start by verifying your identity above.",-1)])]))])]),_:1}),l(n(y),null,{title:a(()=>[...s[5]||(s[5]=[d("Timeline",-1)])]),content:a(()=>[u.value.length?(r(),o("div",ee,[l(n(L),{value:u.value,align:"left"},{marker:a(t=>[e("span",{class:D(["flex items-center justify-center w-6 h-6 rounded-full",{"bg-green-100 text-green-600":t.item.status==="completed"||t.item.status==="approved","bg-blue-100 text-blue-600":t.item.status==="processing","bg-yellow-100 text-yellow-600":t.item.status==="pending","bg-red-100 text-red-600":t.item.status==="rejected"}])},[e("i",{class:D(["text-xs",{"pi pi-check":t.item.status==="completed"||t.item.status==="approved","pi pi-spin pi-spinner":t.item.status==="processing","pi pi-clock":t.item.status==="pending","pi pi-times":t.item.status==="rejected"}])},null,2)],2)]),content:a(t=>[e("div",null,[e("p",te,i(v(t.item.refund_amount,t.item.currency)),1),e("p",se,i(t.item.tax_year)+" Tax Year",1),e("p",ae,i(t.item.submitted_at),1)])]),_:1},8,["value"])])):(r(),o("div",ie,[...s[6]||(s[6]=[e("p",{class:"text-sm"},"Timeline will appear once you submit a refund claim.",-1)])])),l(n(x),{severity:"secondary",closable:!1,class:"mt-3"},{default:a(()=>[...s[7]||(s[7]=[e("span",{class:"text-xs"},"Refunds are typically processed within 21 days after identity verification.",-1)])]),_:1})]),_:1})])])]}),_:1}))}};export{he as default};
