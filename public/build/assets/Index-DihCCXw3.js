import{k as h,f as V,g as R,w as i,a as t,d as l,u as s,c as n,b as u,o as d,t as r,i as x,e as m,F as j,r as $}from"./app-B-kuXHFv.js";import{_ as N}from"./DashboardLayout-CxKpJXdt.js";import{s as y}from"./index-Bkguqmcl.js";import{a as B}from"./index-Cbb5XdGh.js";import{s as C}from"./index-CwCvQJk8.js";import{s as E}from"./index-D81w7CmU.js";import{s as F}from"./index-C5AZ_xfu.js";import{s as P}from"./index-C2uGVgyi.js";/* empty css            */import"./index-DGirmzUV.js";import"./index-BQO7QaEp.js";import"./index-Cbeh9xJJ.js";import"./index-B2KMBeGL.js";import"./index-CR1mbdI2.js";import"./index-iMsXsHjH.js";import"./AppLogo-a4JQMzSy.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-BUKzMD-T.js";import"./index-BQA1M98a.js";const O={class:"space-y-6"},S={class:"grid gap-6 lg:grid-cols-3"},T={class:"grid gap-4 md:grid-cols-2"},A={key:0,class:"text-sm text-red-500"},D={key:0,class:"text-sm text-red-500"},L={class:"md:col-span-2 flex justify-end"},U={class:"space-y-3"},I={class:"flex items-center justify-between"},M={class:"text-lg font-semibold text-gray-900 dark:text-white"},q={class:"flex items-center justify-between"},z={class:"text-sm text-gray-900 dark:text-white"},G={class:"flex items-center justify-between"},H={class:"text-sm text-gray-900 dark:text-white"},J={class:"grid gap-4 md:grid-cols-2 lg:grid-cols-3"},K={class:"flex items-center justify-between"},Q={class:"font-semibold text-gray-900 dark:text-white"},W={class:"text-sm text-gray-600 dark:text-gray-400"},X={class:"text-xs text-gray-500"},Y={class:"text-xs text-gray-500"},Z={key:0,class:"text-sm text-gray-600 dark:text-gray-400"},bt={__name:"Index",props:{rewards:{type:Object,default:()=>({data:[]})},stats:{type:Object,default:()=>({})}},setup(c){const g=c,f=h(),a=V({points:100,redemption_type:"cash"}),b=[{label:"Cash",value:"cash"},{label:"Voucher",value:"voucher"},{label:"Discount",value:"discount"}],p=m(()=>g.stats.total_earned??0),v=m(()=>g.stats.total_redeemed??0),_=m(()=>p.value-v.value),k=m(()=>p.value?Math.min(_.value/p.value*100,100):0),w=()=>{a.post("/rewards/redeem",{preserveScroll:!0,onSuccess:()=>f.add({severity:"success",summary:"Redeemed",detail:"Redemption submitted.",life:2500})})};return(tt,e)=>(d(),R(N,{title:"Rewards"},{default:i(()=>[t("div",O,[e[10]||(e[10]=t("div",{class:"space-y-1"},[t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Rewards"),t("p",{class:"text-gray-600 dark:text-gray-400"},"Earn and redeem points across Finora experiences.")],-1)),t("div",S,[l(s(y),{class:"lg:col-span-2"},{title:i(()=>[...e[2]||(e[2]=[x("Redeem Points",-1)])]),content:i(()=>[t("div",T,[t("div",null,[e[3]||(e[3]=t("label",{class:"text-sm text-gray-700 dark:text-gray-300"},"Points",-1)),l(s(E),{modelValue:s(a).points,"onUpdate:modelValue":e[0]||(e[0]=o=>s(a).points=o),min:100,step:50,class:"w-full mt-1"},null,8,["modelValue"]),s(a).errors.points?(d(),n("p",A,r(s(a).errors.points),1)):u("",!0)]),t("div",null,[e[4]||(e[4]=t("label",{class:"text-sm text-gray-700 dark:text-gray-300"},"Redemption Type",-1)),l(s(F),{modelValue:s(a).redemption_type,"onUpdate:modelValue":e[1]||(e[1]=o=>s(a).redemption_type=o),options:b,optionLabel:"label",optionValue:"value",class:"w-full mt-1"},null,8,["modelValue"]),s(a).errors.redemption_type?(d(),n("p",D,r(s(a).errors.redemption_type),1)):u("",!0)]),t("div",L,[l(s(B),{label:"Redeem",icon:"pi pi-gift",loading:s(a).processing,onClick:w},null,8,["loading"])])])]),_:1}),l(s(y),null,{title:i(()=>[...e[5]||(e[5]=[x("Points",-1)])]),content:i(()=>[t("div",U,[t("div",I,[e[6]||(e[6]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Available",-1)),t("span",M,r(_.value),1)]),t("div",q,[e[7]||(e[7]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Earned",-1)),t("span",z,r(p.value),1)]),t("div",G,[e[8]||(e[8]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Redeemed",-1)),t("span",H,r(v.value),1)]),l(s(P),{value:k.value,showValue:"",class:"h-2"},null,8,["value"])])]),_:1})]),l(s(y),null,{title:i(()=>[...e[9]||(e[9]=[x("Reward Activity",-1)])]),content:i(()=>[t("div",J,[(d(!0),n(j,null,$(c.rewards.data,o=>(d(),n("div",{key:o.id,class:"p-4 border rounded-xl dark:border-gray-700 bg-white dark:bg-gray-800 space-y-2"},[t("div",K,[t("h3",Q,r(o.title),1),l(s(C),{value:o.status},null,8,["value"])]),t("p",W,"Points: "+r(o.points),1),t("p",X,r(o.source||"Reward activity"),1),t("p",Y,r(o.created_at),1)]))),128))]),c.rewards.data.length?u("",!0):(d(),n("p",Z,"No rewards yet."))]),_:1})])]),_:1}))}};export{bt as default};
