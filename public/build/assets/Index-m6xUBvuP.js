import{c as g,a as e,b as S,d as n,n as D,e as _,u as t,t as f,o as r,F as L,r as W,f as ie,w,g as Y,h as F,i as U,v as K,j as $,k as ce,l as ue,m as de,p as me,q as j}from"./app-zZ16VhVD.js";import{s as pe,a as z}from"./index-C0Dck3_F.js";import{s as X}from"./index-BB31EOq1.js";import{s as ye,a as ve}from"./index-_ZIC4sd9.js";import{s as q}from"./index-CJ4usUX2.js";import{s as R}from"./index-DvFkW3Zi.js";import{s as fe,D as be}from"./DashboardLayout-DnoGs_Oa.js";import{u as Z}from"./useCurrency-0zMdEeak.js";import{s as ge}from"./index-bDfutlMs.js";import{s as I}from"./index-D1k45elx.js";import{_ as ee}from"./PinInput-ZRnsT4Gy.js";/* empty css            */import"./index-BtFBKs99.js";import"./index-DB8C5J5h.js";import"./index-DE3m0B6F.js";import"./index-C4ClzYyA.js";import"./index-CMlHKPrc.js";import"./index-BO2nO4jA.js";import"./AppLogo-cfoyQSu7.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-CVCu1rBj.js";const xe={class:"overflow-hidden transition-all duration-300 bg-white border border-gray-200 rounded-xl dark:bg-gray-800 dark:border-gray-700 shadow-sm hover:shadow-lg"},he={class:"p-4 pb-0"},ke={class:"flex items-start justify-between"},we={class:"flex items-center justify-center w-12 h-12 rounded-full bg-gradient-to-br from-indigo-500 to-indigo-600"},_e={class:"p-4 space-y-3"},Ae={class:"text-sm font-medium text-gray-500 dark:text-gray-400"},Ce={class:"text-lg font-semibold text-gray-900 dark:text-white"},$e={class:"flex items-center justify-between"},ze={class:"font-mono text-sm font-medium text-gray-900 dark:text-white"},Se={class:"pt-3 border-t border-gray-200 dark:border-gray-700"},Ve={class:"text-2xl font-bold text-gray-900 dark:text-white"},Te={key:0,class:"flex items-center gap-2 text-amber-600 dark:text-amber-400"},Fe={key:0,class:"flex gap-2 p-4 pt-0"},Pe={__name:"AccountCard",props:{account:{type:Object,required:!0},showActions:{type:Boolean,default:!0},compact:{type:Boolean,default:!1}},emits:["view-details","transfer","freeze","unfreeze","set-primary","download-statement"],setup(y,{emit:A}){const m=y,v=A,{formatCurrency:a}=Z(),c={savings:"pi-dollar",checking:"pi-wallet",business:"pi-building",fixed_deposit:"pi-lock"},x={active:"success",frozen:"info",pending:"warning",inactive:"danger"},o=_(()=>{const b=m.account.account_number;return b.length<=4?b:"••••"+b.slice(-4)}),P=_(()=>{var d;const b=((d=m.account.account_type)==null?void 0:d.slug)||"savings";return c[b]||"pi-wallet"}),B=_(()=>m.account.is_primary),V=_(()=>m.account.status==="frozen"),k=_(()=>{const b=[{label:"View Details",icon:"pi pi-eye",command:()=>v("view-details",m.account)},{label:"Transfer Money",icon:"pi pi-send",command:()=>v("transfer",m.account)},{label:"Download Statement",icon:"pi pi-download",command:()=>v("download-statement",m.account)}];return V.value?b.push({label:"Unfreeze Account",icon:"pi pi-lock-open",command:()=>v("unfreeze",m.account)}):b.push({label:"Freeze Account",icon:"pi pi-lock",command:()=>v("freeze",m.account)}),B.value||b.push({label:"Set as Primary",icon:"pi pi-star",command:()=>v("set-primary",m.account)}),b});return(b,d)=>{var T;return r(),g("div",xe,[e("div",he,[e("div",ke,[e("div",we,[e("i",{class:D(["pi",P.value,"text-white text-xl"])},null,2)]),n(t(pe),{value:y.account.status,severity:x[y.account.status]||"secondary",class:"uppercase"},null,8,["value","severity"])])]),e("div",_e,[e("div",null,[e("p",Ae,f(((T=y.account.account_type)==null?void 0:T.name)||"Account"),1),e("h3",Ce,f(y.account.account_name||o.value),1)]),e("div",$e,[d[3]||(d[3]=e("span",{class:"text-sm text-gray-500 dark:text-gray-400"}," Account Number ",-1)),e("span",ze,f(o.value),1)]),e("div",Se,[d[4]||(d[4]=e("p",{class:"mb-1 text-xs text-gray-500 dark:text-gray-400"}," Available Balance ",-1)),e("p",Ve,f(t(a)(y.account.balance,y.account.currency)),1)]),B.value?(r(),g("div",Te,[...d[5]||(d[5]=[e("i",{class:"pi pi-star-fill text-sm"},null,-1),e("span",{class:"text-xs font-medium"},"Primary Account",-1)])])):S("",!0)]),y.showActions?(r(),g("div",Fe,[n(t(z),{label:"View Details",icon:"pi pi-eye",outlined:"",size:"small",class:"flex-1",onClick:d[0]||(d[0]=N=>v("view-details",y.account))}),n(t(z),{label:"Transfer",icon:"pi pi-send",size:"small",class:"flex-1",disabled:V.value,onClick:d[1]||(d[1]=N=>v("transfer",y.account))},null,8,["disabled"]),n(t(z),{icon:"pi pi-ellipsis-v",outlined:"",size:"small",onClick:d[2]||(d[2]=N=>b.$refs.actionsMenu.toggle(N))}),n(t(fe),{ref:"actionsMenu",model:k.value,popup:""},null,8,["model"])])):S("",!0)])}}},Ue={class:"grid grid-cols-1 gap-4 md:grid-cols-3"},Be={class:"flex items-start justify-between"},Ne={class:"flex-1"},Ie={class:"mb-2 text-sm font-medium text-gray-500 dark:text-gray-400"},De={class:"mb-1 text-3xl font-bold text-gray-900 dark:text-white"},je={key:0,class:"text-xs text-gray-500 dark:text-gray-400"},Le={__name:"AccountStats",props:{accounts:{type:Array,default:()=>[]},stats:{type:Object,default:()=>({})},selectedCurrency:{type:String,default:"USD"}},setup(y){const A=y,{formatCurrency:m}=Z(),v=_(()=>{const c=A.accounts.filter(o=>o.status==="active");return{totalBalance:c.reduce((o,P)=>o+(parseInt(P.balance)||0),0),activeAccounts:c.length,totalAccounts:A.accounts.length,frozenAccounts:A.accounts.filter(o=>o.status==="frozen").length}}),a=_(()=>[{title:"Total Balance",value:m(v.value.totalBalance,A.selectedCurrency),icon:"pi-wallet",color:"indigo",trend:null},{title:"Active Accounts",value:v.value.activeAccounts,icon:"pi-check-circle",color:"green",subtitle:`of ${v.value.totalAccounts} total`},{title:"Frozen Accounts",value:v.value.frozenAccounts,icon:"pi-lock",color:"blue",subtitle:v.value.frozenAccounts>0?"Requires attention":"All clear"}]);return(c,x)=>(r(),g("div",Ue,[(r(!0),g(L,null,W(a.value,(o,P)=>(r(),g("div",{key:P,class:D(["p-5 bg-white border border-gray-200 rounded-xl dark:bg-gray-800 dark:border-gray-700 shadow-sm border-l-4",{"border-l-indigo-500":o.color==="indigo","border-l-green-500":o.color==="green","border-l-blue-500":o.color==="blue"}])},[e("div",Be,[e("div",Ne,[e("p",Ie,f(o.title),1),e("p",De,f(o.value),1),o.subtitle?(r(),g("p",je,f(o.subtitle),1)):S("",!0)]),e("div",{class:D(["flex items-center justify-center w-12 h-12 rounded-full",{"bg-indigo-100 dark:bg-indigo-900/30":o.color==="indigo","bg-green-100 dark:bg-green-900/30":o.color==="green","bg-blue-100 dark:bg-blue-900/30":o.color==="blue"}])},[e("i",{class:D(["pi text-xl",[o.icon,{"text-indigo-600 dark:text-indigo-400":o.color==="indigo","text-green-600 dark:text-green-400":o.color==="green","text-blue-600 dark:text-blue-400":o.color==="blue"}]])},null,2)],2)])],2))),128))]))}},Me={class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},Oe={class:"space-y-6"},qe={class:"space-y-4"},Ee={class:"grid grid-cols-1 gap-3 sm:grid-cols-2"},Ye=["onClick"],Re={class:"flex items-start gap-3"},We={key:0,class:"w-full h-full bg-white rounded-full scale-50"},Ge={class:"flex-1"},He={class:"font-medium text-gray-900 dark:text-white"},Je={class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},Qe={class:"space-y-4"},Ke={class:"flex items-start gap-3"},Xe={for:"terms",class:"text-sm text-gray-700 cursor-pointer dark:text-gray-300"},Ze={key:0,class:"space-y-4"},et={class:"flex justify-between gap-3"},tt={key:1},at={class:"flex gap-3"},st={class:"flex justify-end gap-3"},ot={__name:"CreateAccountModal",props:{visible:{type:Boolean,default:!1},accountTypes:{type:Array,default:()=>[]},currencies:{type:Array,default:()=>[]}},emits:["update:visible","account-created"],setup(y,{emit:A}){const m=y,v=A,a=ie({account_type_id:null,account_name:"",currency:"USD",terms_accepted:!1,pin:""}),c=$(1),x=$(!1),o=$(!1),P=_(()=>m.currencies.map(C=>({label:`${C.code} - ${C.name}`,value:C.code}))),B=_(()=>m.accountTypes.map(C=>({label:C.name,value:C.id,description:C.description}))),V=_(()=>a.account_type_id!==null),k=_(()=>a.currency&&a.terms_accepted),b=()=>{c.value===1&&V.value?c.value=2:c.value===2&&k.value&&(x.value=!0)},d=()=>{c.value>1&&c.value--},T=C=>{a.pin=C,N()},N=()=>{a.post(route("accounts.store"),{preserveScroll:!0,onSuccess:()=>{M(),v("account-created"),v("update:visible",!1)},onError:()=>{x.value=!1}})},M=()=>{a.reset(),c.value=1,x.value=!1},O=()=>{a.processing||(M(),v("update:visible",!1))};return(C,s)=>(r(),g(L,null,[n(t(R),{visible:y.visible,modal:"",closable:!t(a).processing,draggable:!1,class:"w-full max-w-2xl","onUpdate:visible":O},{header:w(()=>[e("div",null,[s[7]||(s[7]=e("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white"}," Open New Account ",-1)),e("p",Me," Step "+f(c.value)+" of 2 ",1)])]),footer:w(()=>[e("div",et,[c.value>1&&!x.value?(r(),F(t(z),{key:0,label:"Back",icon:"pi pi-arrow-left",outlined:"",onClick:d,disabled:t(a).processing},null,8,["disabled"])):(r(),g("div",tt)),e("div",at,[n(t(z),{label:"Cancel",outlined:"",onClick:O,disabled:t(a).processing},null,8,["disabled"]),x.value?S("",!0):(r(),F(t(z),{key:0,label:c.value===2?"Create Account":"Next",icon:c.value===2?"pi pi-check":"pi pi-arrow-right",iconPos:"right",onClick:b,disabled:c.value===1?!V.value:!k.value,loading:t(a).processing},null,8,["label","icon","disabled","loading"]))])])]),default:w(()=>[e("div",Oe,[Y(e("div",qe,[e("div",null,[s[8]||(s[8]=e("label",{class:"block mb-2 text-sm font-medium text-gray-700 dark:text-gray-300"},[U(" Select Account Type "),e("span",{class:"text-red-500"},"*")],-1)),e("div",Ee,[(r(!0),g(L,null,W(B.value,p=>(r(),g("button",{key:p.value,type:"button",onClick:E=>t(a).account_type_id=p.value,class:D(["p-4 text-left border-2 rounded-xl transition-all",t(a).account_type_id===p.value?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20":"border-gray-200 dark:border-gray-700 hover:border-indigo-300"])},[e("div",Re,[e("div",{class:D(["w-4 h-4 rounded-full border-2 mt-1 flex-shrink-0",t(a).account_type_id===p.value?"border-indigo-500 bg-indigo-500":"border-gray-300"])},[t(a).account_type_id===p.value?(r(),g("div",We)):S("",!0)],2),e("div",Ge,[e("p",He,f(p.label),1),e("p",Je,f(p.description),1)])])],10,Ye))),128))]),t(a).errors.account_type_id?(r(),F(t(I),{key:0,severity:"error",closable:!1,class:"mt-2"},{default:w(()=>[U(f(t(a).errors.account_type_id),1)]),_:1})):S("",!0)])],512),[[K,c.value===1]]),Y(e("div",Qe,[e("div",null,[s[9]||(s[9]=e("label",{for:"account_name",class:"block mb-2 text-sm font-medium text-gray-700 dark:text-gray-300"}," Account Nickname (Optional) ",-1)),n(t(X),{id:"account_name",modelValue:t(a).account_name,"onUpdate:modelValue":s[0]||(s[0]=p=>t(a).account_name=p),placeholder:"e.g., Emergency Savings",class:"w-full",disabled:t(a).processing},null,8,["modelValue","disabled"]),s[10]||(s[10]=e("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"}," Give your account a friendly name for easy identification ",-1))]),e("div",null,[s[11]||(s[11]=e("label",{for:"currency",class:"block mb-2 text-sm font-medium text-gray-700 dark:text-gray-300"},[U(" Currency "),e("span",{class:"text-red-500"},"*")],-1)),n(t(q),{id:"currency",modelValue:t(a).currency,"onUpdate:modelValue":s[1]||(s[1]=p=>t(a).currency=p),options:P.value,optionLabel:"label",optionValue:"value",placeholder:"Select Currency",class:"w-full",disabled:t(a).processing},null,8,["modelValue","options","disabled"]),t(a).errors.currency?(r(),F(t(I),{key:0,severity:"error",closable:!1,class:"mt-2"},{default:w(()=>[U(f(t(a).errors.currency),1)]),_:1})):S("",!0)]),e("div",Ke,[n(t(ge),{modelValue:t(a).terms_accepted,"onUpdate:modelValue":s[2]||(s[2]=p=>t(a).terms_accepted=p),binary:!0,inputId:"terms",disabled:t(a).processing},null,8,["modelValue","disabled"]),e("label",Xe,[s[12]||(s[12]=U(" I accept the ",-1)),e("button",{type:"button",onClick:s[3]||(s[3]=p=>o.value=!0),class:"text-indigo-600 hover:underline font-medium"},"Terms and Conditions"),s[13]||(s[13]=e("span",{class:"text-red-500"},"*",-1))])]),t(a).errors.terms_accepted?(r(),F(t(I),{key:0,severity:"error",closable:!1},{default:w(()=>[U(f(t(a).errors.terms_accepted),1)]),_:1})):S("",!0)],512),[[K,c.value===2]]),x.value?(r(),g("div",Ze,[n(t(I),{severity:"info",closable:!1},{default:w(()=>[...s[14]||(s[14]=[e("p",{class:"text-sm"},"Enter your 6-digit transaction PIN to create the account",-1)])]),_:1}),n(ee,{length:6,masked:!0,onComplete:T,disabled:t(a).processing},null,8,["disabled"]),t(a).errors.pin?(r(),F(t(I),{key:0,severity:"error",closable:!1},{default:w(()=>[U(f(t(a).errors.pin),1)]),_:1})):S("",!0)])):S("",!0),t(a).errors.general?(r(),F(t(I),{key:1,severity:"error",closable:!1},{default:w(()=>[U(f(t(a).errors.general),1)]),_:1})):S("",!0)])]),_:1},8,["visible","closable"]),n(t(R),{visible:o.value,"onUpdate:visible":s[6]||(s[6]=p=>o.value=p),modal:"",header:"Terms and Conditions",style:{width:"90vw",maxWidth:"800px"},breakpoints:{"960px":"95vw"},class:"terms-modal"},{footer:w(()=>[e("div",st,[n(t(z),{label:"Close",severity:"secondary",onClick:s[4]||(s[4]=p=>o.value=!1)}),n(t(z),{label:"I Accept",icon:"pi pi-check",onClick:s[5]||(s[5]=p=>{t(a).terms_accepted=!0,o.value=!1})})])]),default:w(()=>[s[15]||(s[15]=e("div",{class:"prose prose-sm max-w-none dark:prose-invert overflow-y-auto max-h-[60vh] pr-2"},[e("p",{class:"text-gray-600 dark:text-gray-400 mb-4"},[e("strong",null,"Effective Date:"),U(" January 1, 2026")]),e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mt-6 mb-3"},"1. Account Terms"),e("p",{class:"text-gray-700 dark:text-gray-300 mb-4"}," By opening an account with Finora Bank, you agree to maintain accurate and complete information about yourself. You must be at least 18 years of age to open an account. You are responsible for maintaining the confidentiality of your account credentials, including your password and transaction PIN. "),e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mt-6 mb-3"},"2. Banking Services"),e("p",{class:"text-gray-700 dark:text-gray-300 mb-4"}," Finora Bank provides various banking services including but not limited to: savings accounts, checking accounts, wire transfers, domestic transfers, internal transfers, loan services, and card services. All services are subject to applicable fees and charges as outlined in our fee schedule. "),e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mt-6 mb-3"},"3. Transaction Limits"),e("p",{class:"text-gray-700 dark:text-gray-300 mb-4"}," Daily and monthly transaction limits apply to all accounts. These limits vary based on your account type and verification status. Wire transfers may require additional verification including IMF Code, Tax Code, and Cost of Transfer (COT) Code for international transactions. "),e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mt-6 mb-3"},"4. Security Responsibilities"),e("p",{class:"text-gray-700 dark:text-gray-300 mb-4"}," You agree to: (a) keep your login credentials and transaction PIN confidential; (b) notify us immediately of any unauthorized access; (c) use secure networks when accessing your account; (d) regularly review your account statements for unauthorized transactions. "),e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mt-6 mb-3"},"5. Fees and Charges"),e("p",{class:"text-gray-700 dark:text-gray-300 mb-4"}," You agree to pay all applicable fees associated with your account and transactions. Fees include but are not limited to: monthly maintenance fees, wire transfer fees, ATM fees, overdraft fees, and card replacement fees. Current fee schedules are available upon request. "),e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mt-6 mb-3"},"6. Account Closure"),e("p",{class:"text-gray-700 dark:text-gray-300 mb-4"}," Either party may close the account at any time. Upon closure, any outstanding fees or negative balances must be settled. Finora Bank reserves the right to close accounts that violate these terms or are used for fraudulent activities. "),e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mt-6 mb-3"},"7. Limitation of Liability"),e("p",{class:"text-gray-700 dark:text-gray-300 mb-4"}," Finora Bank shall not be liable for any indirect, incidental, special, or consequential damages arising from the use of our services. Our liability is limited to the amount of fees paid by you in the preceding 12 months. "),e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mt-6 mb-3"},"8. Amendments"),e("p",{class:"text-gray-700 dark:text-gray-300 mb-4"}," Finora Bank reserves the right to modify these terms at any time. We will notify you of material changes via email or through our online banking platform. Continued use of our services after such changes constitutes acceptance of the modified terms. "),e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mt-6 mb-3"},"9. Governing Law"),e("p",{class:"text-gray-700 dark:text-gray-300 mb-4"}," These terms shall be governed by and construed in accordance with applicable banking regulations and laws. Any disputes shall be resolved through binding arbitration. "),e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mt-6 mb-3"},"10. Contact Information"),e("p",{class:"text-gray-700 dark:text-gray-300 mb-4"}," For questions regarding these terms, please contact our customer support team through the Support section in your online banking portal or email us at support@finorabank.com. ")],-1))]),_:1},8,["visible"])],64))}},lt={class:"mb-6"},nt={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},rt={class:"p-4 mb-6 bg-white border border-gray-200 shadow-sm dark:bg-gray-800 dark:border-gray-700 rounded-xl"},it={class:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-5"},ct={class:"lg:col-span-2"},ut={key:0,class:"flex items-center justify-between pt-4 mt-4 border-t border-gray-200 dark:border-gray-700"},dt={class:"text-sm text-gray-500 dark:text-gray-400"},mt={key:0,class:"space-y-6"},pt={key:0,class:"p-4 border-l-4 border-amber-500 bg-amber-50 dark:bg-amber-900/20"},yt={class:"flex"},vt={class:"ml-3"},ft={class:"text-sm text-amber-700 dark:text-amber-400"},bt={class:"grid grid-cols-1 gap-4 md:grid-cols-2 xl:grid-cols-3"},gt={key:1,class:"py-12 text-center"},xt={class:"flex flex-col items-center justify-center"},ht={class:"mb-2 text-lg font-semibold text-gray-900 dark:text-white"},kt={class:"mb-6 text-gray-500 dark:text-gray-400"},wt={class:"space-y-4"},_t={class:"text-sm text-gray-600 dark:text-gray-400"},Rt={__name:"Index",props:{accounts:{type:Array,default:()=>[]},accountTypes:{type:Array,default:()=>[]},currencies:{type:Array,default:()=>[]},stats:{type:Object,default:()=>({totalBalance:0,activeAccounts:0,primaryAccount:null})},maxAccountsPerUser:{type:Number,default:2}},setup(y){const A=y,m=ce(),v=ue(),a=$(!1),c=$(""),x=$(null),o=$(null),P=$("USD"),B=$("balance"),V=$(!1),k=$(null),b=$(null),d=$(""),T=$(!1),N=[{label:"All Types",value:null},...A.accountTypes.map(u=>({label:u.name,value:u.id}))],M=[{label:"All Status",value:null},{label:"Active",value:"active"},{label:"Frozen",value:"frozen"},{label:"Pending",value:"pending"}],O=[{label:"Balance (High to Low)",value:"balance"},{label:"Balance (Low to High)",value:"balance_asc"},{label:"Recently Created",value:"created"},{label:"Account Name",value:"name"}],C=_(()=>{let u=A.accounts;if(c.value){const h=c.value.toLowerCase();u=u.filter(i=>{var J,Q;return i.account_number.toLowerCase().includes(h)||((J=i.account_name)==null?void 0:J.toLowerCase().includes(h))||((Q=i.account_type)==null?void 0:Q.name.toLowerCase().includes(h))})}return x.value&&(u=u.filter(h=>h.account_type_id===x.value)),o.value&&(u=u.filter(h=>h.status===o.value)),[...u].sort((h,i)=>{switch(B.value){case"balance":return i.balance-h.balance;case"balance_asc":return h.balance-i.balance;case"created":return new Date(i.created_at)-new Date(h.created_at);case"name":return(h.account_name||"").localeCompare(i.account_name||"");default:return 0}})}),s=_(()=>c.value||x.value||o.value),p=_(()=>A.accounts.length<A.maxAccountsPerUser),E=_(()=>p.value?"":`You have reached the maximum limit of ${A.maxAccountsPerUser} account(s). Contact support to request more.`),te=u=>{j.visit(route("accounts.show",{account:u.uuid}))},ae=u=>{j.visit(route("transfers.internal"),{data:{from_account_id:u.uuid}})},se=u=>{v.require({message:`Are you sure you want to freeze account ${u.account_number}?`,header:"Freeze Account",icon:"pi pi-exclamation-triangle",acceptClass:"p-button-warning",accept:()=>{b.value=u,k.value="freeze",d.value="",V.value=!0}})},oe=u=>{b.value=u,k.value="unfreeze",d.value="",V.value=!0},G=()=>{if(d.value.length!==6){m.add({severity:"error",summary:"Invalid PIN",detail:"Please enter your 6-digit transaction PIN",life:3e3});return}T.value=!0;const u=k.value==="freeze"?route("accounts.freeze",{account:b.value.uuid}):route("accounts.unfreeze",{account:b.value.uuid});j.patch(u,{pin:d.value},{onSuccess:()=>{V.value=!1,m.add({severity:"success",summary:k.value==="freeze"?"Account Frozen":"Account Unfrozen",detail:`Account has been ${k.value==="freeze"?"frozen":"unfrozen"} successfully`,life:3e3})},onError:l=>{m.add({severity:"error",summary:"Action Failed",detail:l.pin||"Invalid PIN or action could not be completed",life:3e3})},onFinish:()=>{T.value=!1}})},le=u=>{j.patch(route("accounts.set-primary",{account:u.uuid}),{},{onSuccess:()=>{m.add({severity:"success",summary:"Primary Account Set",detail:"This account is now your primary account",life:3e3})}})},ne=u=>{j.get(route("accounts.statement",{account:u.uuid}),{},{preserveScroll:!0,onSuccess:l=>{var h;(h=l.props.flash)!=null&&h.success&&m.add({severity:"success",summary:"Statement Sent",detail:l.props.flash.success,life:5e3})},onError:l=>{m.add({severity:"error",summary:"Statement Error",detail:l.statement||"Unable to generate statement. Please try again.",life:5e3})}})},H=()=>{c.value="",x.value=null,o.value=null},re=()=>{a.value=!1,m.add({severity:"success",summary:"Account Created",detail:"Your new account has been created successfully",life:3e3})};return(u,l)=>{const h=de("tooltip");return r(),g(L,null,[n(t(me),{title:"My Accounts"}),n(be,{title:"My Accounts"},{default:w(()=>[e("div",lt,[e("div",nt,[l[10]||(l[10]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"}," My Accounts "),e("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," Manage your bank accounts and view balances ")],-1)),Y(n(t(z),{label:"Open New Account",icon:"pi pi-plus",onClick:l[0]||(l[0]=i=>a.value=!0),disabled:!p.value,class:"bg-gradient-to-r from-indigo-600 to-indigo-700"},null,8,["disabled"]),[[h,E.value,void 0,{bottom:!0}]])])]),n(Le,{accounts:y.accounts,stats:y.stats,"selected-currency":P.value,class:"mb-6"},null,8,["accounts","stats","selected-currency"]),e("div",rt,[e("div",it,[e("div",ct,[n(t(ye),null,{default:w(()=>[n(t(ve),{class:"pi pi-search"}),n(t(X),{modelValue:c.value,"onUpdate:modelValue":l[1]||(l[1]=i=>c.value=i),placeholder:"Search accounts...",class:"w-full"},null,8,["modelValue"])]),_:1})]),n(t(q),{modelValue:x.value,"onUpdate:modelValue":l[2]||(l[2]=i=>x.value=i),options:N,optionLabel:"label",optionValue:"value",placeholder:"Account Type",class:"w-full"},null,8,["modelValue"]),n(t(q),{modelValue:o.value,"onUpdate:modelValue":l[3]||(l[3]=i=>o.value=i),options:M,optionLabel:"label",optionValue:"value",placeholder:"Status",class:"w-full"},null,8,["modelValue"]),n(t(q),{modelValue:B.value,"onUpdate:modelValue":l[4]||(l[4]=i=>B.value=i),options:O,optionLabel:"label",optionValue:"value",placeholder:"Sort by",class:"w-full"},null,8,["modelValue"])]),s.value?(r(),g("div",ut,[e("p",dt,f(C.value.length)+" account(s) found ",1),n(t(z),{label:"Clear Filters",icon:"pi pi-times",text:"",onClick:H,class:"p-button-sm"})])):S("",!0)]),C.value.length>0?(r(),g("div",mt,[p.value?S("",!0):(r(),g("div",pt,[e("div",yt,[l[11]||(l[11]=e("div",{class:"flex-shrink-0"},[e("i",{class:"text-amber-500 pi pi-exclamation-triangle"})],-1)),e("div",vt,[e("p",ft,f(E.value),1)])])])),e("div",bt,[(r(!0),g(L,null,W(C.value,i=>(r(),F(Pe,{key:i.id,account:i,onViewDetails:te,onTransfer:ae,onFreeze:se,onUnfreeze:oe,onSetPrimary:le,onDownloadStatement:ne},null,8,["account"]))),128))])])):(r(),g("div",gt,[e("div",xt,[l[12]||(l[12]=e("div",{class:"flex items-center justify-center w-20 h-20 mb-4 bg-gray-100 rounded-full dark:bg-gray-700"},[e("i",{class:"text-4xl text-gray-400 pi pi-wallet dark:text-gray-500"})],-1)),e("h3",ht,f(s.value?"No accounts found":"No accounts yet"),1),e("p",kt,f(s.value?"Try adjusting your search or filters":"Open your first account to get started"),1),s.value?(r(),F(t(z),{key:1,label:"Clear Filters",icon:"pi pi-times",outlined:"",onClick:H})):(r(),F(t(z),{key:0,label:"Open Your First Account",icon:"pi pi-plus",onClick:l[5]||(l[5]=i=>a.value=!0),disabled:!p.value,class:"bg-gradient-to-r from-indigo-600 to-indigo-700"},null,8,["disabled"]))])])),n(ot,{visible:a.value,"onUpdate:visible":l[6]||(l[6]=i=>a.value=i),"account-types":y.accountTypes,currencies:y.currencies,onAccountCreated:re},null,8,["visible","account-types","currencies"]),n(t(R),{visible:V.value,"onUpdate:visible":l[9]||(l[9]=i=>V.value=i),modal:"",header:k.value==="freeze"?"Freeze Account":"Unfreeze Account",style:{width:"400px"},closable:!T.value},{footer:w(()=>[n(t(z),{label:"Cancel",text:"",onClick:l[8]||(l[8]=i=>V.value=!1),disabled:T.value},null,8,["disabled"]),n(t(z),{label:k.value==="freeze"?"Freeze Account":"Unfreeze Account",icon:k.value==="freeze"?"pi pi-lock":"pi pi-lock-open",severity:k.value==="freeze"?"warning":"success",loading:T.value,onClick:G},null,8,["label","icon","severity","loading"])]),default:w(()=>[e("div",wt,[e("p",_t,f(k.value==="freeze"?"Enter your transaction PIN to freeze this account. You will not be able to make any transactions until unfrozen.":"Enter your transaction PIN to unfreeze this account and resume normal operations."),1),e("div",null,[l[13]||(l[13]=e("label",{class:"block mb-2 text-sm font-medium text-gray-700 dark:text-gray-300"}," Transaction PIN ",-1)),n(ee,{modelValue:d.value,"onUpdate:modelValue":l[7]||(l[7]=i=>d.value=i),length:6,masked:"",onComplete:G},null,8,["modelValue"])])])]),_:1},8,["visible","header","closable"])]),_:1})],64)}}};export{Rt as default};
