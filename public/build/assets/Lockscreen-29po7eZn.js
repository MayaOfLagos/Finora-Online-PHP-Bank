import{s as A,j as p,c as l,o,d as s,w as I,g as W,a as e,n as O,u as i,F as g,r as v,h as Y,t as c,i as G,y as H,e as J,b as L,v as K,T as Q,p as j}from"./app-D64VKdoQ.js";import{u as R}from"./useToast-DBjWyc7y.js";import{a as X}from"./index-CpqcF-Nx.js";import{s as Z}from"./index-DjGU93aV.js";import{s as n}from"./index-BVy1t6cD.js";import{_ as ee}from"./SeoHead-BBq_5Kfl.js";import{_ as te}from"./CopyrightText-DdNKH335.js";import{P as se}from"./PagePreloader-CgTZjB-l.js";import{_ as ae}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css            */const oe={class:"min-h-screen bg-gradient-to-br from-slate-900 via-gray-900 to-slate-950 flex flex-col transition-colors duration-300"},le={class:"w-full py-4 px-6"},ie={class:"max-w-md mx-auto flex justify-between items-center"},re=["title"],ne={class:"flex-1 flex items-center justify-center px-4 pb-8"},de={class:"w-full max-w-md"},ce={key:0,class:"animate-pulse"},ue={class:"text-center mb-8"},me={class:"mb-6 relative inline-block"},ge={class:"bg-gray-800/50 backdrop-blur-xl rounded-2xl p-8 space-y-6"},he={class:"text-center"},pe={class:"bg-gray-900/50 rounded-xl p-6 border border-gray-700"},xe={class:"grid grid-cols-3 gap-3"},be={key:1,class:"animate-fade-in"},ve={class:"text-center mb-8"},fe={class:"mb-6 relative inline-block"},ye={class:"w-24 h-24 rounded-full bg-gradient-to-br from-primary-500 to-primary-700 flex items-center justify-center shadow-2xl shadow-primary-500/30 ring-4 ring-primary-500/20"},_e={key:1,class:"text-3xl font-bold text-white"},ke={class:"text-2xl font-bold text-white mb-1"},we={class:"text-gray-400 text-sm"},Ce={class:"text-gray-500 text-xs mt-2"},Pe={class:"bg-gray-800/50 backdrop-blur-xl rounded-2xl shadow-2xl border border-gray-700/50 p-8 transition-colors duration-300"},Se={class:"bg-gray-900/50 rounded-xl p-6 border border-gray-700"},Ie={class:"text-center"},Le={class:"text-4xl font-mono tracking-[0.5em] text-white min-h-[3rem] flex items-center justify-center select-none"},je={class:"text-xs text-gray-500 mt-3"},Ne={class:"grid grid-cols-3 gap-3"},Ee=["onClick","disabled"],De={class:"text-2xl font-semibold text-white"},Te=["disabled"],Me=["disabled"],Ue={key:0,class:"pi pi-unlock mr-2"},$e={class:"mt-8 text-center"},f=6,qe={__name:"Lockscreen",props:{user:Object,lockedAt:String},setup(u){const x=R(),y=p(!0),_=p(!1),N=()=>{y.value=!1,setTimeout(()=>{_.value=!0},100)},m=p(!1);A(()=>{const r=localStorage.getItem("theme");(r==="dark"||!r&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&(m.value=!0,document.documentElement.classList.add("dark"))});const E=()=>{m.value=!m.value,m.value?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},a=p(""),d=p(!1),D=J(()=>"•".repeat(a.value.length).padEnd(f,"·")),T=r=>r?r.split(" ").map(t=>t[0]).join("").toUpperCase().slice(0,2):"?",M=r=>{a.value.length<f&&(a.value+=r)},U=()=>{a.value=""},$=()=>{a.value.length>0&&(a.value=a.value.slice(0,-1))},q=()=>{if(a.value.length<4){x.warn("PIN must be at least 4 digits.","Invalid PIN");return}d.value=!0,j.post(route("lockscreen.unlock"),{pin:a.value},{onSuccess:()=>{x.success("Welcome back!","Unlocked")},onError:r=>{x.error(r.pin||"Invalid PIN code. Please try again.","Unlock Failed"),a.value=""},onFinish:()=>{d.value=!1}})},B=()=>{j.post(route("lockscreen.logout"))},F=[["1","2","3"],["4","5","6"],["7","8","9"],["clear","0","backspace"]];return(r,t)=>(o(),l(g,null,[s(ee,{title:"Locked","no-index":!0}),s(se,{"min-load-time":1200,onComplete:N}),s(Q,{"enter-active-class":"transition-all duration-500 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100"},{default:I(()=>{var k,w,C,P,S;return[W(e("div",oe,[e("div",le,[e("div",ie,[t[0]||(t[0]=e("div",{class:"text-gray-400 text-sm flex items-center gap-2"},[e("i",{class:"pi pi-lock"}),e("span",null,"Session Locked")],-1)),e("button",{onClick:E,class:"p-2.5 rounded-xl bg-gray-800/80 backdrop-blur-sm border border-gray-700 text-gray-300 hover:bg-gray-700 transition-all duration-200 shadow-sm hover:shadow-md",title:m.value?"Switch to light mode":"Switch to dark mode"},[e("i",{class:O([m.value?"pi pi-sun":"pi pi-moon","text-lg"])},null,2)],8,re)])]),e("div",ne,[e("div",de,[y.value?(o(),l("div",ce,[e("div",ue,[e("div",me,[s(i(n),{width:"6rem",height:"6rem",class:"rounded-full"})]),s(i(n),{width:"60%",height:"2rem",class:"mx-auto mb-1"}),s(i(n),{width:"50%",height:"1rem",class:"mx-auto mb-2"}),s(i(n),{width:"40%",height:"0.75rem",class:"mx-auto"})]),e("div",ge,[e("div",he,[s(i(n),{width:"60%",height:"1.25rem",class:"mx-auto mb-1"}),s(i(n),{width:"80%",height:"1rem",class:"mx-auto"})]),e("div",pe,[s(i(n),{width:"70%",height:"3rem",class:"mx-auto"}),s(i(n),{width:"30%",height:"0.75rem",class:"mx-auto mt-3"})]),e("div",xe,[(o(),l(g,null,v(12,b=>s(i(n),{key:b,class:"aspect-square rounded-xl"})),64))]),s(i(n),{height:"3rem",class:"w-full"})])])):(o(),l("div",be,[e("div",ve,[e("div",fe,[e("div",ye,[(k=u.user)!=null&&k.avatar_url?(o(),Y(i(Z),{key:0,image:u.user.avatar_url,shape:"circle",size:"xlarge",class:"w-20 h-20"},null,8,["image"])):(o(),l("span",_e,c(T((w=u.user)==null?void 0:w.name)),1))]),t[1]||(t[1]=e("div",{class:"absolute -bottom-2 -right-2 w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center border-4 border-gray-900"},[e("i",{class:"pi pi-lock text-amber-400 text-lg"})],-1))]),e("h1",ke," Welcome back, "+c((P=(C=u.user)==null?void 0:C.name)==null?void 0:P.split(" ")[0]),1),e("p",we,c((S=u.user)==null?void 0:S.email),1),e("p",Ce,[t[2]||(t[2]=e("i",{class:"pi pi-clock mr-1"},null,-1)),G(" Locked "+c(u.lockedAt),1)])]),e("div",Pe,[t[7]||(t[7]=e("div",{class:"text-center mb-6"},[e("h2",{class:"text-lg font-semibold text-white mb-1"}," Enter PIN to Unlock "),e("p",{class:"text-gray-400 text-sm"}," Your session was locked due to inactivity ")],-1)),e("form",{onSubmit:H(q,["prevent"]),class:"space-y-6"},[e("div",Se,[e("div",Ie,[e("div",Le,c(D.value),1),e("div",je,c(a.value.length)+" / "+c(f)+" digits ",1)])]),e("div",Ne,[(o(),l(g,null,v(F,(b,V)=>(o(),l(g,{key:V},[(o(!0),l(g,null,v(b,(h,z)=>(o(),l(g,{key:z},[isNaN(h)?h==="clear"?(o(),l("button",{key:1,type:"button",onClick:U,disabled:d.value||a.value.length===0,class:"aspect-square rounded-xl bg-red-900/30 hover:bg-red-900/50 active:scale-95 transition-all border border-red-800 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm"},[...t[3]||(t[3]=[e("span",{class:"text-sm font-medium text-red-400"},"Clear",-1)])],8,Te)):h==="backspace"?(o(),l("button",{key:2,type:"button",onClick:$,disabled:d.value||a.value.length===0,class:"aspect-square rounded-xl bg-gray-700 hover:bg-gray-600 active:scale-95 transition-all border border-gray-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center shadow-sm"},[...t[4]||(t[4]=[e("i",{class:"pi pi-arrow-left text-xl text-gray-200"},null,-1)])],8,Me)):L("",!0):(o(),l("button",{key:0,type:"button",onClick:Be=>M(h),disabled:d.value,class:"aspect-square rounded-xl bg-gray-700 hover:bg-gray-600 active:scale-95 transition-all border border-gray-600 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm"},[e("span",De,c(h),1)],8,Ee))],64))),128))],64))),64))]),s(i(X),{type:"submit",loading:d.value,disabled:d.value||a.value.length<4,class:"w-full justify-center",size:"large"},{default:I(()=>[d.value?L("",!0):(o(),l("i",Ue)),t[5]||(t[5]=e("span",null,"Unlock",-1))]),_:1},8,["loading","disabled"]),e("div",{class:"text-center"},[e("button",{type:"button",onClick:B,class:"text-gray-400 hover:text-white text-sm transition-colors inline-flex items-center gap-2"},[...t[6]||(t[6]=[e("i",{class:"pi pi-sign-out"},null,-1),e("span",null,"Sign in with a different account",-1)])])])],32)])])),e("div",$e,[s(te,{textClass:"text-sm text-gray-500"})])])])],512),[[K,_.value]])]}),_:1})],64))}},Ke=ae(qe,[["__scopeId","data-v-7a8914a0"]]);export{Ke as default};
