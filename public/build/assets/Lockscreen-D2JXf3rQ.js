import{k as z,y as B,j as p,c as l,d as m,a as e,u as x,n as F,h as V,t as i,i as T,z as A,e as W,F as u,r as _,w as O,b as w,o as a,q as C}from"./app-UCSswsVZ.js";import{a as Y}from"./index-DGFUIwHh.js";import{s as G}from"./index-Bq5WaoNb.js";import{s as H}from"./index-C78p4PDH.js";import{_ as J}from"./SeoHead-D7p15FSC.js";import{_ as K}from"./CopyrightText-BJ0RgOoE.js";import{_ as Q}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css            */import"./index-DIkSFcdh.js";import"./index-DcUw8Wsf.js";const R={class:"min-h-screen bg-gradient-to-br from-slate-900 via-gray-900 to-slate-950 flex flex-col transition-colors duration-300"},X={class:"w-full py-4 px-6"},Z={class:"max-w-md mx-auto flex justify-between items-center"},ee=["title"],te={class:"flex-1 flex items-center justify-center px-4 pb-8"},se={class:"w-full max-w-md"},ae={class:"text-center mb-8"},oe={class:"mb-6 relative inline-block"},le={class:"w-24 h-24 rounded-full bg-gradient-to-br from-primary-500 to-primary-700 flex items-center justify-center shadow-2xl shadow-primary-500/30 ring-4 ring-primary-500/20"},re={key:1,class:"text-3xl font-bold text-white"},ie={class:"text-2xl font-bold text-white mb-1"},ne={class:"text-gray-400 text-sm"},de={class:"text-gray-500 text-xs mt-2"},ce={class:"bg-gray-800/50 backdrop-blur-xl rounded-2xl shadow-2xl border border-gray-700/50 p-8 transition-colors duration-300"},ue={class:"bg-gray-900/50 rounded-xl p-6 border border-gray-700"},me={class:"text-center"},ge={class:"text-4xl font-mono tracking-[0.5em] text-white min-h-[3rem] flex items-center justify-center select-none"},pe={class:"text-xs text-gray-500 mt-3"},xe={class:"grid grid-cols-3 gap-3"},be=["onClick","disabled"],ve={class:"text-2xl font-semibold text-white"},fe=["disabled"],ye=["disabled"],he={key:0,class:"pi pi-unlock mr-2"},ke={class:"mt-8 text-center"},b=6,_e={__name:"Lockscreen",props:{user:Object,lockedAt:String},setup(n){const g=z(),d=p(!1);B(()=>{const o=localStorage.getItem("theme");(o==="dark"||!o&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&(d.value=!0,document.documentElement.classList.add("dark"))});const I=()=>{d.value=!d.value,d.value?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},s=p(""),r=p(!1),S=W(()=>"•".repeat(s.value.length).padEnd(b,"·")),j=o=>o?o.split(" ").map(t=>t[0]).join("").toUpperCase().slice(0,2):"?",L=o=>{s.value.length<b&&(s.value+=o)},N=()=>{s.value=""},P=()=>{s.value.length>0&&(s.value=s.value.slice(0,-1))},E=()=>{if(s.value.length<4){g.add({severity:"warn",summary:"Invalid PIN",detail:"PIN must be at least 4 digits.",life:3e3});return}r.value=!0,C.post(route("lockscreen.unlock"),{pin:s.value},{onSuccess:()=>{g.add({severity:"success",summary:"Unlocked",detail:"Welcome back!",life:2e3})},onError:o=>{g.add({severity:"error",summary:"Unlock Failed",detail:o.pin||"Invalid PIN code. Please try again.",life:4e3}),s.value=""},onFinish:()=>{r.value=!1}})},D=()=>{C.post(route("lockscreen.logout"))},M=[["1","2","3"],["4","5","6"],["7","8","9"],["clear","0","backspace"]];return(o,t)=>{var v,f,y,h,k;return a(),l(u,null,[m(J,{title:"Locked","no-index":!0}),m(x(G)),e("div",R,[e("div",X,[e("div",Z,[t[0]||(t[0]=e("div",{class:"text-gray-400 text-sm flex items-center gap-2"},[e("i",{class:"pi pi-lock"}),e("span",null,"Session Locked")],-1)),e("button",{onClick:I,class:"p-2.5 rounded-xl bg-gray-800/80 backdrop-blur-sm border border-gray-700 text-gray-300 hover:bg-gray-700 transition-all duration-200 shadow-sm hover:shadow-md",title:d.value?"Switch to light mode":"Switch to dark mode"},[e("i",{class:F([d.value?"pi pi-sun":"pi pi-moon","text-lg"])},null,2)],8,ee)])]),e("div",te,[e("div",se,[e("div",ae,[e("div",oe,[e("div",le,[(v=n.user)!=null&&v.avatar_url?(a(),V(x(H),{key:0,image:n.user.avatar_url,shape:"circle",size:"xlarge",class:"w-20 h-20"},null,8,["image"])):(a(),l("span",re,i(j((f=n.user)==null?void 0:f.name)),1))]),t[1]||(t[1]=e("div",{class:"absolute -bottom-2 -right-2 w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center border-4 border-gray-900"},[e("i",{class:"pi pi-lock text-amber-400 text-lg"})],-1))]),e("h1",ie," Welcome back, "+i((h=(y=n.user)==null?void 0:y.name)==null?void 0:h.split(" ")[0]),1),e("p",ne,i((k=n.user)==null?void 0:k.email),1),e("p",de,[t[2]||(t[2]=e("i",{class:"pi pi-clock mr-1"},null,-1)),T(" Locked "+i(n.lockedAt),1)])]),e("div",ce,[t[7]||(t[7]=e("div",{class:"text-center mb-6"},[e("h2",{class:"text-lg font-semibold text-white mb-1"}," Enter PIN to Unlock "),e("p",{class:"text-gray-400 text-sm"}," Your session was locked due to inactivity ")],-1)),e("form",{onSubmit:A(E,["prevent"]),class:"space-y-6"},[e("div",ue,[e("div",me,[e("div",ge,i(S.value),1),e("div",pe,i(s.value.length)+" / "+i(b)+" digits ",1)])]),e("div",xe,[(a(),l(u,null,_(M,(U,$)=>(a(),l(u,{key:$},[(a(!0),l(u,null,_(U,(c,q)=>(a(),l(u,{key:q},[isNaN(c)?c==="clear"?(a(),l("button",{key:1,type:"button",onClick:N,disabled:r.value||s.value.length===0,class:"aspect-square rounded-xl bg-red-900/30 hover:bg-red-900/50 active:scale-95 transition-all border border-red-800 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm"},[...t[3]||(t[3]=[e("span",{class:"text-sm font-medium text-red-400"},"Clear",-1)])],8,fe)):c==="backspace"?(a(),l("button",{key:2,type:"button",onClick:P,disabled:r.value||s.value.length===0,class:"aspect-square rounded-xl bg-gray-700 hover:bg-gray-600 active:scale-95 transition-all border border-gray-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center shadow-sm"},[...t[4]||(t[4]=[e("i",{class:"pi pi-arrow-left text-xl text-gray-200"},null,-1)])],8,ye)):w("",!0):(a(),l("button",{key:0,type:"button",onClick:we=>L(c),disabled:r.value,class:"aspect-square rounded-xl bg-gray-700 hover:bg-gray-600 active:scale-95 transition-all border border-gray-600 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm"},[e("span",ve,i(c),1)],8,be))],64))),128))],64))),64))]),m(x(Y),{type:"submit",loading:r.value,disabled:r.value||s.value.length<4,class:"w-full justify-center",size:"large"},{default:O(()=>[r.value?w("",!0):(a(),l("i",he)),t[5]||(t[5]=e("span",null,"Unlock",-1))]),_:1},8,["loading","disabled"]),e("div",{class:"text-center"},[e("button",{type:"button",onClick:D,class:"text-gray-400 hover:text-white text-sm transition-colors inline-flex items-center gap-2"},[...t[6]||(t[6]=[e("i",{class:"pi pi-sign-out"},null,-1),e("span",null,"Sign in with a different account",-1)])])])],32)]),e("div",ke,[m(K,{textClass:"text-sm text-gray-500"})])])])])],64)}}},Ue=Q(_e,[["__scopeId","data-v-22c86f36"]]);export{Ue as default};
