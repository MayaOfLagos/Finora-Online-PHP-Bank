import{s as T,j as b,c as o,o as a,d as l,a as e,n as V,u as i,F as g,r as v,h as z,t as c,i as A,y as W,e as O,b as L,w as Y,p as S}from"./app-pKJNfMRl.js";import{u as G}from"./useToast-Clsx83_F.js";import{a as H}from"./index-0Wu5cDGM.js";import{s as J}from"./index-D9m-7Ja_.js";import{s as n}from"./index-BX7aPWpF.js";import{_ as K}from"./SeoHead-ChAvh1iH.js";import{_ as Q}from"./CopyrightText-BgjqrfdI.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css            */import"./index-C89qVnDF.js";const X={class:"min-h-screen bg-gradient-to-br from-slate-900 via-gray-900 to-slate-950 flex flex-col transition-colors duration-300"},Z={class:"w-full py-4 px-6"},ee={class:"max-w-md mx-auto flex justify-between items-center"},te=["title"],se={class:"flex-1 flex items-center justify-center px-4 pb-8"},ae={class:"w-full max-w-md"},oe={key:0,class:"animate-pulse"},le={class:"text-center mb-8"},ie={class:"mb-6 relative inline-block"},re={class:"bg-gray-800/50 backdrop-blur-xl rounded-2xl p-8 space-y-6"},ne={class:"text-center"},de={class:"bg-gray-900/50 rounded-xl p-6 border border-gray-700"},ce={class:"grid grid-cols-3 gap-3"},ue={key:1,class:"animate-fade-in"},me={class:"text-center mb-8"},ge={class:"mb-6 relative inline-block"},he={class:"w-24 h-24 rounded-full bg-gradient-to-br from-primary-500 to-primary-700 flex items-center justify-center shadow-2xl shadow-primary-500/30 ring-4 ring-primary-500/20"},be={key:1,class:"text-3xl font-bold text-white"},pe={class:"text-2xl font-bold text-white mb-1"},xe={class:"text-gray-400 text-sm"},ve={class:"text-gray-500 text-xs mt-2"},fe={class:"bg-gray-800/50 backdrop-blur-xl rounded-2xl shadow-2xl border border-gray-700/50 p-8 transition-colors duration-300"},ye={class:"bg-gray-900/50 rounded-xl p-6 border border-gray-700"},ke={class:"text-center"},_e={class:"text-4xl font-mono tracking-[0.5em] text-white min-h-[3rem] flex items-center justify-center select-none"},we={class:"text-xs text-gray-500 mt-3"},Ce={class:"grid grid-cols-3 gap-3"},Ie=["onClick","disabled"],Le={class:"text-2xl font-semibold text-white"},Se=["disabled"],je=["disabled"],Ne={key:0,class:"pi pi-unlock mr-2"},Pe={class:"mt-8 text-center"},f=6,Ee={__name:"Lockscreen",props:{user:Object,lockedAt:String},setup(u){const p=G(),y=b(!0),m=b(!1);T(()=>{const r=localStorage.getItem("theme");(r==="dark"||!r&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&(m.value=!0,document.documentElement.classList.add("dark")),setTimeout(()=>{y.value=!1},300)});const j=()=>{m.value=!m.value,m.value?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},s=b(""),d=b(!1),N=O(()=>"•".repeat(s.value.length).padEnd(f,"·")),P=r=>r?r.split(" ").map(t=>t[0]).join("").toUpperCase().slice(0,2):"?",E=r=>{s.value.length<f&&(s.value+=r)},D=()=>{s.value=""},M=()=>{s.value.length>0&&(s.value=s.value.slice(0,-1))},U=()=>{if(s.value.length<4){p.warn("PIN must be at least 4 digits.","Invalid PIN");return}d.value=!0,S.post(route("lockscreen.unlock"),{pin:s.value},{onSuccess:()=>{p.success("Welcome back!","Unlocked")},onError:r=>{p.error(r.pin||"Invalid PIN code. Please try again.","Unlock Failed"),s.value=""},onFinish:()=>{d.value=!1}})},$=()=>{S.post(route("lockscreen.logout"))},q=[["1","2","3"],["4","5","6"],["7","8","9"],["clear","0","backspace"]];return(r,t)=>{var k,_,w,C,I;return a(),o(g,null,[l(K,{title:"Locked","no-index":!0}),e("div",X,[e("div",Z,[e("div",ee,[t[0]||(t[0]=e("div",{class:"text-gray-400 text-sm flex items-center gap-2"},[e("i",{class:"pi pi-lock"}),e("span",null,"Session Locked")],-1)),e("button",{onClick:j,class:"p-2.5 rounded-xl bg-gray-800/80 backdrop-blur-sm border border-gray-700 text-gray-300 hover:bg-gray-700 transition-all duration-200 shadow-sm hover:shadow-md",title:m.value?"Switch to light mode":"Switch to dark mode"},[e("i",{class:V([m.value?"pi pi-sun":"pi pi-moon","text-lg"])},null,2)],8,te)])]),e("div",se,[e("div",ae,[y.value?(a(),o("div",oe,[e("div",le,[e("div",ie,[l(i(n),{width:"6rem",height:"6rem",class:"rounded-full"})]),l(i(n),{width:"60%",height:"2rem",class:"mx-auto mb-1"}),l(i(n),{width:"50%",height:"1rem",class:"mx-auto mb-2"}),l(i(n),{width:"40%",height:"0.75rem",class:"mx-auto"})]),e("div",re,[e("div",ne,[l(i(n),{width:"60%",height:"1.25rem",class:"mx-auto mb-1"}),l(i(n),{width:"80%",height:"1rem",class:"mx-auto"})]),e("div",de,[l(i(n),{width:"70%",height:"3rem",class:"mx-auto"}),l(i(n),{width:"30%",height:"0.75rem",class:"mx-auto mt-3"})]),e("div",ce,[(a(),o(g,null,v(12,x=>l(i(n),{key:x,class:"aspect-square rounded-xl"})),64))]),l(i(n),{height:"3rem",class:"w-full"})])])):(a(),o("div",ue,[e("div",me,[e("div",ge,[e("div",he,[(k=u.user)!=null&&k.avatar_url?(a(),z(i(J),{key:0,image:u.user.avatar_url,shape:"circle",size:"xlarge",class:"w-20 h-20"},null,8,["image"])):(a(),o("span",be,c(P((_=u.user)==null?void 0:_.name)),1))]),t[1]||(t[1]=e("div",{class:"absolute -bottom-2 -right-2 w-10 h-10 bg-gray-800 rounded-full flex items-center justify-center border-4 border-gray-900"},[e("i",{class:"pi pi-lock text-amber-400 text-lg"})],-1))]),e("h1",pe," Welcome back, "+c((C=(w=u.user)==null?void 0:w.name)==null?void 0:C.split(" ")[0]),1),e("p",xe,c((I=u.user)==null?void 0:I.email),1),e("p",ve,[t[2]||(t[2]=e("i",{class:"pi pi-clock mr-1"},null,-1)),A(" Locked "+c(u.lockedAt),1)])]),e("div",fe,[t[7]||(t[7]=e("div",{class:"text-center mb-6"},[e("h2",{class:"text-lg font-semibold text-white mb-1"}," Enter PIN to Unlock "),e("p",{class:"text-gray-400 text-sm"}," Your session was locked due to inactivity ")],-1)),e("form",{onSubmit:W(U,["prevent"]),class:"space-y-6"},[e("div",ye,[e("div",ke,[e("div",_e,c(N.value),1),e("div",we,c(s.value.length)+" / "+c(f)+" digits ",1)])]),e("div",Ce,[(a(),o(g,null,v(q,(x,B)=>(a(),o(g,{key:B},[(a(!0),o(g,null,v(x,(h,F)=>(a(),o(g,{key:F},[isNaN(h)?h==="clear"?(a(),o("button",{key:1,type:"button",onClick:D,disabled:d.value||s.value.length===0,class:"aspect-square rounded-xl bg-red-900/30 hover:bg-red-900/50 active:scale-95 transition-all border border-red-800 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm"},[...t[3]||(t[3]=[e("span",{class:"text-sm font-medium text-red-400"},"Clear",-1)])],8,Se)):h==="backspace"?(a(),o("button",{key:2,type:"button",onClick:M,disabled:d.value||s.value.length===0,class:"aspect-square rounded-xl bg-gray-700 hover:bg-gray-600 active:scale-95 transition-all border border-gray-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center shadow-sm"},[...t[4]||(t[4]=[e("i",{class:"pi pi-arrow-left text-xl text-gray-200"},null,-1)])],8,je)):L("",!0):(a(),o("button",{key:0,type:"button",onClick:De=>E(h),disabled:d.value,class:"aspect-square rounded-xl bg-gray-700 hover:bg-gray-600 active:scale-95 transition-all border border-gray-600 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm"},[e("span",Le,c(h),1)],8,Ie))],64))),128))],64))),64))]),l(i(H),{type:"submit",loading:d.value,disabled:d.value||s.value.length<4,class:"w-full justify-center",size:"large"},{default:Y(()=>[d.value?L("",!0):(a(),o("i",Ne)),t[5]||(t[5]=e("span",null,"Unlock",-1))]),_:1},8,["loading","disabled"]),e("div",{class:"text-center"},[e("button",{type:"button",onClick:$,class:"text-gray-400 hover:text-white text-sm transition-colors inline-flex items-center gap-2"},[...t[6]||(t[6]=[e("i",{class:"pi pi-sign-out"},null,-1),e("span",null,"Sign in with a different account",-1)])])])],32)])])),e("div",Pe,[l(Q,{textClass:"text-sm text-gray-500"})])])])])],64)}}},We=R(Ee,[["__scopeId","data-v-0bbb4692"]]);export{We as default};
