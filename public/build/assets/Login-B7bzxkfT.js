import{s as R,j as f,f as T,c as n,o as i,d as r,w as y,g as B,a as s,n as V,u as t,b as m,e as S,t as x,y as D,h as N,q as F,i as j,v as q,T as z,F as U,z as K}from"./app-B4IzlJiH.js";import{u as A}from"./useToast-DeduNY1I.js";import{s as O}from"./index-BTG8dc6t.js";import{s as G}from"./index-DpLWEEG5.js";import{a as H}from"./index-CNbnBLPP.js";import{s as J}from"./index-Cq3_TU2V.js";import{s as Q,a as W}from"./index-BJ5J71IX.js";import{s as d}from"./index-Ck3mT2Mz.js";import{_ as X}from"./SeoHead-dqsOITal.js";import{_ as Y}from"./CopyrightText-D3xQ1XYt.js";import{R as Z}from"./ReCaptcha-DKo_ZVSH.js";import{P as ee}from"./PagePreloader-B2BRt2VJ.js";import{_ as te}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css            */import"./index-Cw6_OrR2.js";import"./index-DUzKNN2I.js";import"./index-URjhocLf.js";const se={class:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50 dark:from-gray-950 dark:via-gray-900 dark:to-slate-950 flex flex-col transition-colors duration-300"},ae={class:"w-full py-4 px-6"},re={class:"max-w-md mx-auto flex justify-end"},oe=["title"],le={class:"flex-1 flex items-center justify-center px-4 pb-8"},ie={class:"w-full max-w-md"},ne={key:0,class:"animate-pulse"},de={class:"text-center mb-8"},me={class:"inline-flex items-center justify-center mb-6"},ce={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 space-y-5"},ue={class:"flex justify-between"},pe={class:"pt-6 border-t border-gray-100 dark:border-gray-700"},ge={key:1,class:"animate-fade-in"},he={class:"text-center mb-8"},fe={class:"inline-flex items-center justify-center mb-6"},ye=["src","alt"],ve=["src","alt"],xe={key:2,class:"flex items-center gap-3"},ke={class:"text-2xl font-bold text-gray-900 dark:text-white"},be={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl shadow-gray-200/50 dark:shadow-none border border-gray-100 dark:border-gray-700 p-8 transition-colors duration-300"},we={key:0,class:"text-red-500 mt-1.5 block text-sm"},_e={class:"relative"},Ve={key:0,class:"text-red-500 mt-1.5 block text-sm"},Se={class:"flex items-center justify-between"},je={class:"flex items-center gap-2"},Pe={key:0,class:"flex justify-center"},Ce={key:1,class:"text-red-500 text-sm text-center block"},Le={key:0,class:"pi pi-sign-in mr-2"},Ee={class:"mt-6 pt-6 border-t border-gray-100 dark:border-gray-700"},Fe={class:"text-center text-sm text-gray-600 dark:text-gray-400"},Ie={class:"mt-8 text-center"},$e={__name:"Login",props:{canResetPassword:Boolean,status:String,recaptcha:{type:Object,default:()=>({enabled:!1,siteKey:"",version:"v2"})}},setup(g){const k=g,v=K(),P=A(),b=S(()=>{var o,e,u,l;return((e=(o=v.props.settings)==null?void 0:o.general)==null?void 0:e.site_name)||((l=(u=v.props.settings)==null?void 0:u.general)==null?void 0:l.app_name)||"Finora Bank"}),w=S(()=>{var o,e;return(e=(o=v.props.settings)==null?void 0:o.branding)==null?void 0:e.logo_light}),_=S(()=>{var o,e;return(e=(o=v.props.settings)==null?void 0:o.branding)==null?void 0:e.logo_dark}),C=f(!0),L=f(!1),c=f(!1);R(()=>{const o=localStorage.getItem("theme");(o==="dark"||!o&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&(c.value=!0,document.documentElement.classList.add("dark"))});const I=()=>{C.value=!1,setTimeout(()=>{L.value=!0},100)},$=()=>{c.value=!c.value,c.value?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},a=T({email:"",password:"",remember:!1,recaptcha_token:""}),p=f(!1),h=f(null),M=async()=>{var o;if(p.value=!0,(o=k.recaptcha)!=null&&o.enabled&&h.value)try{const e=await h.value.getToken();a.recaptcha_token=e}catch{P.error("Please complete the security verification.","Verification Failed"),p.value=!1;return}a.post(route("login"),{onError:e=>{var l,E;(l=k.recaptcha)!=null&&l.enabled&&((E=k.recaptcha)==null?void 0:E.version)==="v2"&&h.value&&h.value.reset();const u=e.recaptcha_token||e.email||"Invalid email or password. Please try again.";P.error(u,"Login Failed")},onFinish:()=>{p.value=!1,a.reset("password"),a.recaptcha_token=""}})};return(o,e)=>(i(),n(U,null,[r(X,{title:"Sign In"}),r(ee,{"min-load-time":1200,onComplete:I}),r(z,{"enter-active-class":"transition-all duration-500 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100"},{default:y(()=>{var u;return[B(s("div",se,[s("div",ae,[s("div",re,[s("button",{onClick:$,class:"p-2.5 rounded-xl bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-200 shadow-sm hover:shadow-md",title:c.value?"Switch to light mode":"Switch to dark mode"},[s("i",{class:V([c.value?"pi pi-sun":"pi pi-moon","text-lg"])},null,2)],8,oe)])]),s("div",le,[s("div",ie,[C.value?(i(),n("div",ne,[s("div",de,[s("div",me,[r(t(d),{width:"3.5rem",height:"3.5rem",class:"rounded-xl"})]),r(t(d),{width:"70%",height:"2rem",class:"mx-auto mb-2"}),r(t(d),{width:"80%",height:"1.25rem",class:"mx-auto"})]),s("div",ce,[s("div",null,[r(t(d),{width:"6rem",height:"1rem",class:"mb-2"}),r(t(d),{height:"3rem",class:"w-full"})]),s("div",null,[r(t(d),{width:"5rem",height:"1rem",class:"mb-2"}),r(t(d),{height:"3rem",class:"w-full"})]),s("div",ue,[r(t(d),{width:"6rem",height:"1rem"}),r(t(d),{width:"7rem",height:"1rem"})]),r(t(d),{height:"3rem",class:"w-full"}),s("div",pe,[r(t(d),{width:"60%",height:"1rem",class:"mx-auto"})])])])):(i(),n("div",ge,[s("div",he,[s("div",fe,[w.value?(i(),n("img",{key:0,src:w.value,alt:b.value,class:"h-14 w-auto dark:hidden"},null,8,ye)):m("",!0),_.value?(i(),n("img",{key:1,src:_.value,alt:b.value,class:"h-14 w-auto hidden dark:block"},null,8,ve)):m("",!0),!w.value&&!_.value?(i(),n("div",xe,[e[5]||(e[5]=s("div",{class:"w-12 h-12 bg-gradient-to-br from-primary-600 to-primary-700 rounded-xl flex items-center justify-center shadow-lg shadow-primary-500/25"},[s("span",{class:"text-2xl font-bold text-white"},"F")],-1)),s("span",ke,x(b.value),1)])):m("",!0)]),e[6]||(e[6]=s("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white mb-2"}," Sign in to your account ",-1)),e[7]||(e[7]=s("p",{class:"text-gray-500 dark:text-gray-400"}," Enter your credentials to access your dashboard ",-1))]),s("div",be,[s("form",{onSubmit:D(M,["prevent"]),class:"space-y-5"},[s("div",null,[e[8]||(e[8]=s("label",{for:"email",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Email Address ",-1)),r(t(Q),null,{default:y(()=>[r(t(W),{class:"pi pi-envelope"}),r(t(O),{id:"email",modelValue:t(a).email,"onUpdate:modelValue":e[0]||(e[0]=l=>t(a).email=l),type:"email",placeholder:"name@example.com",class:V(["w-full",{"p-invalid":t(a).errors.email}]),required:"",autofocus:""},null,8,["modelValue","class"])]),_:1}),t(a).errors.email?(i(),n("small",we,x(t(a).errors.email),1)):m("",!0)]),s("div",null,[e[10]||(e[10]=s("label",{for:"password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Password ",-1)),s("div",_e,[e[9]||(e[9]=s("span",{class:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500 z-10 pointer-events-none"},[s("i",{class:"pi pi-lock"})],-1)),r(t(G),{id:"password",modelValue:t(a).password,"onUpdate:modelValue":e[1]||(e[1]=l=>t(a).password=l),placeholder:"Enter your password",toggleMask:"",feedback:!1,class:V(["w-full",{"p-invalid":t(a).errors.password}]),inputClass:"w-full",required:""},null,8,["modelValue","class"])]),t(a).errors.password?(i(),n("small",Ve,x(t(a).errors.password),1)):m("",!0)]),s("div",Se,[s("div",je,[r(t(J),{modelValue:t(a).remember,"onUpdate:modelValue":e[2]||(e[2]=l=>t(a).remember=l),inputId:"remember",binary:!0},null,8,["modelValue"]),e[11]||(e[11]=s("label",{for:"remember",class:"text-sm text-gray-600 dark:text-gray-400 cursor-pointer select-none"}," Remember me ",-1))]),g.canResetPassword?(i(),N(t(F),{key:0,href:o.route("password.request"),class:"text-sm font-medium text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 transition-colors"},{default:y(()=>[...e[12]||(e[12]=[j(" Forgot password? ",-1)])]),_:1},8,["href"])):m("",!0)]),(u=g.recaptcha)!=null&&u.enabled?(i(),n("div",Pe,[r(Z,{ref_key:"recaptchaRef",ref:h,"site-key":g.recaptcha.siteKey,version:g.recaptcha.version,theme:c.value?"dark":"light",action:"login",onVerify:e[3]||(e[3]=l=>t(a).recaptcha_token=l),onExpire:e[4]||(e[4]=()=>t(a).recaptcha_token="")},null,8,["site-key","version","theme"])])):m("",!0),t(a).errors.recaptcha_token?(i(),n("small",Ce,x(t(a).errors.recaptcha_token),1)):m("",!0),r(t(H),{type:"submit",loading:p.value||t(a).processing,disabled:p.value||t(a).processing,class:"w-full justify-center",size:"large"},{default:y(()=>[!p.value&&!t(a).processing?(i(),n("i",Le)):m("",!0),e[13]||(e[13]=s("span",null,"Sign In",-1))]),_:1},8,["loading","disabled"])],32),s("div",Ee,[s("p",Fe,[e[15]||(e[15]=j(" Don't have an account? ",-1)),r(t(F),{href:o.route("register"),class:"font-semibold text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 transition-colors ml-1"},{default:y(()=>[...e[14]||(e[14]=[j(" Create account ",-1)])]),_:1},8,["href"])])])])])),s("div",Ie,[r(Y,{"text-class":"text-sm text-gray-500 dark:text-gray-500"})])])])],512),[[q,L.value]])]}),_:1})],64))}},Xe=te($e,[["__scopeId","data-v-8c69f2c9"]]);export{Xe as default};
