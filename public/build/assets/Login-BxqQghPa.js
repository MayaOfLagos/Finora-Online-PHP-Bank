import{s as M,j as y,f as P,c as n,o as i,d as r,a as s,n as V,u as t,b as m,e as j,t as x,y as R,w as v,h as B,i as S,q as I,F as D,z as N}from"./app-pKJNfMRl.js";import{u as T}from"./useToast-Clsx83_F.js";import{s as q}from"./index-CfAZwmyf.js";import{s as z}from"./index-BEbGsnsK.js";import{a as U}from"./index-0Wu5cDGM.js";import{s as K}from"./index-DB7UB6I5.js";import{a as A,s as O}from"./index-CNg3KC2i.js";import{s as d}from"./index-BX7aPWpF.js";import{_ as G}from"./SeoHead-ChAvh1iH.js";import{_ as H}from"./CopyrightText-BgjqrfdI.js";import{R as J}from"./ReCaptcha-NxpUfdmj.js";import{_ as Q}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css            */import"./index-C89qVnDF.js";import"./index-DPCvanh-.js";import"./index-gutiSzhf.js";const W={class:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50 dark:from-gray-950 dark:via-gray-900 dark:to-slate-950 flex flex-col transition-colors duration-300"},X={class:"w-full py-4 px-6"},Y={class:"max-w-md mx-auto flex justify-end"},Z=["title"],ee={class:"flex-1 flex items-center justify-center px-4 pb-8"},te={class:"w-full max-w-md"},se={key:0,class:"animate-pulse"},ae={class:"text-center mb-8"},re={class:"inline-flex items-center justify-center mb-6"},oe={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 space-y-5"},le={class:"flex justify-between"},ie={class:"pt-6 border-t border-gray-100 dark:border-gray-700"},ne={key:1,class:"animate-fade-in"},de={class:"text-center mb-8"},me={class:"inline-flex items-center justify-center mb-6"},ce=["src","alt"],ue=["src","alt"],pe={key:2,class:"flex items-center gap-3"},ge={class:"text-2xl font-bold text-gray-900 dark:text-white"},he={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl shadow-gray-200/50 dark:shadow-none border border-gray-100 dark:border-gray-700 p-8 transition-colors duration-300"},fe={key:0,class:"text-red-500 mt-1.5 block text-sm"},ye={class:"relative"},xe={key:0,class:"text-red-500 mt-1.5 block text-sm"},ve={class:"flex items-center justify-between"},ke={class:"flex items-center gap-2"},be={key:0,class:"flex justify-center"},we={key:1,class:"text-red-500 text-sm text-center block"},_e={key:0,class:"pi pi-sign-in mr-2"},Ve={class:"mt-6 pt-6 border-t border-gray-100 dark:border-gray-700"},je={class:"text-center text-sm text-gray-600 dark:text-gray-400"},Se={class:"mt-8 text-center"},Le={__name:"Login",props:{canResetPassword:Boolean,status:String,recaptcha:{type:Object,default:()=>({enabled:!1,siteKey:"",version:"v2"})}},setup(g){const k=g,f=N(),L=T(),b=j(()=>{var o,e,u,l;return((e=(o=f.props.settings)==null?void 0:o.general)==null?void 0:e.site_name)||((l=(u=f.props.settings)==null?void 0:u.general)==null?void 0:l.app_name)||"Finora Bank"}),w=j(()=>{var o,e;return(e=(o=f.props.settings)==null?void 0:o.branding)==null?void 0:e.logo_light}),_=j(()=>{var o,e;return(e=(o=f.props.settings)==null?void 0:o.branding)==null?void 0:e.logo_dark}),E=y(!0),c=y(!1);M(()=>{const o=localStorage.getItem("theme");(o==="dark"||!o&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&(c.value=!0,document.documentElement.classList.add("dark")),setTimeout(()=>{E.value=!1},300)});const $=()=>{c.value=!c.value,c.value?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},a=P({email:"",password:"",remember:!1,recaptcha_token:""}),p=y(!1),h=y(null),C=async()=>{var o;if(p.value=!0,(o=k.recaptcha)!=null&&o.enabled&&h.value)try{const e=await h.value.getToken();a.recaptcha_token=e}catch{L.error("Please complete the security verification.","Verification Failed"),p.value=!1;return}a.post(route("login"),{onError:e=>{var l,F;(l=k.recaptcha)!=null&&l.enabled&&((F=k.recaptcha)==null?void 0:F.version)==="v2"&&h.value&&h.value.reset();const u=e.recaptcha_token||e.email||"Invalid email or password. Please try again.";L.error(u,"Login Failed")},onFinish:()=>{p.value=!1,a.reset("password"),a.recaptcha_token=""}})};return(o,e)=>{var u;return i(),n(D,null,[r(G,{title:"Sign In"}),s("div",W,[s("div",X,[s("div",Y,[s("button",{onClick:$,class:"p-2.5 rounded-xl bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-200 shadow-sm hover:shadow-md",title:c.value?"Switch to light mode":"Switch to dark mode"},[s("i",{class:V([c.value?"pi pi-sun":"pi pi-moon","text-lg"])},null,2)],8,Z)])]),s("div",ee,[s("div",te,[E.value?(i(),n("div",se,[s("div",ae,[s("div",re,[r(t(d),{width:"3.5rem",height:"3.5rem",class:"rounded-xl"})]),r(t(d),{width:"70%",height:"2rem",class:"mx-auto mb-2"}),r(t(d),{width:"80%",height:"1.25rem",class:"mx-auto"})]),s("div",oe,[s("div",null,[r(t(d),{width:"6rem",height:"1rem",class:"mb-2"}),r(t(d),{height:"3rem",class:"w-full"})]),s("div",null,[r(t(d),{width:"5rem",height:"1rem",class:"mb-2"}),r(t(d),{height:"3rem",class:"w-full"})]),s("div",le,[r(t(d),{width:"6rem",height:"1rem"}),r(t(d),{width:"7rem",height:"1rem"})]),r(t(d),{height:"3rem",class:"w-full"}),s("div",ie,[r(t(d),{width:"60%",height:"1rem",class:"mx-auto"})])])])):(i(),n("div",ne,[s("div",de,[s("div",me,[w.value?(i(),n("img",{key:0,src:w.value,alt:b.value,class:"h-14 w-auto dark:hidden"},null,8,ce)):m("",!0),_.value?(i(),n("img",{key:1,src:_.value,alt:b.value,class:"h-14 w-auto hidden dark:block"},null,8,ue)):m("",!0),!w.value&&!_.value?(i(),n("div",pe,[e[5]||(e[5]=s("div",{class:"w-12 h-12 bg-gradient-to-br from-primary-600 to-primary-700 rounded-xl flex items-center justify-center shadow-lg shadow-primary-500/25"},[s("span",{class:"text-2xl font-bold text-white"},"F")],-1)),s("span",ge,x(b.value),1)])):m("",!0)]),e[6]||(e[6]=s("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white mb-2"}," Sign in to your account ",-1)),e[7]||(e[7]=s("p",{class:"text-gray-500 dark:text-gray-400"}," Enter your credentials to access your dashboard ",-1))]),s("div",he,[s("form",{onSubmit:R(C,["prevent"]),class:"space-y-5"},[s("div",null,[e[8]||(e[8]=s("label",{for:"email",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Email Address ",-1)),r(t(O),null,{default:v(()=>[r(t(A),{class:"pi pi-envelope"}),r(t(q),{id:"email",modelValue:t(a).email,"onUpdate:modelValue":e[0]||(e[0]=l=>t(a).email=l),type:"email",placeholder:"name@example.com",class:V(["w-full",{"p-invalid":t(a).errors.email}]),required:"",autofocus:""},null,8,["modelValue","class"])]),_:1}),t(a).errors.email?(i(),n("small",fe,x(t(a).errors.email),1)):m("",!0)]),s("div",null,[e[10]||(e[10]=s("label",{for:"password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Password ",-1)),s("div",ye,[e[9]||(e[9]=s("span",{class:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500 z-10 pointer-events-none"},[s("i",{class:"pi pi-lock"})],-1)),r(t(z),{id:"password",modelValue:t(a).password,"onUpdate:modelValue":e[1]||(e[1]=l=>t(a).password=l),placeholder:"Enter your password",toggleMask:"",feedback:!1,class:V(["w-full",{"p-invalid":t(a).errors.password}]),inputClass:"w-full",required:""},null,8,["modelValue","class"])]),t(a).errors.password?(i(),n("small",xe,x(t(a).errors.password),1)):m("",!0)]),s("div",ve,[s("div",ke,[r(t(K),{modelValue:t(a).remember,"onUpdate:modelValue":e[2]||(e[2]=l=>t(a).remember=l),inputId:"remember",binary:!0},null,8,["modelValue"]),e[11]||(e[11]=s("label",{for:"remember",class:"text-sm text-gray-600 dark:text-gray-400 cursor-pointer select-none"}," Remember me ",-1))]),g.canResetPassword?(i(),B(t(I),{key:0,href:o.route("password.request"),class:"text-sm font-medium text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 transition-colors"},{default:v(()=>[...e[12]||(e[12]=[S(" Forgot password? ",-1)])]),_:1},8,["href"])):m("",!0)]),(u=g.recaptcha)!=null&&u.enabled?(i(),n("div",be,[r(J,{ref_key:"recaptchaRef",ref:h,"site-key":g.recaptcha.siteKey,version:g.recaptcha.version,theme:c.value?"dark":"light",action:"login",onVerify:e[3]||(e[3]=l=>t(a).recaptcha_token=l),onExpire:e[4]||(e[4]=()=>t(a).recaptcha_token="")},null,8,["site-key","version","theme"])])):m("",!0),t(a).errors.recaptcha_token?(i(),n("small",we,x(t(a).errors.recaptcha_token),1)):m("",!0),r(t(U),{type:"submit",loading:p.value||t(a).processing,disabled:p.value||t(a).processing,class:"w-full justify-center",size:"large"},{default:v(()=>[!p.value&&!t(a).processing?(i(),n("i",_e)):m("",!0),e[13]||(e[13]=s("span",null,"Sign In",-1))]),_:1},8,["loading","disabled"])],32),s("div",Ve,[s("p",je,[e[15]||(e[15]=S(" Don't have an account? ",-1)),r(t(I),{href:o.route("register"),class:"font-semibold text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 transition-colors ml-1"},{default:v(()=>[...e[14]||(e[14]=[S(" Create account ",-1)])]),_:1},8,["href"])])])])])),s("div",Se,[r(H,{"text-class":"text-sm text-gray-500 dark:text-gray-500"})])])])])],64)}}},Ae=Q(Le,[["__scopeId","data-v-0c9b19dd"]]);export{Ae as default};
