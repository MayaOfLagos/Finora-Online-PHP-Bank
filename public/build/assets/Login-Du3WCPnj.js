import{k as $,y as C,j as w,f as M,c as n,d as l,a as t,u as s,n as _,b as d,e as V,t as y,z as R,w as x,h as B,i as S,s as F,o as i,F as P,A as D}from"./app-DHxMuEMK.js";import{s as N}from"./index-suhzkvMD.js";import{s as z}from"./index-DWx0vjXn.js";import{a as T}from"./index-BbYzRP1s.js";import{s as q}from"./index-Ch6CLAH_.js";import{a as U,s as A}from"./index-DGVzpvqG.js";import{s as K}from"./index-04js_i5f.js";import{_ as O}from"./SeoHead-HtfAkDSb.js";import{_ as G}from"./CopyrightText-B-RhcaGX.js";import{R as H}from"./ReCaptcha-B3OGjynE.js";import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css            */import"./index-GfaaQrcN.js";import"./index-C8Y5LQFR.js";import"./index-CxquMfuF.js";const Q={class:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50 dark:from-gray-950 dark:via-gray-900 dark:to-slate-950 flex flex-col transition-colors duration-300"},W={class:"w-full py-4 px-6"},X={class:"max-w-md mx-auto flex justify-end"},Y=["title"],Z={class:"flex-1 flex items-center justify-center px-4 pb-8"},ee={class:"w-full max-w-md"},te={class:"text-center mb-8"},se={class:"inline-flex items-center justify-center mb-6"},ae=["src","alt"],re=["src","alt"],oe={key:2,class:"flex items-center gap-3"},le={class:"text-2xl font-bold text-gray-900 dark:text-white"},ie={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl shadow-gray-200/50 dark:shadow-none border border-gray-100 dark:border-gray-700 p-8 transition-colors duration-300"},ne={key:0,class:"text-red-500 mt-1.5 block text-sm"},de={class:"relative"},me={key:0,class:"text-red-500 mt-1.5 block text-sm"},ce={class:"flex items-center justify-between"},ue={class:"flex items-center gap-2"},pe={key:0,class:"flex justify-center"},ge={key:1,class:"text-red-500 text-sm text-center block"},fe={key:0,class:"pi pi-sign-in mr-2"},ye={class:"mt-6 pt-6 border-t border-gray-100 dark:border-gray-700"},xe={class:"text-center text-sm text-gray-600 dark:text-gray-400"},ke={class:"mt-8 text-center"},ve={__name:"Login",props:{canResetPassword:Boolean,status:String,recaptcha:{type:Object,default:()=>({enabled:!1,siteKey:"",version:"v2"})}},setup(p){const k=p,f=D(),j=$(),v=V(()=>{var r,e,c,o;return((e=(r=f.props.settings)==null?void 0:r.general)==null?void 0:e.site_name)||((o=(c=f.props.settings)==null?void 0:c.general)==null?void 0:o.app_name)||"Finora Bank"}),b=V(()=>{var r,e;return(e=(r=f.props.settings)==null?void 0:r.branding)==null?void 0:e.logo_light}),h=V(()=>{var r,e;return(e=(r=f.props.settings)==null?void 0:r.branding)==null?void 0:e.logo_dark}),m=w(!1);C(()=>{const r=localStorage.getItem("theme");(r==="dark"||!r&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&(m.value=!0,document.documentElement.classList.add("dark"))});const L=()=>{m.value=!m.value,m.value?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},a=M({email:"",password:"",remember:!1,recaptcha_token:""}),u=w(!1),g=w(null),I=async()=>{var r;if(u.value=!0,(r=k.recaptcha)!=null&&r.enabled&&g.value)try{const e=await g.value.getToken();a.recaptcha_token=e}catch{j.add({severity:"error",summary:"Verification Failed",detail:"Please complete the security verification.",life:3e3}),u.value=!1;return}a.post(route("login"),{onError:e=>{var o,E;(o=k.recaptcha)!=null&&o.enabled&&((E=k.recaptcha)==null?void 0:E.version)==="v2"&&g.value&&g.value.reset();const c=e.recaptcha_token||e.email||"Invalid email or password. Please try again.";j.add({severity:"error",summary:"Login Failed",detail:c,life:3e3})},onFinish:()=>{u.value=!1,a.reset("password"),a.recaptcha_token=""}})};return(r,e)=>{var c;return i(),n(P,null,[l(O,{title:"Sign In"}),l(s(K)),t("div",Q,[t("div",W,[t("div",X,[t("button",{onClick:L,class:"p-2.5 rounded-xl bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-200 shadow-sm hover:shadow-md",title:m.value?"Switch to light mode":"Switch to dark mode"},[t("i",{class:_([m.value?"pi pi-sun":"pi pi-moon","text-lg"])},null,2)],8,Y)])]),t("div",Z,[t("div",ee,[t("div",te,[t("div",se,[b.value?(i(),n("img",{key:0,src:b.value,alt:v.value,class:"h-14 w-auto dark:hidden"},null,8,ae)):d("",!0),h.value?(i(),n("img",{key:1,src:h.value,alt:v.value,class:"h-14 w-auto hidden dark:block"},null,8,re)):d("",!0),!b.value&&!h.value?(i(),n("div",oe,[e[5]||(e[5]=t("div",{class:"w-12 h-12 bg-gradient-to-br from-primary-600 to-primary-700 rounded-xl flex items-center justify-center shadow-lg shadow-primary-500/25"},[t("span",{class:"text-2xl font-bold text-white"},"F")],-1)),t("span",le,y(v.value),1)])):d("",!0)]),e[6]||(e[6]=t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white mb-2"}," Sign in to your account ",-1)),e[7]||(e[7]=t("p",{class:"text-gray-500 dark:text-gray-400"}," Enter your credentials to access your dashboard ",-1))]),t("div",ie,[t("form",{onSubmit:R(I,["prevent"]),class:"space-y-5"},[t("div",null,[e[8]||(e[8]=t("label",{for:"email",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Email Address ",-1)),l(s(A),null,{default:x(()=>[l(s(U),{class:"pi pi-envelope"}),l(s(N),{id:"email",modelValue:s(a).email,"onUpdate:modelValue":e[0]||(e[0]=o=>s(a).email=o),type:"email",placeholder:"name@example.com",class:_(["w-full",{"p-invalid":s(a).errors.email}]),required:"",autofocus:""},null,8,["modelValue","class"])]),_:1}),s(a).errors.email?(i(),n("small",ne,y(s(a).errors.email),1)):d("",!0)]),t("div",null,[e[10]||(e[10]=t("label",{for:"password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Password ",-1)),t("div",de,[e[9]||(e[9]=t("span",{class:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500 z-10 pointer-events-none"},[t("i",{class:"pi pi-lock"})],-1)),l(s(z),{id:"password",modelValue:s(a).password,"onUpdate:modelValue":e[1]||(e[1]=o=>s(a).password=o),placeholder:"Enter your password",toggleMask:"",feedback:!1,class:_(["w-full",{"p-invalid":s(a).errors.password}]),inputClass:"w-full",required:""},null,8,["modelValue","class"])]),s(a).errors.password?(i(),n("small",me,y(s(a).errors.password),1)):d("",!0)]),t("div",ce,[t("div",ue,[l(s(q),{modelValue:s(a).remember,"onUpdate:modelValue":e[2]||(e[2]=o=>s(a).remember=o),inputId:"remember",binary:!0},null,8,["modelValue"]),e[11]||(e[11]=t("label",{for:"remember",class:"text-sm text-gray-600 dark:text-gray-400 cursor-pointer select-none"}," Remember me ",-1))]),p.canResetPassword?(i(),B(s(F),{key:0,href:r.route("password.request"),class:"text-sm font-medium text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 transition-colors"},{default:x(()=>[...e[12]||(e[12]=[S(" Forgot password? ",-1)])]),_:1},8,["href"])):d("",!0)]),(c=p.recaptcha)!=null&&c.enabled?(i(),n("div",pe,[l(H,{ref_key:"recaptchaRef",ref:g,"site-key":p.recaptcha.siteKey,version:p.recaptcha.version,theme:m.value?"dark":"light",action:"login",onVerify:e[3]||(e[3]=o=>s(a).recaptcha_token=o),onExpire:e[4]||(e[4]=()=>s(a).recaptcha_token="")},null,8,["site-key","version","theme"])])):d("",!0),s(a).errors.recaptcha_token?(i(),n("small",ge,y(s(a).errors.recaptcha_token),1)):d("",!0),l(s(T),{type:"submit",loading:u.value||s(a).processing,disabled:u.value||s(a).processing,class:"w-full justify-center",size:"large"},{default:x(()=>[!u.value&&!s(a).processing?(i(),n("i",fe)):d("",!0),e[13]||(e[13]=t("span",null,"Sign In",-1))]),_:1},8,["loading","disabled"])],32),t("div",ye,[t("p",xe,[e[15]||(e[15]=S(" Don't have an account? ",-1)),l(s(F),{href:r.route("register"),class:"font-semibold text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 transition-colors ml-1"},{default:x(()=>[...e[14]||(e[14]=[S(" Create account ",-1)])]),_:1},8,["href"])])])]),t("div",ke,[l(G,{"text-class":"text-sm text-gray-500 dark:text-gray-500"})])])])])],64)}}},Be=J(ve,[["__scopeId","data-v-33f8bbe8"]]);export{Be as default};
