import{k as C,y as M,j as w,f as R,c as n,d as o,a as t,e as _,u as s,p as $,n as V,b as d,t as y,z as B,w as x,h as P,i as S,s as F,o as i,F as D,A as N}from"./app-DRlIZgw_.js";import{s as z}from"./index-CqdY7K2D.js";import{s as T}from"./index-tPBCTqbb.js";import{a as q}from"./index-1X62seSq.js";import{s as U}from"./index-ClToNvHL.js";import{a as A,s as K}from"./index-DeWCtbhP.js";import{s as O}from"./index-CF5q_2Uq.js";import{_ as G}from"./CopyrightText-C7iuoV8K.js";import{R as H}from"./ReCaptcha-CkdVcLih.js";import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css            */import"./index-jFufJh3m.js";import"./index-C-nIDwpo.js";const Q={class:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50 dark:from-gray-950 dark:via-gray-900 dark:to-slate-950 flex flex-col transition-colors duration-300"},W={class:"w-full py-4 px-6"},X={class:"max-w-md mx-auto flex justify-end"},Y=["title"],Z={class:"flex-1 flex items-center justify-center px-4 pb-8"},ee={class:"w-full max-w-md"},te={class:"text-center mb-8"},se={class:"inline-flex items-center justify-center mb-6"},ae=["src","alt"],re=["src","alt"],oe={key:2,class:"flex items-center gap-3"},le={class:"text-2xl font-bold text-gray-900 dark:text-white"},ie={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl shadow-gray-200/50 dark:shadow-none border border-gray-100 dark:border-gray-700 p-8 transition-colors duration-300"},ne={key:0,class:"text-red-500 mt-1.5 block text-sm"},de={class:"relative"},me={key:0,class:"text-red-500 mt-1.5 block text-sm"},ce={class:"flex items-center justify-between"},ue={class:"flex items-center gap-2"},pe={key:0,class:"flex justify-center"},ge={key:1,class:"text-red-500 text-sm text-center block"},fe={key:0,class:"pi pi-sign-in mr-2"},ye={class:"mt-6 pt-6 border-t border-gray-100 dark:border-gray-700"},xe={class:"text-center text-sm text-gray-600 dark:text-gray-400"},ke={class:"mt-8 text-center"},ve={__name:"Login",props:{canResetPassword:Boolean,status:String,recaptcha:{type:Object,default:()=>({enabled:!1,siteKey:"",version:"v2"})}},setup(u){const k=u,v=N(),j=C(),g=_(()=>{var r,e;return((e=(r=v.props.settings)==null?void 0:r.general)==null?void 0:e.site_name)||"Finora Bank"}),b=_(()=>{var r,e;return(e=(r=v.props.settings)==null?void 0:r.branding)==null?void 0:e.site_logo}),h=_(()=>{var r,e;return(e=(r=v.props.settings)==null?void 0:r.branding)==null?void 0:e.site_logo_dark}),m=w(!1);M(()=>{const r=localStorage.getItem("theme");(r==="dark"||!r&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&(m.value=!0,document.documentElement.classList.add("dark"))});const L=()=>{m.value=!m.value,m.value?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},a=R({email:"",password:"",remember:!1,recaptcha_token:""}),c=w(!1),p=w(null),I=async()=>{var r;if(c.value=!0,(r=k.recaptcha)!=null&&r.enabled&&p.value)try{const e=await p.value.getToken();a.recaptcha_token=e}catch{j.add({severity:"error",summary:"Verification Failed",detail:"Please complete the security verification.",life:3e3}),c.value=!1;return}a.post(route("login"),{onError:e=>{var l,E;(l=k.recaptcha)!=null&&l.enabled&&((E=k.recaptcha)==null?void 0:E.version)==="v2"&&p.value&&p.value.reset();const f=e.recaptcha_token||e.email||"Invalid email or password. Please try again.";j.add({severity:"error",summary:"Login Failed",detail:f,life:3e3})},onFinish:()=>{c.value=!1,a.reset("password"),a.recaptcha_token=""}})};return(r,e)=>{var f;return i(),n(D,null,[o(s($),{title:"Sign In - "+g.value},null,8,["title"]),o(s(O)),t("div",Q,[t("div",W,[t("div",X,[t("button",{onClick:L,class:"p-2.5 rounded-xl bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-200 shadow-sm hover:shadow-md",title:m.value?"Switch to light mode":"Switch to dark mode"},[t("i",{class:V([m.value?"pi pi-sun":"pi pi-moon","text-lg"])},null,2)],8,Y)])]),t("div",Z,[t("div",ee,[t("div",te,[t("div",se,[b.value?(i(),n("img",{key:0,src:b.value,alt:g.value,class:"h-14 w-auto dark:hidden"},null,8,ae)):d("",!0),h.value?(i(),n("img",{key:1,src:h.value,alt:g.value,class:"h-14 w-auto hidden dark:block"},null,8,re)):d("",!0),!b.value&&!h.value?(i(),n("div",oe,[e[5]||(e[5]=t("div",{class:"w-12 h-12 bg-gradient-to-br from-primary-600 to-primary-700 rounded-xl flex items-center justify-center shadow-lg shadow-primary-500/25"},[t("span",{class:"text-2xl font-bold text-white"},"F")],-1)),t("span",le,y(g.value),1)])):d("",!0)]),e[6]||(e[6]=t("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white mb-2"}," Sign in to your account ",-1)),e[7]||(e[7]=t("p",{class:"text-gray-500 dark:text-gray-400"}," Enter your credentials to access your dashboard ",-1))]),t("div",ie,[t("form",{onSubmit:B(I,["prevent"]),class:"space-y-5"},[t("div",null,[e[8]||(e[8]=t("label",{for:"email",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Email Address ",-1)),o(s(K),null,{default:x(()=>[o(s(A),{class:"pi pi-envelope"}),o(s(z),{id:"email",modelValue:s(a).email,"onUpdate:modelValue":e[0]||(e[0]=l=>s(a).email=l),type:"email",placeholder:"name@example.com",class:V(["w-full",{"p-invalid":s(a).errors.email}]),required:"",autofocus:""},null,8,["modelValue","class"])]),_:1}),s(a).errors.email?(i(),n("small",ne,y(s(a).errors.email),1)):d("",!0)]),t("div",null,[e[10]||(e[10]=t("label",{for:"password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Password ",-1)),t("div",de,[e[9]||(e[9]=t("span",{class:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500 z-10 pointer-events-none"},[t("i",{class:"pi pi-lock"})],-1)),o(s(T),{id:"password",modelValue:s(a).password,"onUpdate:modelValue":e[1]||(e[1]=l=>s(a).password=l),placeholder:"Enter your password",toggleMask:"",feedback:!1,class:V(["w-full",{"p-invalid":s(a).errors.password}]),inputClass:"w-full",required:""},null,8,["modelValue","class"])]),s(a).errors.password?(i(),n("small",me,y(s(a).errors.password),1)):d("",!0)]),t("div",ce,[t("div",ue,[o(s(U),{modelValue:s(a).remember,"onUpdate:modelValue":e[2]||(e[2]=l=>s(a).remember=l),inputId:"remember",binary:!0},null,8,["modelValue"]),e[11]||(e[11]=t("label",{for:"remember",class:"text-sm text-gray-600 dark:text-gray-400 cursor-pointer select-none"}," Remember me ",-1))]),u.canResetPassword?(i(),P(s(F),{key:0,href:r.route("password.request"),class:"text-sm font-medium text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 transition-colors"},{default:x(()=>[...e[12]||(e[12]=[S(" Forgot password? ",-1)])]),_:1},8,["href"])):d("",!0)]),(f=u.recaptcha)!=null&&f.enabled?(i(),n("div",pe,[o(H,{ref_key:"recaptchaRef",ref:p,"site-key":u.recaptcha.siteKey,version:u.recaptcha.version,theme:m.value?"dark":"light",action:"login",onVerify:e[3]||(e[3]=l=>s(a).recaptcha_token=l),onExpire:e[4]||(e[4]=()=>s(a).recaptcha_token="")},null,8,["site-key","version","theme"])])):d("",!0),s(a).errors.recaptcha_token?(i(),n("small",ge,y(s(a).errors.recaptcha_token),1)):d("",!0),o(s(q),{type:"submit",loading:c.value||s(a).processing,disabled:c.value||s(a).processing,class:"w-full justify-center",size:"large"},{default:x(()=>[!c.value&&!s(a).processing?(i(),n("i",fe)):d("",!0),e[13]||(e[13]=t("span",null,"Sign In",-1))]),_:1},8,["loading","disabled"])],32),t("div",ye,[t("p",xe,[e[15]||(e[15]=S(" Don't have an account? ",-1)),o(s(F),{href:r.route("register"),class:"font-semibold text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 transition-colors ml-1"},{default:x(()=>[...e[14]||(e[14]=[S(" Create account ",-1)])]),_:1},8,["href"])])])]),t("div",ke,[o(G,{"text-class":"text-sm text-gray-500 dark:text-gray-500"})])])])])],64)}}},Re=J(ve,[["__scopeId","data-v-aefeb6b7"]]);export{Re as default};
