import{j as m,D as x,e as A,y as N,ap as c,c as i,b as p,a as y,t as g,F as P,r as E,n as F,o as d}from"./app-BH9M3DIG.js";const j={class:"pin-input-wrapper"},K={key:0,class:"block text-sm font-medium text-gray-700 mb-3"},L={class:"flex gap-2 sm:gap-3 justify-center"},R=["type","value","disabled","onInput","onKeydown"],S={key:1,class:"mt-2 text-sm text-red-600 text-center"},C={class:"mt-3 text-xs text-gray-500 text-center"},T={__name:"PinInput",props:{length:{type:Number,default:6},masked:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},error:{type:String,default:""},label:{type:String,default:"Enter PIN"},autoFocus:{type:Boolean,default:!0}},emits:["complete","update:modelValue","change"],setup(l,{expose:b,emit:v}){const r=l,f=v,u=m([]),n=m(Array(r.length).fill("")),k=A(()=>n.value.join(""));x(k,e=>{f("update:modelValue",e),f("change",e),e.length===r.length&&f("complete",e)});const w=(e,s)=>{const o=s.target.value;o.length>1?n.value[e]=o.slice(-1):n.value[e]=o,o&&e<r.length-1&&c(()=>{var t;(t=u.value[e+1])==null||t.focus()})},D=(e,s)=>{var o,t;s.key==="Backspace"&&(!n.value[e]&&e>0&&c(()=>{var a;(a=u.value[e-1])==null||a.focus()}),n.value[e]=""),s.key==="ArrowLeft"&&e>0&&((o=u.value[e-1])==null||o.focus()),s.key==="ArrowRight"&&e<r.length-1&&((t=u.value[e+1])==null||t.focus()),!/^\d$/.test(s.key)&&!["Backspace","Delete","Tab","ArrowLeft","ArrowRight"].includes(s.key)&&s.preventDefault()},B=e=>{e.preventDefault();const o=e.clipboardData.getData("text").slice(0,r.length).replace(/\D/g,"").split("");o.forEach((a,h)=>{h<r.length&&(n.value[h]=a)});const t=Math.min(o.length,r.length)-1;c(()=>{var a;(a=u.value[t])==null||a.focus()})},I=()=>{n.value=Array(r.length).fill(""),c(()=>{var e;(e=u.value[0])==null||e.focus()})};return N(()=>{r.autoFocus&&c(()=>{var e;(e=u.value[0])==null||e.focus()})}),b({clear:I}),(e,s)=>(d(),i("div",j,[l.label?(d(),i("label",K,g(l.label),1)):p("",!0),y("div",L,[(d(!0),i(P,null,E(l.length,(o,t)=>(d(),i("input",{key:t,ref_for:!0,ref:a=>u.value[t]=a,type:l.masked?"password":"text",inputmode:"numeric",maxlength:"1",value:n.value[t],disabled:l.disabled,class:F(["w-12 h-14 sm:w-14 sm:h-16 text-center text-2xl font-bold rounded-xl border-2 transition-all","focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",l.error?"border-red-300 bg-red-50":"border-gray-200 bg-white",l.disabled?"opacity-50 cursor-not-allowed bg-gray-100":"hover:border-gray-300",n.value[t]?"border-indigo-300":""]),onInput:a=>w(t,a),onKeydown:a=>D(t,a),onPaste:B},null,42,R))),128))]),l.error?(d(),i("p",S,g(l.error),1)):p("",!0),y("p",C," Enter your "+g(l.length)+"-digit PIN ",1)]))}};export{T as _};
