import{k as z,f as V,c as p,d as r,a as e,u as t,w as u,s as h,t as y,e as c,b as _,n as l,i,j as C,F,A as N,o as f}from"./app-BNwq58pk.js";import{s as R}from"./index-DMLCVb4V.js";import{s as k}from"./index-BlqCEzwD.js";import{a as Z}from"./index-CK_RaMIB.js";import{a as E,s as j}from"./index-D9gxfB09.js";import{s as B}from"./index-BlPXMWYH.js";import{_ as T}from"./AppLogo-YPQqdRj8.js";import{_ as U}from"./SeoHead-CJRZIx4P.js";import{_ as q}from"./CopyrightText-DbB-38VZ.js";/* empty css            */import"./index-DYHwahjz.js";import"./index-D6R1K7ML.js";import"./index-DqaT2hOw.js";const D={class:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50 flex items-center justify-center p-4 sm:p-6 lg:p-8"},G={class:"w-full max-w-md"},L={class:"text-center mb-8"},M={class:"relative bg-white/90 backdrop-blur-xl border border-gray-200/50 rounded-3xl shadow-2xl shadow-primary-100/40 p-8"},W={class:"mb-8"},Y={class:"text-gray-600 text-sm"},H={class:"mb-6"},I={class:"mb-6"},J={key:0,class:"mt-2"},K={class:"flex items-center justify-between mb-1"},O={class:"h-2 bg-gray-200 rounded-full overflow-hidden"},Q={class:"mb-6"},X={key:0,class:"mt-2 text-sm text-red-600 flex items-center gap-2"},ss={class:"mb-6 p-4 bg-gray-50 rounded-xl border border-gray-200"},es={class:"text-sm text-gray-600 space-y-2"},ts={class:"text-center"},as={class:"text-sm text-gray-600"},os={class:"mt-8 text-center"},xs={__name:"ResetPassword",props:{email:String,token:String},setup($){const w=$,g=N(),A=c(()=>{var o,s,n,v;return((s=(o=g.props.settings)==null?void 0:o.general)==null?void 0:s.site_name)||((v=(n=g.props.settings)==null?void 0:n.general)==null?void 0:v.app_name)||"Finora Bank"}),b=z(),a=V({token:w.token,email:w.email,password:"",password_confirmation:""}),d=C(!1),m=c(()=>{const o=a.password;if(!o)return 0;let s=0;return o.length>=8&&s++,o.match(/[a-z]/)&&o.match(/[A-Z]/)&&s++,o.match(/[0-9]/)&&s++,o.match(/[^a-zA-Z0-9]/)&&s++,s}),P=c(()=>["","Weak","Fair","Good","Strong"][m.value]),x=c(()=>["","error","warning","info","success"][m.value]),S=()=>{d.value=!0,a.post(route("password.store"),{onSuccess:()=>{b.add({severity:"success",summary:"Password Reset",detail:"Your password has been successfully reset. Redirecting to login...",life:3e3})},onError:()=>{b.add({severity:"error",summary:"Error",detail:"Failed to reset password. Please try again.",life:4e3})},onFinish:()=>{d.value=!1}})};return(o,s)=>(f(),p(F,null,[r(U,{title:"Reset Password"}),r(t(B)),e("div",D,[s[15]||(s[15]=e("div",{class:"absolute inset-0 -z-10 overflow-hidden"},[e("div",{class:"absolute top-0 right-0 w-96 h-96 bg-primary-100/30 rounded-full blur-3xl"}),e("div",{class:"absolute bottom-0 left-0 w-96 h-96 bg-blue-100/30 rounded-full blur-3xl"})],-1)),e("div",G,[e("div",L,[r(t(h),{href:"/",class:"inline-flex items-center justify-center"},{default:u(()=>[r(T,{"show-text":!1,size:"lg"})]),_:1})]),e("div",M,[e("div",W,[s[2]||(s[2]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Create New Password",-1)),e("p",Y," Enter a strong password to secure your "+y(A.value)+" account. ",1)]),e("div",H,[s[3]||(s[3]=e("label",{for:"email",class:"block text-sm font-semibold text-gray-900 mb-2"}," Email Address ",-1)),r(t(j),{"icon-position":"left"},{default:u(()=>[r(t(E),{class:"pi pi-envelope"}),r(t(R),{id:"email",value:t(a).email,type:"email",disabled:"",class:"w-full"},null,8,["value"])]),_:1})]),e("div",I,[s[5]||(s[5]=e("label",{for:"password",class:"block text-sm font-semibold text-gray-900 mb-2"}," New Password ",-1)),r(t(k),{id:"password",modelValue:t(a).password,"onUpdate:modelValue":s[0]||(s[0]=n=>t(a).password=n),"toggle-mask":"",feedback:!1,placeholder:"Enter your new password",class:"w-full","input-class":"w-full"},null,8,["modelValue"]),t(a).password?(f(),p("div",J,[e("div",K,[s[4]||(s[4]=e("span",{class:"text-xs font-medium text-gray-600"},"Password Strength",-1)),e("span",{class:l(["text-xs font-semibold",`text-${x.value}-600`])},y(P.value),3)]),e("div",O,[e("div",{class:l(["h-full transition-all duration-300",`bg-${x.value}-600 w-${m.value*25}%`])},null,2)])])):_("",!0)]),e("div",Q,[s[7]||(s[7]=e("label",{for:"password_confirmation",class:"block text-sm font-semibold text-gray-900 mb-2"}," Confirm Password ",-1)),r(t(k),{id:"password_confirmation",modelValue:t(a).password_confirmation,"onUpdate:modelValue":s[1]||(s[1]=n=>t(a).password_confirmation=n),"toggle-mask":"",feedback:!1,placeholder:"Confirm your new password",class:"w-full","input-class":"w-full"},null,8,["modelValue"]),t(a).password_confirmation&&t(a).password!==t(a).password_confirmation?(f(),p("div",X,[...s[6]||(s[6]=[e("i",{class:"pi pi-exclamation-circle"},null,-1),i(" Passwords do not match ",-1)])])):_("",!0)]),e("div",ss,[s[12]||(s[12]=e("p",{class:"text-sm font-semibold text-gray-900 mb-3"},"Password Requirements:",-1)),e("ul",es,[e("li",{class:l(["flex items-center gap-2",t(a).password.length>=8?"text-green-600":""])},[e("i",{class:l(`pi ${t(a).password.length>=8?"pi-check-circle":"pi-circle"}`)},null,2),s[8]||(s[8]=i(" At least 8 characters ",-1))],2),e("li",{class:l(["flex items-center gap-2",t(a).password.match(/[a-z]/)&&t(a).password.match(/[A-Z]/)?"text-green-600":""])},[e("i",{class:l(`pi ${t(a).password.match(/[a-z]/)&&t(a).password.match(/[A-Z]/)?"pi-check-circle":"pi-circle"}`)},null,2),s[9]||(s[9]=i(" Mixed case letters (A-Z, a-z) ",-1))],2),e("li",{class:l(["flex items-center gap-2",t(a).password.match(/[0-9]/)?"text-green-600":""])},[e("i",{class:l(`pi ${t(a).password.match(/[0-9]/)?"pi-check-circle":"pi-circle"}`)},null,2),s[10]||(s[10]=i(" At least one number (0-9) ",-1))],2),e("li",{class:l(["flex items-center gap-2",t(a).password.match(/[^a-zA-Z0-9]/)?"text-green-600":""])},[e("i",{class:l(`pi ${t(a).password.match(/[^a-zA-Z0-9]/)?"pi-check-circle":"pi-circle"}`)},null,2),s[11]||(s[11]=i(" At least one special character (!@#$%^&*) ",-1))],2)])]),r(t(Z),{onClick:S,loading:d.value,disabled:!t(a).password||t(a).password!==t(a).password_confirmation||m.value<3||d.value,class:"w-full mb-4",severity:"primary",label:"Reset Password",icon:"pi pi-shield-check"},null,8,["loading","disabled"]),e("div",ts,[e("p",as,[s[14]||(s[14]=i(" Remember your password? ",-1)),r(t(h),{href:"/login",class:"font-semibold text-primary-600 hover:text-primary-700 transition-colors"},{default:u(()=>[...s[13]||(s[13]=[i(" Sign in here ",-1)])]),_:1})])])]),e("div",os,[r(q)])])])],64))}};export{xs as default};
