import{k as $,f as A,c,d as o,a as e,u as t,p as P,w as p,s as x,b as v,n as r,e as u,t as S,i,j as z,F as V,o as f}from"./app-DRlIZgw_.js";import{s as C}from"./index-CqdY7K2D.js";import{s as h}from"./index-tPBCTqbb.js";import{a as F}from"./index-1X62seSq.js";import{a as R,s as Z}from"./index-DeWCtbhP.js";import{s as E}from"./index-CF5q_2Uq.js";import{_ as N}from"./AppLogo-DgVm2y9N.js";import{_ as j}from"./CopyrightText-C7iuoV8K.js";/* empty css            */import"./index-jFufJh3m.js";import"./index-C-nIDwpo.js";const B={class:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50 flex items-center justify-center p-4 sm:p-6 lg:p-8"},T={class:"w-full max-w-md"},U={class:"text-center mb-8"},q={class:"relative bg-white/90 backdrop-blur-xl border border-gray-200/50 rounded-3xl shadow-2xl shadow-primary-100/40 p-8"},D={class:"mb-6"},G={class:"mb-6"},L={key:0,class:"mt-2"},M={class:"flex items-center justify-between mb-1"},W={class:"h-2 bg-gray-200 rounded-full overflow-hidden"},Y={class:"mb-6"},H={key:0,class:"mt-2 text-sm text-red-600 flex items-center gap-2"},I={class:"mb-6 p-4 bg-gray-50 rounded-xl border border-gray-200"},J={class:"text-sm text-gray-600 space-y-2"},K={class:"text-center"},O={class:"text-sm text-gray-600"},Q={class:"mt-8 text-center"},ms={__name:"ResetPassword",props:{email:String,token:String},setup(y){const w=y,b=$(),a=A({token:w.token,email:w.email,password:"",password_confirmation:""}),n=z(!1),d=u(()=>{const l=a.password;if(!l)return 0;let s=0;return l.length>=8&&s++,l.match(/[a-z]/)&&l.match(/[A-Z]/)&&s++,l.match(/[0-9]/)&&s++,l.match(/[^a-zA-Z0-9]/)&&s++,s}),k=u(()=>["","Weak","Fair","Good","Strong"][d.value]),g=u(()=>["","error","warning","info","success"][d.value]),_=()=>{n.value=!0,a.post(route("password.store"),{onSuccess:()=>{b.add({severity:"success",summary:"Password Reset",detail:"Your password has been successfully reset. Redirecting to login...",life:3e3})},onError:()=>{b.add({severity:"error",summary:"Error",detail:"Failed to reset password. Please try again.",life:4e3})},onFinish:()=>{n.value=!1}})};return(l,s)=>(f(),c(V,null,[o(t(P),{title:"Reset Password"}),o(t(E)),e("div",B,[s[15]||(s[15]=e("div",{class:"absolute inset-0 -z-10 overflow-hidden"},[e("div",{class:"absolute top-0 right-0 w-96 h-96 bg-primary-100/30 rounded-full blur-3xl"}),e("div",{class:"absolute bottom-0 left-0 w-96 h-96 bg-blue-100/30 rounded-full blur-3xl"})],-1)),e("div",T,[e("div",U,[o(t(x),{href:"/",class:"inline-flex items-center justify-center"},{default:p(()=>[o(N,{"show-text":!0,size:"lg"})]),_:1})]),e("div",q,[s[14]||(s[14]=e("div",{class:"mb-8"},[e("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Create New Password"),e("p",{class:"text-gray-600 text-sm"}," Enter a strong password to secure your Finora Bank account. ")],-1)),e("div",D,[s[2]||(s[2]=e("label",{for:"email",class:"block text-sm font-semibold text-gray-900 mb-2"}," Email Address ",-1)),o(t(Z),{"icon-position":"left"},{default:p(()=>[o(t(R),{class:"pi pi-envelope"}),o(t(C),{id:"email",value:t(a).email,type:"email",disabled:"",class:"w-full"},null,8,["value"])]),_:1})]),e("div",G,[s[4]||(s[4]=e("label",{for:"password",class:"block text-sm font-semibold text-gray-900 mb-2"}," New Password ",-1)),o(t(h),{id:"password",modelValue:t(a).password,"onUpdate:modelValue":s[0]||(s[0]=m=>t(a).password=m),"toggle-mask":"",feedback:!1,placeholder:"Enter your new password",class:"w-full","input-class":"w-full"},null,8,["modelValue"]),t(a).password?(f(),c("div",L,[e("div",M,[s[3]||(s[3]=e("span",{class:"text-xs font-medium text-gray-600"},"Password Strength",-1)),e("span",{class:r(["text-xs font-semibold",`text-${g.value}-600`])},S(k.value),3)]),e("div",W,[e("div",{class:r(["h-full transition-all duration-300",`bg-${g.value}-600 w-${d.value*25}%`])},null,2)])])):v("",!0)]),e("div",Y,[s[6]||(s[6]=e("label",{for:"password_confirmation",class:"block text-sm font-semibold text-gray-900 mb-2"}," Confirm Password ",-1)),o(t(h),{id:"password_confirmation",modelValue:t(a).password_confirmation,"onUpdate:modelValue":s[1]||(s[1]=m=>t(a).password_confirmation=m),"toggle-mask":"",feedback:!1,placeholder:"Confirm your new password",class:"w-full","input-class":"w-full"},null,8,["modelValue"]),t(a).password_confirmation&&t(a).password!==t(a).password_confirmation?(f(),c("div",H,[...s[5]||(s[5]=[e("i",{class:"pi pi-exclamation-circle"},null,-1),i(" Passwords do not match ",-1)])])):v("",!0)]),e("div",I,[s[11]||(s[11]=e("p",{class:"text-sm font-semibold text-gray-900 mb-3"},"Password Requirements:",-1)),e("ul",J,[e("li",{class:r(["flex items-center gap-2",t(a).password.length>=8?"text-green-600":""])},[e("i",{class:r(`pi ${t(a).password.length>=8?"pi-check-circle":"pi-circle"}`)},null,2),s[7]||(s[7]=i(" At least 8 characters ",-1))],2),e("li",{class:r(["flex items-center gap-2",t(a).password.match(/[a-z]/)&&t(a).password.match(/[A-Z]/)?"text-green-600":""])},[e("i",{class:r(`pi ${t(a).password.match(/[a-z]/)&&t(a).password.match(/[A-Z]/)?"pi-check-circle":"pi-circle"}`)},null,2),s[8]||(s[8]=i(" Mixed case letters (A-Z, a-z) ",-1))],2),e("li",{class:r(["flex items-center gap-2",t(a).password.match(/[0-9]/)?"text-green-600":""])},[e("i",{class:r(`pi ${t(a).password.match(/[0-9]/)?"pi-check-circle":"pi-circle"}`)},null,2),s[9]||(s[9]=i(" At least one number (0-9) ",-1))],2),e("li",{class:r(["flex items-center gap-2",t(a).password.match(/[^a-zA-Z0-9]/)?"text-green-600":""])},[e("i",{class:r(`pi ${t(a).password.match(/[^a-zA-Z0-9]/)?"pi-check-circle":"pi-circle"}`)},null,2),s[10]||(s[10]=i(" At least one special character (!@#$%^&*) ",-1))],2)])]),o(t(F),{onClick:_,loading:n.value,disabled:!t(a).password||t(a).password!==t(a).password_confirmation||d.value<3||n.value,class:"w-full mb-4",severity:"primary",label:"Reset Password",icon:"pi pi-shield-check"},null,8,["loading","disabled"]),e("div",K,[e("p",O,[s[13]||(s[13]=i(" Remember your password? ",-1)),o(t(x),{href:"/login",class:"font-semibold text-primary-600 hover:text-primary-700 transition-colors"},{default:p(()=>[...s[12]||(s[12]=[i(" Sign in here ",-1)])]),_:1})])])]),e("div",Q,[o(j)])])])],64))}};export{ms as default};
