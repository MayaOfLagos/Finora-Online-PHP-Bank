import{k as R,f as P,h as S,w as d,a as t,b as u,d as m,u as r,s as $,i as c,t as a,o as i,c as n,z as Y,n as O,j as w,e as z}from"./app-DL37XuWq.js";import{D as T}from"./DashboardLayout-Bh3RWNv_.js";import{s as v}from"./index-CPjmIJKr.js";import{s as E}from"./index-D5Y7SLQM.js";import{a as U}from"./index-H0S_S2O5.js";import{s as K}from"./index-BF_e6Am2.js";/* empty css            */import"./index-CYvHbJ45.js";import"./index-CsUPlYEr.js";import"./index-DYdnb9Nm.js";import"./index-COeV6eNS.js";import"./index-FkzOkvh3.js";import"./index-CAYCpioR.js";import"./AppLogo-BhZ_855I.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-heL0ey0-.js";const G={class:"max-w-3xl mx-auto space-y-6"},J={class:"text-2xl font-bold text-gray-900 dark:text-white"},W={class:"text-gray-600 dark:text-gray-400"},A={class:"flex gap-3"},H={class:"text-sm text-blue-800 dark:text-blue-200 whitespace-pre-line"},Q={class:"grid gap-3 sm:grid-cols-2"},X={key:0,class:"flex items-center gap-2 text-sm"},Z={key:1,class:"flex items-center gap-2 text-sm"},ee={key:2,class:"flex items-center gap-2 text-sm"},te={key:3,class:"flex items-center gap-2 text-sm"},se={class:"mt-4 pt-4 border-t dark:border-gray-700 flex flex-wrap gap-4 text-xs text-gray-500 dark:text-gray-400"},re={key:0},le={key:0,class:"text-red-500"},oe={key:1},ae={class:"text-xs text-gray-400 dark:text-gray-500 mt-1"},ie={key:1,class:"relative"},ne=["src"],ue={class:"text-xs text-gray-500 mt-2"},de=["accept"],me={key:2,class:"text-red-500"},ce={key:2},pe={class:"text-xs text-gray-400 dark:text-gray-500 mt-1"},fe={key:1,class:"relative"},xe=["src"],ge={class:"text-xs text-gray-500 mt-2"},be=["accept"],ye={key:2,class:"text-red-500"},ke={key:3},ve={class:"text-xs text-gray-400 dark:text-gray-500 mt-1"},_e={key:1,class:"relative"},he=["src"],we={class:"text-xs text-gray-500 mt-2"},Ce={key:2,class:"text-red-500"},Fe={class:"flex flex-col sm:flex-row gap-3 pt-4 border-t dark:border-gray-700"},je=".jpg,.jpeg,.png",Te={__name:"Submit",props:{template:Object},setup(o){const f=o,C=R(),s=P({template_id:f.template.id,document_number:"",document_front:null,document_back:null,selfie:null}),g=w(null),b=w(null),y=w(null),_=l=>{if(l===0)return"0 Bytes";const e=1024,k=["Bytes","KB","MB"],x=Math.floor(Math.log(l)/Math.log(e));return parseFloat((l/Math.pow(e,x)).toFixed(2))+" "+k[x]},I=l=>{const e=l.target.files[0];e&&(s.document_front=e,g.value=URL.createObjectURL(e))},V=l=>{const e=l.target.files[0];e&&(s.document_back=e,b.value=URL.createObjectURL(e))},M=l=>{const e=l.target.files[0];e&&(s.selfie=e,y.value=URL.createObjectURL(e))},h=l=>{l==="front"?(s.document_front=null,g.value=null):l==="back"?(s.document_back=null,b.value=null):l==="selfie"&&(s.selfie=null,y.value=null)},L=()=>{s.post(route("kyc.store"),{forceFormData:!0,onSuccess:()=>{C.add({severity:"success",summary:"Success",detail:"Your KYC verification has been submitted successfully.",life:5e3})},onError:l=>{C.add({severity:"error",summary:"Error",detail:Object.values(l)[0]||"Failed to submit verification.",life:5e3})}})},N=z(()=>{let l=!0;return f.template.requires_document_number&&!s.document_number&&(l=!1),f.template.requires_front_image&&!s.document_front&&(l=!1),f.template.requires_back_image&&!s.document_back&&(l=!1),f.template.requires_selfie&&!s.selfie&&(l=!1),l}),F=z(()=>(f.template.accepted_formats||["jpg","jpeg","png","pdf"]).map(e=>`.${e}`).join(","));return(l,e)=>(i(),S(T,{title:"Submit KYC Document"},{default:d(()=>[t("div",G,[t("div",null,[m(r($),{href:l.route("kyc.index"),class:"inline-flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors"},{default:d(()=>[...e[7]||(e[7]=[t("i",{class:"pi pi-arrow-left mr-2"},null,-1),c(" Back to KYC Verification ",-1)])]),_:1},8,["href"])]),t("div",null,[t("h1",J," Submit "+a(o.template.name),1),t("p",W," Upload your "+a(o.template.name.toLowerCase())+" for identity verification. ",1)]),o.template.instructions?(i(),S(r(v),{key:0,class:"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800"},{content:d(()=>[t("div",A,[e[9]||(e[9]=t("i",{class:"pi pi-info-circle text-blue-500 text-xl flex-shrink-0 mt-0.5"},null,-1)),t("div",null,[e[8]||(e[8]=t("h4",{class:"font-medium text-blue-900 dark:text-blue-100 mb-1"},"Instructions",-1)),t("p",H,a(o.template.instructions),1)])])]),_:1})):u("",!0),m(r(v),null,{title:d(()=>[...e[10]||(e[10]=[t("div",{class:"flex items-center gap-2"},[t("i",{class:"pi pi-list text-primary"}),c(" Requirements ")],-1)])]),content:d(()=>[t("div",Q,[o.template.requires_document_number?(i(),n("div",X,[...e[11]||(e[11]=[t("i",{class:"pi pi-check-circle text-green-500"},null,-1),t("span",null,"Document Number",-1)])])):u("",!0),o.template.requires_front_image?(i(),n("div",Z,[...e[12]||(e[12]=[t("i",{class:"pi pi-check-circle text-green-500"},null,-1),t("span",null,"Front Image",-1)])])):u("",!0),o.template.requires_back_image?(i(),n("div",ee,[...e[13]||(e[13]=[t("i",{class:"pi pi-check-circle text-green-500"},null,-1),t("span",null,"Back Image",-1)])])):u("",!0),o.template.requires_selfie?(i(),n("div",te,[...e[14]||(e[14]=[t("i",{class:"pi pi-check-circle text-green-500"},null,-1),t("span",null,"Selfie with Document",-1)])])):u("",!0)]),t("div",se,[t("span",null,[e[15]||(e[15]=t("i",{class:"pi pi-file mr-1"},null,-1)),c(" Formats: "+a(o.template.accepted_formats_list),1)]),t("span",null,[e[16]||(e[16]=t("i",{class:"pi pi-cloud-upload mr-1"},null,-1)),c(" Max size: "+a(o.template.max_file_size_human),1)])])]),_:1}),m(r(v),null,{title:d(()=>[...e[17]||(e[17]=[t("div",{class:"flex items-center gap-2"},[t("i",{class:"pi pi-upload text-primary"}),c(" Upload Documents ")],-1)])]),content:d(()=>{var k,x,j,B,D,q;return[t("form",{onSubmit:Y(L,["prevent"]),class:"space-y-6"},[o.template.requires_document_number?(i(),n("div",re,[e[18]||(e[18]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},[c(" Document Number "),t("span",{class:"text-red-500"},"*")],-1)),m(r(E),{modelValue:r(s).document_number,"onUpdate:modelValue":e[0]||(e[0]=p=>r(s).document_number=p),class:O([{"p-invalid":r(s).errors.document_number},"w-full"]),placeholder:"Enter your document number"},null,8,["modelValue","class"]),r(s).errors.document_number?(i(),n("small",le,a(r(s).errors.document_number),1)):u("",!0)])):u("",!0),o.template.requires_front_image?(i(),n("div",oe,[e[22]||(e[22]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},[c(" Front of Document "),t("span",{class:"text-red-500"},"*")],-1)),g.value?(i(),n("div",ie,[t("img",{src:g.value,alt:"Document Front",class:"w-full h-48 object-contain rounded-lg bg-gray-100 dark:bg-gray-700"},null,8,ne),t("button",{type:"button",onClick:e[2]||(e[2]=p=>h("front")),class:"absolute top-2 right-2 p-1.5 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors"},[...e[21]||(e[21]=[t("i",{class:"pi pi-times text-xs"},null,-1)])]),t("p",ue,a((k=r(s).document_front)==null?void 0:k.name)+" ("+a(_(((x=r(s).document_front)==null?void 0:x.size)||0))+") ",1)])):(i(),n("div",{key:0,class:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center hover:border-primary transition-colors cursor-pointer",onClick:e[1]||(e[1]=p=>l.$refs.frontInput.click())},[e[19]||(e[19]=t("i",{class:"pi pi-image text-4xl text-gray-400 dark:text-gray-500 mb-2"},null,-1)),e[20]||(e[20]=t("p",{class:"text-gray-600 dark:text-gray-400"},"Click to upload front of document",-1)),t("p",ae,a(o.template.accepted_formats_list)+" up to "+a(o.template.max_file_size_human),1)])),t("input",{ref:"frontInput",type:"file",accept:F.value,class:"hidden",onChange:I},null,40,de),r(s).errors.document_front?(i(),n("small",me,a(r(s).errors.document_front),1)):u("",!0)])):u("",!0),o.template.requires_back_image?(i(),n("div",ce,[e[26]||(e[26]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},[c(" Back of Document "),t("span",{class:"text-red-500"},"*")],-1)),b.value?(i(),n("div",fe,[t("img",{src:b.value,alt:"Document Back",class:"w-full h-48 object-contain rounded-lg bg-gray-100 dark:bg-gray-700"},null,8,xe),t("button",{type:"button",onClick:e[4]||(e[4]=p=>h("back")),class:"absolute top-2 right-2 p-1.5 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors"},[...e[25]||(e[25]=[t("i",{class:"pi pi-times text-xs"},null,-1)])]),t("p",ge,a((j=r(s).document_back)==null?void 0:j.name)+" ("+a(_(((B=r(s).document_back)==null?void 0:B.size)||0))+") ",1)])):(i(),n("div",{key:0,class:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center hover:border-primary transition-colors cursor-pointer",onClick:e[3]||(e[3]=p=>l.$refs.backInput.click())},[e[23]||(e[23]=t("i",{class:"pi pi-image text-4xl text-gray-400 dark:text-gray-500 mb-2"},null,-1)),e[24]||(e[24]=t("p",{class:"text-gray-600 dark:text-gray-400"},"Click to upload back of document",-1)),t("p",pe,a(o.template.accepted_formats_list)+" up to "+a(o.template.max_file_size_human),1)])),t("input",{ref:"backInput",type:"file",accept:F.value,class:"hidden",onChange:V},null,40,be),r(s).errors.document_back?(i(),n("small",ye,a(r(s).errors.document_back),1)):u("",!0)])):u("",!0),o.template.requires_selfie?(i(),n("div",ke,[e[31]||(e[31]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},[c(" Selfie with Document "),t("span",{class:"text-red-500"},"*")],-1)),m(r(K),{severity:"info",closable:!1,class:"mb-3"},{default:d(()=>[...e[27]||(e[27]=[t("small",null,"Take a clear photo of yourself holding your document next to your face. Make sure both your face and the document are clearly visible.",-1)])]),_:1}),y.value?(i(),n("div",_e,[t("img",{src:y.value,alt:"Selfie",class:"w-full h-48 object-contain rounded-lg bg-gray-100 dark:bg-gray-700"},null,8,he),t("button",{type:"button",onClick:e[6]||(e[6]=p=>h("selfie")),class:"absolute top-2 right-2 p-1.5 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors"},[...e[30]||(e[30]=[t("i",{class:"pi pi-times text-xs"},null,-1)])]),t("p",we,a((D=r(s).selfie)==null?void 0:D.name)+" ("+a(_(((q=r(s).selfie)==null?void 0:q.size)||0))+") ",1)])):(i(),n("div",{key:0,class:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center hover:border-primary transition-colors cursor-pointer",onClick:e[5]||(e[5]=p=>l.$refs.selfieInput.click())},[e[28]||(e[28]=t("i",{class:"pi pi-user text-4xl text-gray-400 dark:text-gray-500 mb-2"},null,-1)),e[29]||(e[29]=t("p",{class:"text-gray-600 dark:text-gray-400"},"Click to upload selfie",-1)),t("p",ve," JPG, PNG up to "+a(o.template.max_file_size_human),1)])),t("input",{ref:"selfieInput",type:"file",accept:je,class:"hidden",onChange:M},null,544),r(s).errors.selfie?(i(),n("small",Ce,a(r(s).errors.selfie),1)):u("",!0)])):u("",!0),t("div",Fe,[m(r(U),{type:"submit",label:"Submit for Verification",icon:"pi pi-check",loading:r(s).processing,disabled:!N.value||r(s).processing,class:"flex-1"},null,8,["loading","disabled"]),m(r($),{href:l.route("kyc.index")},{default:d(()=>[m(r(U),{type:"button",label:"Cancel",severity:"secondary",outlined:"",class:"w-full sm:w-auto"})]),_:1},8,["href"])])],32)]}),_:1}),m(r(v),{class:"bg-gray-50 dark:bg-gray-800/50"},{content:d(()=>[...e[32]||(e[32]=[t("div",{class:"flex gap-3"},[t("i",{class:"pi pi-lock text-gray-400 text-xl flex-shrink-0"}),t("div",null,[t("h4",{class:"font-medium text-gray-700 dark:text-gray-300 mb-1"},"Your Privacy Matters"),t("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Your documents are securely stored and only used for identity verification purposes. We follow strict data protection guidelines to ensure your information remains safe. ")])],-1)])]),_:1})])]),_:1}))}};export{Te as default};
