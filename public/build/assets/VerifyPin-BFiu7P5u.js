import{s as O,j as b,c as r,o,d as l,w as x,g as A,a as e,n as G,u as i,F as g,r as C,b as p,e as f,t as y,y as H,i as J,v as K,T as Q,z as R,p as V}from"./app-D64VKdoQ.js";import{u as U}from"./useToast-DBjWyc7y.js";import{a as N}from"./index-CpqcF-Nx.js";import{s as n}from"./index-BVy1t6cD.js";import{_ as W}from"./SeoHead-BBq_5Kfl.js";import{_ as X}from"./CopyrightText-DdNKH335.js";import{P as Z}from"./PagePreloader-CgTZjB-l.js";import{_ as ee}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css            */const te={class:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50 dark:from-gray-950 dark:via-gray-900 dark:to-slate-950 flex flex-col transition-colors duration-300"},ae={class:"w-full py-4 px-6"},se={class:"max-w-md mx-auto flex justify-end"},re=["title"],oe={class:"flex-1 flex items-center justify-center px-4 pb-8"},le={class:"w-full max-w-md"},ie={key:0,class:"animate-pulse"},de={class:"text-center mb-8"},ne={class:"inline-flex items-center justify-center mb-6"},ce={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 space-y-6"},ue={class:"bg-gray-50 dark:bg-gray-900/50 rounded-xl p-6 border border-gray-200 dark:border-gray-700"},ge={class:"grid grid-cols-3 gap-3"},me={key:1,class:"animate-fade-in"},be={class:"text-center mb-8"},pe={class:"inline-flex items-center justify-center mb-6"},ye=["src","alt"],ve=["src","alt"],he={key:2,class:"flex items-center gap-3"},xe={class:"text-2xl font-bold text-gray-900 dark:text-white"},fe={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl shadow-gray-200/50 dark:shadow-none border border-gray-100 dark:border-gray-700 p-8 transition-colors duration-300"},ke={class:"bg-gray-50 dark:bg-gray-900/50 rounded-xl p-6 border border-gray-200 dark:border-gray-700"},_e={class:"text-center"},we={class:"text-4xl font-mono tracking-[0.5em] text-gray-900 dark:text-white min-h-[3rem] flex items-center justify-center select-none"},Pe={class:"text-xs text-gray-500 dark:text-gray-400 mt-3"},Ce={class:"grid grid-cols-3 gap-3"},Ne=["onClick","disabled"],Ie={class:"text-2xl font-semibold text-gray-900 dark:text-white"},je=["disabled"],Se=["disabled"],Ve={key:0,class:"pi pi-check mr-2"},Le={class:"grid grid-cols-2 gap-3"},De={class:"mt-8 text-center"},I=6,Ee={__name:"VerifyPin",setup(Fe){const v=R(),k=U(),_=f(()=>{var a,t,u,h;return((t=(a=v.props.settings)==null?void 0:a.general)==null?void 0:t.site_name)||((h=(u=v.props.settings)==null?void 0:u.general)==null?void 0:h.app_name)||"Finora Bank"}),w=f(()=>{var a,t;return(t=(a=v.props.settings)==null?void 0:a.branding)==null?void 0:t.logo_light}),P=f(()=>{var a,t;return(t=(a=v.props.settings)==null?void 0:a.branding)==null?void 0:t.logo_dark}),j=b(!0),S=b(!1),L=()=>{j.value=!1,setTimeout(()=>{S.value=!0},100)},c=b(!1);O(()=>{const a=localStorage.getItem("theme");(a==="dark"||!a&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&(c.value=!0,document.documentElement.classList.add("dark"))});const D=()=>{c.value=!c.value,c.value?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},s=b(""),d=b(!1),E=f(()=>"•".repeat(s.value.length).padEnd(I,"·")),F=a=>{s.value.length<I&&(s.value+=a)},T=()=>{s.value=""},q=()=>{s.value.length>0&&(s.value=s.value.slice(0,-1))},M=()=>{if(s.value.length<4){k.warn("PIN must be at least 4 digits.","Invalid PIN");return}d.value=!0,V.post(route("verify-pin.verify"),{pin:s.value},{onError:a=>{k.error(a.pin||"Invalid PIN code. Please try again.","Verification Failed"),s.value=""},onFinish:()=>{d.value=!1}})},B=()=>{s.value="",k.info("PIN entry cancelled.","Cancelled")},$=()=>{V.post(route("logout"))},z=[["1","2","3"],["4","5","6"],["7","8","9"],["clear","0","backspace"]];return(a,t)=>(o(),r(g,null,[l(W,{title:"Verify PIN"}),l(Z,{"min-load-time":1200,onComplete:L}),l(Q,{"enter-active-class":"transition-all duration-500 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100"},{default:x(()=>[A(e("div",te,[e("div",ae,[e("div",se,[e("button",{onClick:D,class:"p-2.5 rounded-xl bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-200 shadow-sm hover:shadow-md",title:c.value?"Switch to light mode":"Switch to dark mode"},[e("i",{class:G([c.value?"pi pi-sun":"pi pi-moon","text-lg"])},null,2)],8,re)])]),e("div",oe,[e("div",le,[j.value?(o(),r("div",ie,[e("div",de,[e("div",ne,[l(i(n),{width:"3.5rem",height:"3.5rem",class:"rounded-xl"})]),l(i(n),{width:"50%",height:"2rem",class:"mx-auto mb-2"}),l(i(n),{width:"70%",height:"1rem",class:"mx-auto"})]),e("div",ce,[e("div",ue,[l(i(n),{width:"70%",height:"3rem",class:"mx-auto"}),l(i(n),{width:"30%",height:"0.75rem",class:"mx-auto mt-3"})]),e("div",ge,[(o(),r(g,null,C(12,u=>l(i(n),{key:u,class:"aspect-square rounded-xl"})),64))]),l(i(n),{height:"3rem",class:"w-full"})])])):(o(),r("div",me,[e("div",be,[e("div",pe,[w.value?(o(),r("img",{key:0,src:w.value,alt:_.value,class:"h-14 w-auto dark:hidden"},null,8,ye)):p("",!0),P.value?(o(),r("img",{key:1,src:P.value,alt:_.value,class:"h-14 w-auto hidden dark:block"},null,8,ve)):p("",!0),!w.value&&!P.value?(o(),r("div",he,[t[0]||(t[0]=e("div",{class:"w-12 h-12 bg-gradient-to-br from-primary-600 to-primary-700 rounded-xl flex items-center justify-center shadow-lg shadow-primary-500/25"},[e("span",{class:"text-2xl font-bold text-white"},"F")],-1)),e("span",xe,y(_.value),1)])):p("",!0)]),t[1]||(t[1]=e("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white mb-2"}," Enter Your PIN ",-1)),t[2]||(t[2]=e("p",{class:"text-gray-500 dark:text-gray-400"}," Please enter your transaction PIN to continue ",-1))]),e("div",fe,[e("form",{onSubmit:H(M,["prevent"]),class:"space-y-6"},[e("div",ke,[e("div",_e,[e("div",we,y(E.value),1),e("div",Pe,y(s.value.length)+" / "+y(I)+" digits ",1)])]),e("div",Ce,[(o(),r(g,null,C(z,(u,h)=>(o(),r(g,{key:h},[(o(!0),r(g,null,C(u,(m,Y)=>(o(),r(g,{key:Y},[isNaN(m)?m==="clear"?(o(),r("button",{key:1,type:"button",onClick:T,disabled:d.value||s.value.length===0,class:"aspect-square rounded-xl bg-red-50 dark:bg-red-900/20 hover:bg-red-100 dark:hover:bg-red-900/40 active:scale-95 transition-all border border-red-200 dark:border-red-800 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm"},[...t[3]||(t[3]=[e("span",{class:"text-sm font-medium text-red-700 dark:text-red-400"},"Clear",-1)])],8,je)):m==="backspace"?(o(),r("button",{key:2,type:"button",onClick:q,disabled:d.value||s.value.length===0,class:"aspect-square rounded-xl bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 active:scale-95 transition-all border border-gray-200 dark:border-gray-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center shadow-sm"},[...t[4]||(t[4]=[e("i",{class:"pi pi-arrow-left text-xl text-gray-700 dark:text-gray-200"},null,-1)])],8,Se)):p("",!0):(o(),r("button",{key:0,type:"button",onClick:Te=>F(m),disabled:d.value,class:"aspect-square rounded-xl bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 active:scale-95 transition-all border border-gray-200 dark:border-gray-600 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm"},[e("span",Ie,y(m),1)],8,Ne))],64))),128))],64))),64))]),l(i(N),{type:"submit",loading:d.value,disabled:d.value||s.value.length<4,class:"w-full justify-center",size:"large"},{default:x(()=>[d.value?p("",!0):(o(),r("i",Ve)),t[5]||(t[5]=e("span",null,"Verify PIN",-1))]),_:1},8,["loading","disabled"]),e("div",Le,[l(i(N),{type:"button",onClick:B,disabled:d.value,severity:"secondary",outlined:"",class:"w-full justify-center"},{default:x(()=>[...t[6]||(t[6]=[e("i",{class:"pi pi-times mr-2"},null,-1),e("span",null,"Cancel",-1)])]),_:1},8,["disabled"]),l(i(N),{type:"button",onClick:$,severity:"danger",outlined:"",class:"w-full justify-center"},{default:x(()=>[...t[7]||(t[7]=[e("i",{class:"pi pi-sign-out mr-2"},null,-1),e("span",null,"Sign Out",-1)])]),_:1})])],32),t[8]||(t[8]=e("div",{class:"mt-6 pt-6 border-t border-gray-100 dark:border-gray-700"},[e("div",{class:"flex items-start gap-3 p-4 bg-amber-50 dark:bg-amber-900/20 rounded-xl border border-amber-200 dark:border-amber-800"},[e("i",{class:"pi pi-exclamation-triangle text-amber-600 dark:text-amber-400 mt-0.5 flex-shrink-0"}),e("div",{class:"text-sm text-amber-800 dark:text-amber-300"},[e("strong",null,"Security Notice:"),J(" Your transaction PIN is required to access your dashboard. If you've forgotten your PIN, please contact support. ")])])],-1))])])),e("div",De,[l(X,{textClass:"text-sm text-gray-500 dark:text-gray-400"})])])])],512),[[K,S.value]])]),_:1})],64))}},He=ee(Ee,[["__scopeId","data-v-5d891cea"]]);export{He as default};
