import{k as $,y as z,j as _,c as r,d,a as e,u as p,n as T,b as c,e as v,t as u,z as Y,F as g,r as I,w,o,i as A,A as O,q as C}from"./app-mr6Ip8N6.js";import{a as N}from"./index-D9Rms_eF.js";import{s as G}from"./index-B8uuYs71.js";import{_ as H}from"./SeoHead-fcz0F_Hn.js";import{_ as J}from"./CopyrightText-DJc8kXoZ.js";/* empty css            */import"./index-Dpo2MZlk.js";import"./index-BCTURXuk.js";const K={class:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50 dark:from-gray-950 dark:via-gray-900 dark:to-slate-950 flex flex-col transition-colors duration-300"},Q={class:"w-full py-4 px-6"},R={class:"max-w-md mx-auto flex justify-end"},U=["title"],W={class:"flex-1 flex items-center justify-center px-4 pb-8"},X={class:"w-full max-w-md"},Z={class:"text-center mb-8"},ee={class:"inline-flex items-center justify-center mb-6"},te=["src","alt"],ae=["src","alt"],se={key:2,class:"flex items-center gap-3"},re={class:"text-2xl font-bold text-gray-900 dark:text-white"},oe={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl shadow-gray-200/50 dark:shadow-none border border-gray-100 dark:border-gray-700 p-8 transition-colors duration-300"},le={class:"bg-gray-50 dark:bg-gray-900/50 rounded-xl p-6 border border-gray-200 dark:border-gray-700"},ie={class:"text-center"},de={class:"text-4xl font-mono tracking-[0.5em] text-gray-900 dark:text-white min-h-[3rem] flex items-center justify-center select-none"},ne={class:"text-xs text-gray-500 dark:text-gray-400 mt-3"},ce={class:"grid grid-cols-3 gap-3"},ue=["onClick","disabled"],ge={class:"text-2xl font-semibold text-gray-900 dark:text-white"},me=["disabled"],be=["disabled"],ye={key:0,class:"pi pi-check mr-2"},pe={class:"grid grid-cols-2 gap-3"},ve={class:"mt-8 text-center"},P=6,je={__name:"VerifyPin",setup(xe){const m=O(),x=$(),k=v(()=>{var a,t,b,y;return((t=(a=m.props.settings)==null?void 0:a.general)==null?void 0:t.site_name)||((y=(b=m.props.settings)==null?void 0:b.general)==null?void 0:y.app_name)||"Finora Bank"}),f=v(()=>{var a,t;return(t=(a=m.props.settings)==null?void 0:a.branding)==null?void 0:t.logo_light}),h=v(()=>{var a,t;return(t=(a=m.props.settings)==null?void 0:a.branding)==null?void 0:t.logo_dark}),i=_(!1);z(()=>{const a=localStorage.getItem("theme");(a==="dark"||!a&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&(i.value=!0,document.documentElement.classList.add("dark"))});const j=()=>{i.value=!i.value,i.value?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},s=_(""),l=_(!1),S=v(()=>"•".repeat(s.value.length).padEnd(P,"·")),V=a=>{s.value.length<P&&(s.value+=a)},E=()=>{s.value=""},L=()=>{s.value.length>0&&(s.value=s.value.slice(0,-1))},D=()=>{if(s.value.length<4){x.add({severity:"warn",summary:"Invalid PIN",detail:"PIN must be at least 4 digits.",life:3e3});return}l.value=!0,C.post(route("verify-pin.verify"),{pin:s.value},{onError:a=>{x.add({severity:"error",summary:"Verification Failed",detail:a.pin||"Invalid PIN code. Please try again.",life:4e3}),s.value=""},onFinish:()=>{l.value=!1}})},F=()=>{s.value="",x.add({severity:"info",summary:"Cancelled",detail:"PIN entry cancelled.",life:2e3})},q=()=>{C.post(route("logout"))},M=[["1","2","3"],["4","5","6"],["7","8","9"],["clear","0","backspace"]];return(a,t)=>(o(),r(g,null,[d(H,{title:"Verify PIN"}),d(p(G)),e("div",K,[e("div",Q,[e("div",R,[e("button",{onClick:j,class:"p-2.5 rounded-xl bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-200 shadow-sm hover:shadow-md",title:i.value?"Switch to light mode":"Switch to dark mode"},[e("i",{class:T([i.value?"pi pi-sun":"pi pi-moon","text-lg"])},null,2)],8,U)])]),e("div",W,[e("div",X,[e("div",Z,[e("div",ee,[f.value?(o(),r("img",{key:0,src:f.value,alt:k.value,class:"h-14 w-auto dark:hidden"},null,8,te)):c("",!0),h.value?(o(),r("img",{key:1,src:h.value,alt:k.value,class:"h-14 w-auto hidden dark:block"},null,8,ae)):c("",!0),!f.value&&!h.value?(o(),r("div",se,[t[0]||(t[0]=e("div",{class:"w-12 h-12 bg-gradient-to-br from-primary-600 to-primary-700 rounded-xl flex items-center justify-center shadow-lg shadow-primary-500/25"},[e("span",{class:"text-2xl font-bold text-white"},"F")],-1)),e("span",re,u(k.value),1)])):c("",!0)]),t[1]||(t[1]=e("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white mb-2"}," Enter Your PIN ",-1)),t[2]||(t[2]=e("p",{class:"text-gray-500 dark:text-gray-400"}," Please enter your transaction PIN to continue ",-1))]),e("div",oe,[e("form",{onSubmit:Y(D,["prevent"]),class:"space-y-6"},[e("div",le,[e("div",ie,[e("div",de,u(S.value),1),e("div",ne,u(s.value.length)+" / "+u(P)+" digits ",1)])]),e("div",ce,[(o(),r(g,null,I(M,(b,y)=>(o(),r(g,{key:y},[(o(!0),r(g,null,I(b,(n,B)=>(o(),r(g,{key:B},[isNaN(n)?n==="clear"?(o(),r("button",{key:1,type:"button",onClick:E,disabled:l.value||s.value.length===0,class:"aspect-square rounded-xl bg-red-50 dark:bg-red-900/20 hover:bg-red-100 dark:hover:bg-red-900/40 active:scale-95 transition-all border border-red-200 dark:border-red-800 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm"},[...t[3]||(t[3]=[e("span",{class:"text-sm font-medium text-red-700 dark:text-red-400"},"Clear",-1)])],8,me)):n==="backspace"?(o(),r("button",{key:2,type:"button",onClick:L,disabled:l.value||s.value.length===0,class:"aspect-square rounded-xl bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 active:scale-95 transition-all border border-gray-200 dark:border-gray-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center shadow-sm"},[...t[4]||(t[4]=[e("i",{class:"pi pi-arrow-left text-xl text-gray-700 dark:text-gray-200"},null,-1)])],8,be)):c("",!0):(o(),r("button",{key:0,type:"button",onClick:ke=>V(n),disabled:l.value,class:"aspect-square rounded-xl bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 active:scale-95 transition-all border border-gray-200 dark:border-gray-600 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm"},[e("span",ge,u(n),1)],8,ue))],64))),128))],64))),64))]),d(p(N),{type:"submit",loading:l.value,disabled:l.value||s.value.length<4,class:"w-full justify-center",size:"large"},{default:w(()=>[l.value?c("",!0):(o(),r("i",ye)),t[5]||(t[5]=e("span",null,"Verify PIN",-1))]),_:1},8,["loading","disabled"]),e("div",pe,[d(p(N),{type:"button",onClick:F,disabled:l.value,severity:"secondary",outlined:"",class:"w-full justify-center"},{default:w(()=>[...t[6]||(t[6]=[e("i",{class:"pi pi-times mr-2"},null,-1),e("span",null,"Cancel",-1)])]),_:1},8,["disabled"]),d(p(N),{type:"button",onClick:q,severity:"danger",outlined:"",class:"w-full justify-center"},{default:w(()=>[...t[7]||(t[7]=[e("i",{class:"pi pi-sign-out mr-2"},null,-1),e("span",null,"Sign Out",-1)])]),_:1})])],32),t[8]||(t[8]=e("div",{class:"mt-6 pt-6 border-t border-gray-100 dark:border-gray-700"},[e("div",{class:"flex items-start gap-3 p-4 bg-amber-50 dark:bg-amber-900/20 rounded-xl border border-amber-200 dark:border-amber-800"},[e("i",{class:"pi pi-exclamation-triangle text-amber-600 dark:text-amber-400 mt-0.5 flex-shrink-0"}),e("div",{class:"text-sm text-amber-800 dark:text-amber-300"},[e("strong",null,"Security Notice:"),A(" Your transaction PIN is required to access your dashboard. If you've forgotten your PIN, please contact support. ")])])],-1))]),e("div",ve,[d(J,{textClass:"text-sm text-gray-500 dark:text-gray-400"})])])])])],64))}};export{je as default};
