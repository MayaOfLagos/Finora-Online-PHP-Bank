import{s as z,j as v,c as r,o,d as l,a as e,n as Y,u as i,F as g,r as P,b,e as x,t as p,y as O,w as N,i as A,z as G,p as S}from"./app-pKJNfMRl.js";import{u as H}from"./useToast-Clsx83_F.js";import{a as I}from"./index-0Wu5cDGM.js";import{s as n}from"./index-BX7aPWpF.js";import{_ as J}from"./SeoHead-ChAvh1iH.js";import{_ as K}from"./CopyrightText-BgjqrfdI.js";import{_ as Q}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css            */import"./index-C89qVnDF.js";const R={class:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50 dark:from-gray-950 dark:via-gray-900 dark:to-slate-950 flex flex-col transition-colors duration-300"},U={class:"w-full py-4 px-6"},W={class:"max-w-md mx-auto flex justify-end"},X=["title"],Z={class:"flex-1 flex items-center justify-center px-4 pb-8"},ee={class:"w-full max-w-md"},te={key:0,class:"animate-pulse"},ae={class:"text-center mb-8"},se={class:"inline-flex items-center justify-center mb-6"},re={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 space-y-6"},oe={class:"bg-gray-50 dark:bg-gray-900/50 rounded-xl p-6 border border-gray-200 dark:border-gray-700"},le={class:"grid grid-cols-3 gap-3"},ie={key:1,class:"animate-fade-in"},de={class:"text-center mb-8"},ne={class:"inline-flex items-center justify-center mb-6"},ce=["src","alt"],ue=["src","alt"],ge={key:2,class:"flex items-center gap-3"},me={class:"text-2xl font-bold text-gray-900 dark:text-white"},be={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl shadow-gray-200/50 dark:shadow-none border border-gray-100 dark:border-gray-700 p-8 transition-colors duration-300"},pe={class:"bg-gray-50 dark:bg-gray-900/50 rounded-xl p-6 border border-gray-200 dark:border-gray-700"},ye={class:"text-center"},he={class:"text-4xl font-mono tracking-[0.5em] text-gray-900 dark:text-white min-h-[3rem] flex items-center justify-center select-none"},ve={class:"text-xs text-gray-500 dark:text-gray-400 mt-3"},xe={class:"grid grid-cols-3 gap-3"},ke=["onClick","disabled"],fe={class:"text-2xl font-semibold text-gray-900 dark:text-white"},_e=["disabled"],we=["disabled"],Pe={key:0,class:"pi pi-check mr-2"},Ne={class:"grid grid-cols-2 gap-3"},Ie={class:"mt-8 text-center"},C=6,Ce={__name:"VerifyPin",setup(je){const y=G(),k=H(),f=x(()=>{var a,t,u,h;return((t=(a=y.props.settings)==null?void 0:a.general)==null?void 0:t.site_name)||((h=(u=y.props.settings)==null?void 0:u.general)==null?void 0:h.app_name)||"Finora Bank"}),_=x(()=>{var a,t;return(t=(a=y.props.settings)==null?void 0:a.branding)==null?void 0:t.logo_light}),w=x(()=>{var a,t;return(t=(a=y.props.settings)==null?void 0:a.branding)==null?void 0:t.logo_dark}),j=v(!0),c=v(!1);z(()=>{const a=localStorage.getItem("theme");(a==="dark"||!a&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&(c.value=!0,document.documentElement.classList.add("dark")),setTimeout(()=>{j.value=!1},300)});const V=()=>{c.value=!c.value,c.value?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},s=v(""),d=v(!1),L=x(()=>"•".repeat(s.value.length).padEnd(C,"·")),E=a=>{s.value.length<C&&(s.value+=a)},D=()=>{s.value=""},F=()=>{s.value.length>0&&(s.value=s.value.slice(0,-1))},q=()=>{if(s.value.length<4){k.warn("PIN must be at least 4 digits.","Invalid PIN");return}d.value=!0,S.post(route("verify-pin.verify"),{pin:s.value},{onError:a=>{k.error(a.pin||"Invalid PIN code. Please try again.","Verification Failed"),s.value=""},onFinish:()=>{d.value=!1}})},M=()=>{s.value="",k.info("PIN entry cancelled.","Cancelled")},B=()=>{S.post(route("logout"))},T=[["1","2","3"],["4","5","6"],["7","8","9"],["clear","0","backspace"]];return(a,t)=>(o(),r(g,null,[l(J,{title:"Verify PIN"}),e("div",R,[e("div",U,[e("div",W,[e("button",{onClick:V,class:"p-2.5 rounded-xl bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-200 shadow-sm hover:shadow-md",title:c.value?"Switch to light mode":"Switch to dark mode"},[e("i",{class:Y([c.value?"pi pi-sun":"pi pi-moon","text-lg"])},null,2)],8,X)])]),e("div",Z,[e("div",ee,[j.value?(o(),r("div",te,[e("div",ae,[e("div",se,[l(i(n),{width:"3.5rem",height:"3.5rem",class:"rounded-xl"})]),l(i(n),{width:"50%",height:"2rem",class:"mx-auto mb-2"}),l(i(n),{width:"70%",height:"1rem",class:"mx-auto"})]),e("div",re,[e("div",oe,[l(i(n),{width:"70%",height:"3rem",class:"mx-auto"}),l(i(n),{width:"30%",height:"0.75rem",class:"mx-auto mt-3"})]),e("div",le,[(o(),r(g,null,P(12,u=>l(i(n),{key:u,class:"aspect-square rounded-xl"})),64))]),l(i(n),{height:"3rem",class:"w-full"})])])):(o(),r("div",ie,[e("div",de,[e("div",ne,[_.value?(o(),r("img",{key:0,src:_.value,alt:f.value,class:"h-14 w-auto dark:hidden"},null,8,ce)):b("",!0),w.value?(o(),r("img",{key:1,src:w.value,alt:f.value,class:"h-14 w-auto hidden dark:block"},null,8,ue)):b("",!0),!_.value&&!w.value?(o(),r("div",ge,[t[0]||(t[0]=e("div",{class:"w-12 h-12 bg-gradient-to-br from-primary-600 to-primary-700 rounded-xl flex items-center justify-center shadow-lg shadow-primary-500/25"},[e("span",{class:"text-2xl font-bold text-white"},"F")],-1)),e("span",me,p(f.value),1)])):b("",!0)]),t[1]||(t[1]=e("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white mb-2"}," Enter Your PIN ",-1)),t[2]||(t[2]=e("p",{class:"text-gray-500 dark:text-gray-400"}," Please enter your transaction PIN to continue ",-1))]),e("div",be,[e("form",{onSubmit:O(q,["prevent"]),class:"space-y-6"},[e("div",pe,[e("div",ye,[e("div",he,p(L.value),1),e("div",ve,p(s.value.length)+" / "+p(C)+" digits ",1)])]),e("div",xe,[(o(),r(g,null,P(T,(u,h)=>(o(),r(g,{key:h},[(o(!0),r(g,null,P(u,(m,$)=>(o(),r(g,{key:$},[isNaN(m)?m==="clear"?(o(),r("button",{key:1,type:"button",onClick:D,disabled:d.value||s.value.length===0,class:"aspect-square rounded-xl bg-red-50 dark:bg-red-900/20 hover:bg-red-100 dark:hover:bg-red-900/40 active:scale-95 transition-all border border-red-200 dark:border-red-800 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm"},[...t[3]||(t[3]=[e("span",{class:"text-sm font-medium text-red-700 dark:text-red-400"},"Clear",-1)])],8,_e)):m==="backspace"?(o(),r("button",{key:2,type:"button",onClick:F,disabled:d.value||s.value.length===0,class:"aspect-square rounded-xl bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 active:scale-95 transition-all border border-gray-200 dark:border-gray-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center shadow-sm"},[...t[4]||(t[4]=[e("i",{class:"pi pi-arrow-left text-xl text-gray-700 dark:text-gray-200"},null,-1)])],8,we)):b("",!0):(o(),r("button",{key:0,type:"button",onClick:Se=>E(m),disabled:d.value,class:"aspect-square rounded-xl bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 active:scale-95 transition-all border border-gray-200 dark:border-gray-600 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm"},[e("span",fe,p(m),1)],8,ke))],64))),128))],64))),64))]),l(i(I),{type:"submit",loading:d.value,disabled:d.value||s.value.length<4,class:"w-full justify-center",size:"large"},{default:N(()=>[d.value?b("",!0):(o(),r("i",Pe)),t[5]||(t[5]=e("span",null,"Verify PIN",-1))]),_:1},8,["loading","disabled"]),e("div",Ne,[l(i(I),{type:"button",onClick:M,disabled:d.value,severity:"secondary",outlined:"",class:"w-full justify-center"},{default:N(()=>[...t[6]||(t[6]=[e("i",{class:"pi pi-times mr-2"},null,-1),e("span",null,"Cancel",-1)])]),_:1},8,["disabled"]),l(i(I),{type:"button",onClick:B,severity:"danger",outlined:"",class:"w-full justify-center"},{default:N(()=>[...t[7]||(t[7]=[e("i",{class:"pi pi-sign-out mr-2"},null,-1),e("span",null,"Sign Out",-1)])]),_:1})])],32),t[8]||(t[8]=e("div",{class:"mt-6 pt-6 border-t border-gray-100 dark:border-gray-700"},[e("div",{class:"flex items-start gap-3 p-4 bg-amber-50 dark:bg-amber-900/20 rounded-xl border border-amber-200 dark:border-amber-800"},[e("i",{class:"pi pi-exclamation-triangle text-amber-600 dark:text-amber-400 mt-0.5 flex-shrink-0"}),e("div",{class:"text-sm text-amber-800 dark:text-amber-300"},[e("strong",null,"Security Notice:"),A(" Your transaction PIN is required to access your dashboard. If you've forgotten your PIN, please contact support. ")])])],-1))])])),e("div",Ie,[l(K,{textClass:"text-sm text-gray-500 dark:text-gray-400"})])])])])],64))}},$e=Q(Ce,[["__scopeId","data-v-19b40bc8"]]);export{$e as default};
