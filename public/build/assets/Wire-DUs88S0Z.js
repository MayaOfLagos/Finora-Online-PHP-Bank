import{k as ve,y as ye,j as k,C as xe,A as ge,c as o,d as n,u as r,p as be,w as y,a as e,s as W,i as g,h as Y,b as c,o as l,F as E,r as L,n as h,t as i,e as j,S as ke,x as _e,q as $}from"./app-NYJQ16ZM.js";import{a as C}from"./index-JtQQzfX7.js";import{s as te}from"./index-BS4iiqgE.js";import{s as he}from"./index-JG6u14xs.js";import{s as se}from"./index-Bb-lJvu1.js";import{s as ae}from"./index-CeJCNYwZ.js";import{s as re}from"./index-C7Vz9msb.js";import{s as le}from"./index-Czw3LfWM.js";import{s as oe}from"./index-B-I3Lrw9.js";import{s as z}from"./index-BxReRzVQ.js";import{s as R}from"./index-CmhYDPCO.js";import{s as we}from"./index-Br3cCQeH.js";import{D as Te}from"./DashboardLayout-yItA0kgO.js";import{_ as Ve}from"./PinInput-DKVi15D7.js";import{O as Ce}from"./OtpInput-HtmKV0I7.js";import{u as Se}from"./useCurrency-0zMdEeak.js";import{_ as je}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css            */import"./index-DBKJLPTK.js";import"./index-ByZGLuQ1.js";import"./index-z0fS19z9.js";import"./index-CUV_yM3I.js";import"./index-D3dyixap.js";import"./index-Ba_rauDu.js";import"./AppLogo-D4YXTwGJ.js";import"./index-B1dAsWOc.js";const Fe={class:"max-w-3xl mx-auto"},Pe={class:"max-w-3xl mx-auto"},Ee={class:"mb-4"},Ie={class:"space-y-6"},Oe={class:"space-y-3"},Ne=["onClick"],$e={class:"flex items-center justify-between"},Ue={class:"flex items-center gap-3"},Ae={class:"font-medium text-gray-900 dark:text-white"},qe={class:"text-sm text-gray-500 dark:text-gray-400"},Me={class:"text-right"},De={key:0,class:"mt-2 text-red-500 block"},We={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},Le={key:0},Re={class:"block mb-2 text-sm font-medium text-gray-700 dark:text-gray-300"},Be={key:0,class:"text-red-500"},Ye={key:0,class:"text-gray-500"},ze={key:1,class:"block mt-1 text-red-500"},Je={key:1},Ke={class:"block mb-2 text-sm font-medium text-gray-700 dark:text-gray-300"},Ge={key:0,class:"text-red-500"},He={key:0,class:"text-gray-500"},Qe={key:1,class:"block mt-1 text-red-500"},Xe={key:2},Ze={class:"block mb-2 text-sm font-medium text-gray-700 dark:text-gray-300"},et={key:0,class:"text-red-500"},tt={key:0,class:"text-gray-500"},st={key:1,class:"block mt-1 text-red-500"},at={key:3},rt={class:"block mb-2 text-sm font-medium text-gray-700 dark:text-gray-300"},lt={key:0,class:"text-red-500"},ot={key:0,class:"text-gray-500"},it={key:1,class:"block mt-1 text-red-500"},nt={key:0,class:"text-red-500"},ut={key:1,class:"text-gray-500"},dt={class:"mt-4"},ct={class:"space-y-3"},mt={class:"flex items-center justify-between w-full"},pt={class:"font-semibold text-gray-900 dark:text-white ml-4 text-right"},ft={class:"flex items-center justify-between w-full"},vt={class:"text-gray-900 dark:text-white ml-4 text-right"},yt={class:"flex items-center justify-between w-full pt-1"},xt={class:"text-primary-600 dark:text-primary-400 font-bold text-base ml-4 text-right"},gt={class:"flex justify-end gap-3 pt-4"},bt={class:"space-y-6"},kt={class:"p-4 rounded-lg bg-gray-50 dark:bg-gray-800"},_t={class:"space-y-3"},ht={class:"flex justify-between py-2 border-b border-gray-200 dark:border-gray-700"},wt={class:"font-medium text-gray-900 dark:text-white"},Tt={class:"text-gray-600 dark:text-gray-400"},Vt={class:"font-medium text-gray-900 dark:text-white"},Ct={class:"flex justify-between py-2 border-b border-gray-200 dark:border-gray-700"},St={class:"font-medium text-gray-900 dark:text-white"},jt={key:0,class:"flex justify-between py-2 border-b border-gray-200 dark:border-gray-700"},Ft={class:"font-medium text-gray-900 dark:text-white"},Pt={class:"p-4 border-2 border-orange-200 rounded-lg bg-orange-50 dark:bg-orange-900/20 dark:border-orange-800"},Et={class:"space-y-3"},It={class:"flex items-center justify-between w-full"},Ot={class:"font-semibold text-gray-900 dark:text-white ml-4 text-right"},Nt={class:"flex items-center justify-between w-full"},$t={class:"text-gray-900 dark:text-white ml-4 text-right"},Ut={class:"flex items-center justify-between w-full pt-1"},At={class:"text-orange-600 dark:text-orange-400 font-bold text-base ml-4 text-right"},qt={class:"p-4 rounded-lg bg-blue-50 dark:bg-blue-900/20"},Mt={class:"mt-2 ml-4 text-sm text-blue-700 list-disc dark:text-blue-400"},Dt={key:0},Wt={key:1},Lt={key:2},Rt={key:3},Bt={class:"confetti-container","aria-hidden":"true"},Yt={class:"mb-4"},zt={class:"py-8 text-center"},Jt={key:0,class:"relative max-w-md p-4 mx-auto mb-6 text-left rounded-lg bg-gray-50 dark:bg-gray-800"},Kt={class:"space-y-2"},Gt={class:"flex justify-between"},Ht={class:"font-mono font-medium"},Qt={class:"flex justify-between"},Xt={class:"font-medium"},Zt={class:"flex justify-between"},es={class:"font-medium"},ts={class:"flex justify-center gap-3"},ss={class:"mb-6"},as={class:"mt-2 text-xs text-center text-gray-500"},rs={key:0,class:"py-4"},ls={class:"mb-6 text-center"},os={class:"text-sm text-gray-600 dark:text-gray-400"},is={class:"flex justify-center mt-6"},ns={key:1,class:"py-4"},us={class:"mb-6 text-center"},ds={class:"text-sm text-gray-600 dark:text-gray-400"},cs={class:"max-w-xs mx-auto"},ms={class:"flex justify-center mt-6"},ps={key:2,class:"py-4"},fs={class:"flex justify-center mt-6"},vs={class:"pt-4 mt-4 text-center border-t border-gray-200 dark:border-gray-700"},ys={__name:"Wire",props:{accounts:{type:Array,default:()=>[]},transferLimits:{type:Object,default:()=>({daily:1e5,perTransaction:5e4})},fees:{type:Object,default:()=>({flat:25,percentage:.5})},verificationConfig:{type:Object,default:()=>({requiresOtp:!0,hasTransferCodes:!1,requiredCodes:[]})},beneficiaryFields:{type:Array,default:()=>[]},countries:{type:Object,default:()=>({})}},setup(F){const x=F,ie=ge(),p=ve(),{formatCurrency:w}=Se(),d=k({from_account_id:null,amount:null,remarks:""}),f=k({});ye(()=>{x.beneficiaryFields.forEach(a=>{f.value[a.key]=""})});const U=k(!1),I=k(!1),_=k("pin"),v=k(!1),A=k(!1),P=k(null),T=k(null),m=k({}),O=k(""),S=k(""),N=k(""),J=[{label:"Transfer Details",icon:"pi pi-file-edit"},{label:"Complete",icon:"pi pi-check-circle"}],q=j(()=>x.accounts.find(a=>a.id===d.value.from_account_id)),V=j(()=>{var a;return((a=q.value)==null?void 0:a.currency)||"USD"}),M=j(()=>d.value.amount?x.fees.flat+d.value.amount*x.fees.percentage/100:0),D=j(()=>d.value.amount?d.value.amount+M.value:0),K=j(()=>{if(!d.value.from_account_id||!d.value.amount||d.value.amount<=0||d.value.amount>x.transferLimits.perTransaction||q.value&&D.value*100>q.value.balance)return!1;for(const a of x.beneficiaryFields)if(a.required&&!f.value[a.key])return!1;return!0}),ne=j(()=>({pin:"Enter Transaction PIN",imf:"IMF Verification Code",tax:"Tax Clearance Code",cot:"COT Verification Code",otp:"Email Verification"})[_.value]||"Verification"),G=j(()=>({pin:"Enter your 6-digit transaction PIN to continue",imf:"Enter your International Monetary Fund verification code",tax:"Enter your Tax clearance verification code",cot:"Enter your Cost of Transfer verification code",otp:"Enter the 6-digit code sent to your email"})[_.value]||""),ue=j(()=>{const a=B();return(a.indexOf(_.value)+1)/a.length*100}),B=()=>{const a=["pin"];return x.verificationConfig.hasTransferCodes&&x.verificationConfig.requiredCodes.forEach(s=>{a.push(s)}),x.verificationConfig.requiresOtp&&a.push("otp"),a},de=()=>{K.value&&(U.value=!0)},ce=()=>{U.value=!1},me=()=>{v.value=!0,m.value={};const a={...d.value,amount:Math.round((d.value.amount||0)*100),...f.value};console.log("Wire Transfer Payload:",JSON.stringify(a,null,2)),$.post(route("transfers.wire.initiate"),a,{preserveScroll:!0,onSuccess:s=>{const t=s.props.flash;t!=null&&t.success&&(t!=null&&t.transfer?T.value=t.transfer:T.value={uuid:"temp-"+Date.now(),reference:"pending",amount:d.value.amount,fee:M.value,total:D.value},U.value=!1,I.value=!0,_.value="pin",p.add({severity:"success",summary:"Transfer Initiated",detail:t.success,life:3e3}))},onError:s=>{console.error("Wire Transfer Errors:",JSON.stringify(s,null,2)),m.value=s,p.add({severity:"error",summary:"Error",detail:s.general||"Failed to initiate transfer",life:5e3})},onFinish:()=>{v.value=!1}})},H=a=>{var s;if(a.length!==6){p.add({severity:"error",summary:"Invalid PIN",detail:"Please enter your 6-digit PIN",life:3e3});return}if(!((s=T.value)!=null&&s.uuid)){p.add({severity:"error",summary:"Error",detail:"Transfer data not available",life:3e3});return}v.value=!0,$.post(route("transfers.wire.verify-pin",{wireTransfer:T.value.uuid}),{pin:a},{preserveScroll:!0,onSuccess:t=>{const u=t.props.flash;console.log("PIN Verified - Flash response:",u),console.log("Next step:",u==null?void 0:u.nextStep),u!=null&&u.nextStep?ee(u.nextStep):console.warn("No nextStep in response, staying on PIN step"),p.add({severity:"success",summary:"PIN Verified",detail:"Your PIN has been verified",life:2e3})},onError:t=>{p.add({severity:"error",summary:"Verification Failed",detail:t.pin||"Invalid PIN",life:3e3}),O.value=""},onFinish:()=>{v.value=!1}})},Q=(a,s)=>{if(!a){p.add({severity:"error",summary:"Invalid Code",detail:`Please enter your ${s.toUpperCase()} code`,life:3e3});return}v.value=!0,$.post(route("transfers.wire.verify-code",{wireTransfer:T.value.uuid}),{code_type:s,code:a},{preserveScroll:!0,onSuccess:t=>{const u=t.props.flash;u!=null&&u.nextStep&&ee(u.nextStep),p.add({severity:"success",summary:"Code Verified",detail:`${s.toUpperCase()} code has been verified`,life:2e3}),S.value=""},onError:t=>{p.add({severity:"error",summary:"Verification Failed",detail:t.code||"Invalid code",life:3e3}),S.value=""},onFinish:()=>{v.value=!1}})},X=()=>{v.value=!0,$.post(route("transfers.wire.request-otp",{wireTransfer:T.value.uuid}),{},{preserveScroll:!0,onSuccess:a=>{var t;const s=((t=a.props.flash)==null?void 0:t.success)||"A verification code has been sent to your email";p.add({severity:"success",summary:"OTP Sent",detail:s,life:5e3})},onError:a=>{p.add({severity:"error",summary:"Error",detail:a.general||"Failed to send OTP",life:3e3})},onFinish:()=>{v.value=!1}})},Z=a=>{if(a.length!==6){p.add({severity:"error",summary:"Invalid OTP",detail:"Please enter the 6-digit code",life:3e3});return}v.value=!0,$.post(route("transfers.wire.verify-otp",{wireTransfer:T.value.uuid}),{otp:a},{preserveScroll:!0,onSuccess:s=>{const t=s.props.flash;t!=null&&t.transfer&&(P.value=t.transfer,A.value=!0,I.value=!1,p.add({severity:"success",summary:"Transfer Submitted",detail:"Your wire transfer has been submitted for processing",life:5e3}))},onError:s=>{p.add({severity:"error",summary:"Verification Failed",detail:s.otp||"Invalid OTP",life:3e3}),N.value=""},onFinish:()=>{v.value=!1}})},ee=a=>{if(console.log("Moving to next step:",a),a==="completed"){console.log("Transfer verification complete - calling completeTransfer"),pe();return}_.value=a,a==="otp"&&X()},pe=()=>{var a;if(!((a=T.value)!=null&&a.uuid)){p.add({severity:"error",summary:"Error",detail:"Transfer data not available",life:3e3});return}v.value=!0,$.post(route("transfers.wire.complete",{wireTransfer:T.value.uuid}),{},{preserveScroll:!0,onSuccess:s=>{const t=s.props.flash;console.log("Transfer completed:",t),t!=null&&t.transfer&&(P.value=t.transfer),A.value=!0,I.value=!1,p.add({severity:"success",summary:"Transfer Complete",detail:(t==null?void 0:t.success)||"Your transfer has been submitted successfully",life:5e3})},onError:s=>{p.add({severity:"error",summary:"Transfer Failed",detail:s.general||"Failed to complete transfer",life:5e3})},onFinish:()=>{v.value=!1}})},fe=()=>{d.value={from_account_id:null,amount:null,remarks:""},f.value={},x.beneficiaryFields.forEach(a=>{f.value[a.key]=""}),currentStep.value=0,A.value=!1,P.value=null,T.value=null,O.value="",S.value="",N.value=""};return xe(()=>ie.props.flash,a=>{a!=null&&a.success&&!I.value&&p.add({severity:"success",summary:"Success",detail:a.success,life:3e3})},{immediate:!0}),(a,s)=>(l(),o(E,null,[n(r(be),{title:"Wire Transfer"}),n(Te,{title:"Wire Transfer"},{default:y(()=>[e("div",Fe,[n(r(W),{href:"/transfers",class:"inline-flex items-center gap-2 mb-6 text-sm text-gray-500 transition-colors hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"},{default:y(()=>[...s[11]||(s[11]=[e("i",{class:"pi pi-arrow-left"},null,-1),g(" Back to Transfers ",-1)])]),_:1}),s[12]||(s[12]=e("div",{class:"mb-6"},[e("div",{class:"flex items-center gap-3"},[e("div",{class:"flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br from-orange-500 to-orange-600"},[e("i",{class:"text-xl text-white pi pi-globe"})]),e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"}," Wire Transfer "),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Send money internationally via SWIFT network ")])])],-1))]),e("div",Pe,[A.value?c("",!0):(l(),Y(r(te),{key:0,class:"shadow-lg"},{title:y(()=>[e("div",Ee,[n(r(oe),{model:J,activeStep:0,readonly:!0,class:"custom-steps"})]),s[13]||(s[13]=e("div",{class:"flex items-center gap-2 text-lg"},[e("i",{class:"pi pi-file-edit text-primary-500"}),g(" Transfer Details ")],-1))]),content:y(()=>[e("div",Ie,[e("div",null,[s[15]||(s[15]=e("label",{class:"block mb-3 text-sm font-medium text-gray-700 dark:text-gray-300"},[e("div",{class:"flex items-center gap-2"},[e("i",{class:"pi pi-wallet text-primary-600"}),g(" Select Source Account "),e("span",{class:"text-red-500"},"*")])],-1)),e("div",Oe,[(l(!0),o(E,null,L(x.accounts.filter(t=>t.is_active),t=>{var u;return l(),o("div",{key:t.id,onClick:b=>d.value.from_account_id=t.id,class:h(["p-4 transition-all duration-300 ease-in-out border-2 rounded-lg cursor-pointer",[d.value.from_account_id===t.id?"border-green-500 bg-green-50 dark:bg-green-900/20 shadow-md shadow-green-500/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"]])},[e("div",$e,[e("div",Ue,[e("div",{class:h(["flex items-center justify-center w-10 h-10 transition-all duration-300 rounded-full",[d.value.from_account_id===t.id?"bg-green-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-500"]])},[e("i",{class:h(["pi transition-all duration-300",[d.value.from_account_id===t.id?"pi-check":"pi-wallet"]])},null,2)],2),e("div",null,[e("p",Ae,i(((u=t.account_type)==null?void 0:u.name)||"Account"),1),e("p",qe," ****"+i(t.account_number.slice(-4))+" â€¢ "+i(t.currency||"USD"),1)])]),e("div",Me,[e("p",{class:h(["text-lg font-bold",[d.value.from_account_id===t.id?"text-green-600":"text-gray-900 dark:text-white"]])},i(r(w)(t.balance,t.currency)),3),s[14]||(s[14]=e("p",{class:"text-xs text-gray-500"},"Available",-1))])])],10,Ne)}),128))]),m.value.from_account_id?(l(),o("small",De,i(m.value.from_account_id),1)):c("",!0)]),n(r(R)),s[21]||(s[21]=e("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white"},"Beneficiary Information",-1)),e("div",We,[(l(!0),o(E,null,L(x.beneficiaryFields,t=>(l(),o("div",{key:t.key,class:h({"md:col-span-2":t.type==="textarea"})},[t.type==="text"?(l(),o("div",Le,[e("label",Re,[g(i(t.label)+" ",1),t.required?(l(),o("span",Be,"*")):c("",!0)]),n(r(se),{modelValue:f.value[t.key],"onUpdate:modelValue":u=>f.value[t.key]=u,placeholder:t.placeholder||`Enter ${t.label.toLowerCase()}`,class:h(["w-full",{"p-invalid":m.value[t.key]}])},null,8,["modelValue","onUpdate:modelValue","placeholder","class"]),t.helperText?(l(),o("small",Ye,i(t.helperText),1)):c("",!0),m.value[t.key]?(l(),o("small",ze,i(m.value[t.key]),1)):c("",!0)])):t.type==="textarea"?(l(),o("div",Je,[e("label",Ke,[g(i(t.label)+" ",1),t.required?(l(),o("span",Ge,"*")):c("",!0)]),n(r(re),{modelValue:f.value[t.key],"onUpdate:modelValue":u=>f.value[t.key]=u,placeholder:t.placeholder||`Enter ${t.label.toLowerCase()}`,rows:3,class:h(["w-full",{"p-invalid":m.value[t.key]}])},null,8,["modelValue","onUpdate:modelValue","placeholder","class"]),t.helperText?(l(),o("small",He,i(t.helperText),1)):c("",!0),m.value[t.key]?(l(),o("small",Qe,i(m.value[t.key]),1)):c("",!0)])):t.type==="select"?(l(),o("div",Xe,[e("label",Ze,[g(i(t.label)+" ",1),t.required?(l(),o("span",et,"*")):c("",!0)]),n(r(ae),{modelValue:f.value[t.key],"onUpdate:modelValue":u=>f.value[t.key]=u,options:Object.entries(t.options||{}).map(([u,b])=>({label:b,value:u})),optionLabel:"label",optionValue:"value",placeholder:t.placeholder||`Select ${t.label.toLowerCase()}`,class:h(["w-full",{"p-invalid":m.value[t.key]}])},null,8,["modelValue","onUpdate:modelValue","options","placeholder","class"]),t.helperText?(l(),o("small",tt,i(t.helperText),1)):c("",!0),m.value[t.key]?(l(),o("small",st,i(m.value[t.key]),1)):c("",!0)])):t.type==="country"?(l(),o("div",at,[e("label",rt,[g(i(t.label)+" ",1),t.required?(l(),o("span",lt,"*")):c("",!0)]),n(r(ae),{modelValue:f.value[t.key],"onUpdate:modelValue":u=>f.value[t.key]=u,options:Object.entries(x.countries||{}).map(([u,b])=>({label:b,value:u})),optionLabel:"label",optionValue:"value",placeholder:t.placeholder||"Select country",filter:"",class:h(["w-full",{"p-invalid":m.value[t.key]}])},null,8,["modelValue","onUpdate:modelValue","options","placeholder","class"]),t.helperText?(l(),o("small",ot,i(t.helperText),1)):c("",!0),m.value[t.key]?(l(),o("small",it,i(m.value[t.key]),1)):c("",!0)])):c("",!0)],2))),128))]),n(r(R)),s[22]||(s[22]=e("h3",{class:"text-lg font-semibold text-gray-800 dark:text-white"},"Transfer Amount",-1)),e("div",null,[s[16]||(s[16]=e("label",{class:"block mb-2 text-sm font-medium text-gray-700 dark:text-gray-300"},[g(" Amount "),e("span",{class:"text-red-500"},"*")],-1)),n(r(he),{modelValue:d.value.amount,"onUpdate:modelValue":s[0]||(s[0]=t=>d.value.amount=t),mode:"currency",currency:V.value,locale:"en-US",placeholder:"0.00",class:h(["w-full",{"p-invalid":m.value.amount}]),min:1,max:F.transferLimits.perTransaction},null,8,["modelValue","currency","max","class"]),m.value.amount?(l(),o("small",nt,i(m.value.amount),1)):(l(),o("small",ut," Max: "+i(r(w)(F.transferLimits.perTransaction,V.value))+" per transaction ",1))]),e("div",dt,[s[17]||(s[17]=e("label",{class:"block mb-2 text-sm font-medium text-gray-700 dark:text-gray-300"}," Remarks ",-1)),n(r(re),{modelValue:d.value.remarks,"onUpdate:modelValue":s[1]||(s[1]=t=>d.value.remarks=t),placeholder:"Provide details about this transfer",rows:3,class:h(["w-full",{"p-invalid":m.value.remarks}])},null,8,["modelValue","class"])]),d.value.amount?(l(),Y(r(z),{key:0,severity:"info",closable:!1,class:"mt-4"},{default:y(()=>[e("div",ct,[e("div",mt,[s[18]||(s[18]=e("span",{class:"text-gray-700 dark:text-gray-300 font-medium"},"Transfer Amount",-1)),e("span",pt,i(r(w)(Math.round((d.value.amount||0)*100),V.value)),1)]),e("div",ft,[s[19]||(s[19]=e("span",{class:"text-gray-700 dark:text-gray-300 font-medium"},"Transfer Fee",-1)),e("span",vt,i(r(w)(Math.round((M.value||0)*100),V.value)),1)]),n(r(R),{class:"my-2"}),e("div",yt,[s[20]||(s[20]=e("span",{class:"text-gray-900 dark:text-white font-bold text-base"},"Total Amount",-1)),e("span",xt,i(r(w)(Math.round((D.value||0)*100),V.value)),1)])])]),_:1})):c("",!0),e("div",gt,[n(r(W),{href:"/transfers"},{default:y(()=>[n(r(C),{label:"Cancel",severity:"secondary",outlined:""})]),_:1}),n(r(C),{label:"Review Transfer",icon:"pi pi-check",iconPos:"right",disabled:!K.value,onClick:de},null,8,["disabled"])])])]),_:1})),n(r(le),{visible:U.value,"onUpdate:visible":s[2]||(s[2]=t=>U.value=t),modal:"",header:"Review Transfer",style:{width:"90%",maxWidth:"600px"}},{footer:y(()=>[n(r(C),{label:"Cancel",icon:"pi pi-times",text:"",onClick:ce}),n(r(C),{label:"Proceed to Verify",icon:"pi pi-shield",loading:v.value,onClick:me},null,8,["loading"])]),default:y(()=>{var t,u;return[e("div",bt,[e("div",kt,[s[26]||(s[26]=e("h4",{class:"mb-4 font-semibold text-gray-800 dark:text-white"},"Transfer Summary",-1)),e("div",_t,[e("div",ht,[s[23]||(s[23]=e("span",{class:"text-gray-600 dark:text-gray-400"},"From Account",-1)),e("span",wt," ****"+i((u=(t=q.value)==null?void 0:t.account_number)==null?void 0:u.slice(-4)),1)]),(l(!0),o(E,null,L(x.beneficiaryFields.filter(b=>f.value[b.key]),b=>(l(),o("div",{key:b.key,class:"flex justify-between py-2 border-b border-gray-200 dark:border-gray-700"},[e("span",Tt,i(b.label),1),e("span",Vt,[b.type==="country"?(l(),o(E,{key:0},[g(i(x.countries[f.value[b.key]]||f.value[b.key]),1)],64)):(l(),o(E,{key:1},[g(i(f.value[b.key]),1)],64))])]))),128)),e("div",Ct,[s[24]||(s[24]=e("span",{class:"text-gray-600 dark:text-gray-400"},"Amount",-1)),e("span",St,i(r(w)(Math.round((d.value.amount||0)*100),V.value)),1)]),d.value.remarks?(l(),o("div",jt,[s[25]||(s[25]=e("span",{class:"text-gray-600 dark:text-gray-400"},"Remarks",-1)),e("span",Ft,i(d.value.remarks),1)])):c("",!0)])]),e("div",Pt,[e("div",Et,[e("div",It,[s[27]||(s[27]=e("span",{class:"text-gray-700 dark:text-gray-300 font-medium"},"Transfer Amount",-1)),e("span",Ot,i(r(w)(Math.round((d.value.amount||0)*100),V.value)),1)]),e("div",Nt,[s[28]||(s[28]=e("span",{class:"text-gray-700 dark:text-gray-300 font-medium"},"Wire Transfer Fee",-1)),e("span",$t,i(r(w)(Math.round((M.value||0)*100),V.value)),1)]),n(r(R),{class:"my-2"}),e("div",Ut,[s[29]||(s[29]=e("span",{class:"text-orange-600 dark:text-orange-400 font-bold text-base"},"Total Debit",-1)),e("span",At,i(r(w)(Math.round((D.value||0)*100),V.value)),1)])])]),n(r(z),{severity:"warn",closable:!1},{default:y(()=>[...s[30]||(s[30]=[e("div",{class:"flex items-center gap-2"},[e("i",{class:"pi pi-clock"}),e("span",null,[g("Wire transfers typically take "),e("strong",null,"3-5 business days"),g(" to process.")])],-1)])]),_:1}),e("div",qt,[s[32]||(s[32]=e("h4",{class:"flex items-center gap-2 mb-2 font-semibold text-blue-800 dark:text-blue-300"},[e("i",{class:"pi pi-shield"}),g(" Verification Steps ")],-1)),s[33]||(s[33]=e("p",{class:"text-sm text-blue-700 dark:text-blue-400"}," You will need to complete the following verification steps: ",-1)),e("ul",Mt,[s[31]||(s[31]=e("li",null,"Transaction PIN",-1)),F.verificationConfig.requiredCodes.includes("imf")?(l(),o("li",Dt,"IMF Verification Code")):c("",!0),F.verificationConfig.requiredCodes.includes("tax")?(l(),o("li",Wt,"Tax Clearance Code")):c("",!0),F.verificationConfig.requiredCodes.includes("cot")?(l(),o("li",Lt,"COT Verification Code")):c("",!0),F.verificationConfig.requiresOtp?(l(),o("li",Rt,"Email OTP")):c("",!0)])])])]}),_:1},8,["visible"]),A.value?(l(),Y(r(te),{key:1,class:"relative overflow-hidden shadow-lg"},{title:y(()=>[e("div",Yt,[n(r(oe),{model:J,activeStep:1,readonly:!0,class:"custom-steps"})])]),content:y(()=>[e("div",zt,[n(r(z),{severity:"success",closable:!1,class:"mb-4"},{default:y(()=>[...s[34]||(s[34]=[g(" Transfer Submitted. Your wire transfer has been submitted for processing. ",-1)])]),_:1}),s[39]||(s[39]=e("div",{class:"flex items-center justify-center w-20 h-20 mx-auto mb-6 rounded-full bg-green-100 dark:bg-green-900 animate-bounce"},[e("i",{class:"text-4xl text-green-600 pi pi-check dark:text-green-400"})],-1)),s[40]||(s[40]=e("h2",{class:"mb-2 text-2xl font-bold text-gray-900 dark:text-white"}," Transfer Submitted! ",-1)),s[41]||(s[41]=e("p",{class:"mb-6 text-gray-600 dark:text-gray-400"}," Your wire transfer has been submitted for processing ",-1)),P.value?(l(),o("div",Jt,[e("div",Kt,[e("div",Gt,[s[35]||(s[35]=e("span",{class:"text-gray-600 dark:text-gray-400"},"Reference",-1)),e("span",Ht,i(P.value.reference),1)]),e("div",Qt,[s[36]||(s[36]=e("span",{class:"text-gray-600 dark:text-gray-400"},"Amount",-1)),e("span",Xt,i(r(w)(P.value.amount,V.value)),1)]),e("div",Zt,[s[37]||(s[37]=e("span",{class:"text-gray-600 dark:text-gray-400"},"Beneficiary",-1)),e("span",es,i(P.value.beneficiary),1)]),s[38]||(s[38]=e("div",{class:"flex justify-between"},[e("span",{class:"text-gray-600 dark:text-gray-400"},"Status"),e("span",{class:"px-2 py-1 text-xs font-semibold text-blue-800 bg-blue-100 rounded-full dark:bg-blue-900 dark:text-blue-200"}," Processing ")],-1))])])):c("",!0),e("div",ts,[n(r(W),{href:"/transactions"},{default:y(()=>[n(r(C),{label:"View Transactions",severity:"secondary",outlined:""})]),_:1}),n(r(C),{label:"New Transfer",icon:"pi pi-plus",onClick:fe})])])]),default:y(()=>[e("div",Bt,[(l(),o(E,null,L(30,t=>e("span",{key:t,class:"confetti-piece",style:ke({"--i":t})},null,4)),64))])]),_:1})):c("",!0)]),n(r(le),{visible:I.value,"onUpdate:visible":s[10]||(s[10]=t=>I.value=t),header:ne.value,modal:"",closable:!1,style:{width:"450px"},class:"verification-dialog"},{default:y(()=>[e("div",ss,[n(r(we),{value:ue.value,showValue:!1,style:{height:"6px"}},null,8,["value"]),e("p",as," Step "+i(B().indexOf(_.value)+1)+" of "+i(B().length),1)]),_.value==="pin"?(l(),o("div",rs,[e("div",ls,[s[42]||(s[42]=e("div",{class:"flex items-center justify-center w-16 h-16 mx-auto mb-4 rounded-full bg-primary-100 dark:bg-primary-900"},[e("i",{class:"text-2xl pi pi-lock text-primary-600 dark:text-primary-400"})],-1)),e("p",os,i(G.value),1)]),n(Ve,{modelValue:O.value,"onUpdate:modelValue":s[3]||(s[3]=t=>O.value=t),length:6,masked:!0,label:"",onComplete:H},null,8,["modelValue"]),e("div",is,[n(r(C),{label:"Verify PIN",loading:v.value,disabled:O.value.length!==6,onClick:s[4]||(s[4]=t=>H(O.value))},null,8,["loading","disabled"])])])):c("",!0),["imf","tax","cot"].includes(_.value)?(l(),o("div",ns,[e("div",us,[s[43]||(s[43]=e("div",{class:"flex items-center justify-center w-16 h-16 mx-auto mb-4 rounded-full bg-orange-100 dark:bg-orange-900"},[e("i",{class:"text-2xl pi pi-key text-orange-600 dark:text-orange-400"})],-1)),e("p",ds,i(G.value),1)]),e("div",cs,[n(r(se),{modelValue:S.value,"onUpdate:modelValue":s[5]||(s[5]=t=>S.value=t),placeholder:"Enter verification code",class:"w-full text-center",onKeyup:s[6]||(s[6]=_e(t=>Q(S.value,_.value),["enter"]))},null,8,["modelValue"])]),e("div",ms,[n(r(C),{label:`Verify ${_.value.toUpperCase()} Code`,loading:v.value,disabled:!S.value,onClick:s[7]||(s[7]=t=>Q(S.value,_.value))},null,8,["label","loading","disabled"])])])):c("",!0),_.value==="otp"?(l(),o("div",ps,[n(Ce,{modelValue:N.value,"onUpdate:modelValue":s[8]||(s[8]=t=>N.value=t),length:6,countdown:600,loading:v.value,onComplete:Z,onResend:X},null,8,["modelValue","loading"]),e("div",fs,[n(r(C),{label:"Verify & Complete Transfer",loading:v.value,disabled:N.value.length!==6,onClick:s[9]||(s[9]=t=>Z(N.value))},null,8,["loading","disabled"])])])):c("",!0),e("div",vs,[n(r(W),{href:"/transfers"},{default:y(()=>[n(r(C),{label:"Cancel Transfer",severity:"secondary",text:"",size:"small"})]),_:1})])]),_:1},8,["visible","header"])]),_:1})],64))}},Rs=je(ys,[["__scopeId","data-v-fcce4162"]]);export{Rs as default};
